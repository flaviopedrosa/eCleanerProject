{"version":3,"file":"imovel-DC67hqHE.js","sources":["../../../src/core/domain/enums/preferenciaContato.js","../../../src/core/domain/entities/avaliacao.js","../../../src/core/domain/entities/cliente.js","../../../src/core/domain/entities/imovel.js"],"sourcesContent":["/**\n * Enumerador para prefer\\u00eancias de contato\n * @readonly\n * @enum {string}\n */\nexport const PreferenciaContato = {\n  EMAIL: 'EMAIL',\n  CELULAR: 'CELULAR',\n  WHATSAPP: 'WHATSAPP',\n  TELEFONE: 'TELEFONE',\n}\n","/**\n * Classe que representa uma avalia\\u00e7\\u00e3o feita por um cliente.\n */\nexport class Avaliacao {\n  /**\n   * @param {number} nota - Nota de 0 a 5\n   * @param {string} comentario - Coment\\u00e1rio da avalia\\u00e7\\u00e3o\n   * @param {Date} data - Data da avalia\\u00e7\\u00e3o\n   */\n  constructor(nota, comentario, data = new Date()) {\n    if (nota < 0 || nota > 5) {\n      throw new Error('A nota deve estar entre 0 e 5')\n    }\n\n    this.Nota = nota\n    this.Comentario = comentario\n    this.Data = data\n  }\n}\n","import { Pessoa } from './pessoa'\nimport { PreferenciaContato } from '../enums/preferenciaContato'\nimport { Avaliacao } from './avaliacao'\n\n/**\n * Classe que representa um Cliente, estendendo a classe Pessoa.\n */\nexport class Cliente extends Pessoa {\n  /**\n   * @param {string} nome - Nome do cliente\n   * @param {string} sobrenome - Sobrenome do cliente\n   * @param {string} email - Email do cliente\n   * @param {string} celular - N\\u00famero do celular\n   * @param {string} telefone - N\\u00famero do telefone residencial\n   * @param {PreferenciaContato} preferenciaContato - Prefer\\u00eancia de contato\n   * @param {string} observacoes - Observa\\u00e7\\u00f5es gerais sobre o cliente\n   */\n  constructor(\n    nome,\n    sobrenome,\n    email,\n    celular,\n    telefone,\n    preferenciaContato = PreferenciaContato.WHATSAPP,\n    observacoes = '',\n  ) {\n    super(nome, sobrenome, email, telefone, celular)\n\n    this.PreferenciaContato = preferenciaContato\n    this.Observacoes = observacoes\n    /** @type {Avaliacao[]} */\n    this.Avaliacoes = []\n    /** @type {Imovel[]} */\n    this.Imoveis = []\n  }\n\n  /**\n   * Adiciona uma avalia\\u00e7\\u00e3o \\u00e0 lista de avalia\\u00e7\\u00f5es do cliente\n   * @param {Avaliacao} avaliacao - A avalia\\u00e7\\u00e3o a ser adicionada\n   */\n  adicionarAvaliacao(avaliacao) {\n    if (!(avaliacao instanceof Avaliacao)) {\n      throw new Error('A avaliação fornecida não é uma instância válida da classe Avaliacao')\n    }\n    this.Avaliacoes.push(avaliacao)\n  }\n\n  /**\n   * Adiciona um imóvel à lista de imóveis do cliente\n   * @param {*} imovel - O imóvel a ser adicionado\n   */\n  adicionarImovel(imovel) {\n    // Verificação simples do ID para evitar dependência circular\n    if (!imovel || !imovel.Id) {\n      throw new Error('O imóvel fornecido não é válido')\n    }\n    this.Imoveis.push(imovel)\n  }\n\n  /**\n   * Calcula a m\\u00e9dia das avalia\\u00e7\\u00f5es do cliente\n   * @returns {number} A m\\u00e9dia das avalia\\u00e7\\u00f5es ou 0 se n\\u00e3o houver avalia\\u00e7\\u00f5es\n   */\n  calcularMediaAvaliacoes() {\n    if (this.Avaliacoes.length === 0) {\n      return 0\n    }\n\n    const somaNotas = this.Avaliacoes.reduce((total, avaliacao) => total + avaliacao.Nota, 0)\n    return somaNotas / this.Avaliacoes.length\n  }\n\n  /**\n   * Retorna o nome completo do cliente\n   * @returns {string} O nome completo (nome + sobrenome)\n   */\n  get NomeCompleto() {\n    return `${this.Nome} ${this.Sobrenome}`\n  }\n}\n","import { gerarGuid } from '../utils/guid'\nimport { Endereco } from './endereco'\nimport { Pessoa } from './pessoa'\n\n/**\n * Classe que representa um Imóvel.\n */\nexport class Imovel {\n  /**\n   * @param {number} totalComodos - Número total de cômodos do imóvel\n   * @param {number} numeroQuartos - Número de quartos\n   * @param {number} numeroBanheiros - Número de banheiros\n   * @param {number} areaTotal - Área total do imóvel em metros quadrados\n   * @param {Endereco} endereco - Endereço do imóvel\n   * @param {Pessoa} dono - Dono do imóvel\n   * @param {string} observacao - Observações adicionais sobre o imóvel\n   * @param {Array} imagens - Lista de imagens do imóvel\n   */\n  constructor(\n    totalComodos,\n    numeroQuartos,\n    numeroBanheiros,\n    areaTotal,\n    endereco,\n    dono,\n    observacao = '',\n    imagens = [],\n  ) {\n    this.Id = gerarGuid()\n    this.TotalComodos = totalComodos\n    this.NumeroQuartos = numeroQuartos\n    this.NumeroBanheiros = numeroBanheiros\n    this.AreaTotal = areaTotal\n    this.Responsaveis = []\n    this.Imagens = Array.isArray(imagens) ? imagens : []\n\n    if (!(dono instanceof Pessoa)) {\n      throw new Error('O dono fornecido não é uma instância válida da classe Pessoa')\n    }\n\n    if (!(endereco instanceof Endereco)) {\n      throw new Error('O endereço fornecido não é uma instância válida da classe Endereco')\n    }\n\n    this.Dono = dono\n    this.Endereco = endereco\n    this.Observacao = observacao\n  }\n\n  /**\n   * Retorna o número de outros cômodos (exceto quartos e banheiros)\n   * @returns {number} O número de outros cômodos\n   */\n  get NumeroOutrosComodos() {\n    return this.TotalComodos - this.NumeroQuartos - this.NumeroBanheiros\n  }\n\n  /**\n   * Atualiza o endereço do imóvel\n   * @param {Endereco} novoEndereco - O novo endereço do imóvel\n   */\n  atualizarEndereco(novoEndereco) {\n    if (!(novoEndereco instanceof Endereco)) {\n      throw new Error('O endereço fornecido não é uma instância válida da classe Endereco')\n    }\n    this.Endereco = novoEndereco\n  }\n\n  /**\n   * Adiciona um responsável à lista de responsáveis pelo imóvel\n   * @param {Pessoa} responsavel - A pessoa a ser adicionada como responsável\n   */\n  adicionarResponsavel(responsavel) {\n    if (!(responsavel instanceof Pessoa)) {\n      throw new Error('O responsável fornecido não é uma instância válida da classe Pessoa')\n    }\n    if (!this.Responsaveis.includes(responsavel)) {\n      this.Responsaveis.push(responsavel)\n    }\n  }\n\n  /**\n   * Remove um responsável da lista de responsáveis pelo imóvel\n   * @param {Pessoa} responsavel - A pessoa a ser removida da lista de responsáveis\n   */\n  removerResponsavel(responsavel) {\n    const index = this.Responsaveis.indexOf(responsavel)\n    if (index > -1) {\n      this.Responsaveis.splice(index, 1)\n    }\n  }\n\n  /**\n   * Altera o dono do imóvel\n   * @param {Pessoa} novoDono - O novo dono do imóvel\n   */\n  alterarDono(novoDono) {\n    if (!(novoDono instanceof Pessoa)) {\n      throw new Error('O dono fornecido não é uma instância válida da classe Pessoa')\n    }\n    this.Dono = novoDono\n  }\n\n  /**\n   * Adiciona uma imagem à lista de imagens do imóvel\n   * @param {string|Object} imagem - URL da imagem ou objeto com dados da imagem\n   * @param {string} descricao - Descrição opcional da imagem\n   */\n  adicionarImagem(imagem, descricao = '') {\n    if (!imagem) {\n      throw new Error('A imagem é obrigatória')\n    }\n\n    const novaImagem = {\n      id: gerarGuid(),\n      url: typeof imagem === 'string' ? imagem : imagem.url || imagem.src,\n      nome: typeof imagem === 'object' ? imagem.name || imagem.nome : '',\n      descricao: descricao,\n      dataUpload: new Date().toISOString(),\n      tipo: typeof imagem === 'object' ? imagem.type || imagem.tipo : 'image/jpeg',\n      tamanho: typeof imagem === 'object' ? imagem.size || imagem.tamanho : null,\n    }\n\n    this.Imagens.push(novaImagem)\n  }\n\n  /**\n   * Remove uma imagem da lista de imagens do imóvel\n   * @param {string} imagemId - ID da imagem a ser removida\n   */\n  removerImagem(imagemId) {\n    const index = this.Imagens.findIndex((img) => img.id === imagemId)\n    if (index > -1) {\n      this.Imagens.splice(index, 1)\n    }\n  }\n\n  /**\n   * Atualiza a descrição de uma imagem\n   * @param {string} imagemId - ID da imagem\n   * @param {string} novaDescricao - Nova descrição da imagem\n   */\n  atualizarDescricaoImagem(imagemId, novaDescricao) {\n    const imagem = this.Imagens.find((img) => img.id === imagemId)\n    if (imagem) {\n      imagem.descricao = novaDescricao\n    }\n  }\n\n  /**\n   * Obtém uma imagem pelo ID\n   * @param {string} imagemId - ID da imagem\n   * @returns {Object|null} A imagem encontrada ou null\n   */\n  obterImagemPorId(imagemId) {\n    return this.Imagens.find((img) => img.id === imagemId) || null\n  }\n\n  /**\n   * Obtém todas as imagens do imóvel\n   * @returns {Array} Lista de todas as imagens\n   */\n  obterTodasImagens() {\n    return [...this.Imagens]\n  }\n\n  /**\n   * Verifica se o imóvel possui imagens\n   * @returns {boolean} True se possui imagens, false caso contrário\n   */\n  possuiImagens() {\n    return this.Imagens.length > 0\n  }\n\n  /**\n   * Obtém o número total de imagens\n   * @returns {number} Número total de imagens\n   */\n  get TotalImagens() {\n    return this.Imagens.length\n  }\n\n  /**\n   * Obtém a primeira imagem (imagem principal)\n   * @returns {Object|null} A primeira imagem ou null se não houver imagens\n   */\n  get ImagemPrincipal() {\n    return this.Imagens.length > 0 ? this.Imagens[0] : null\n  }\n}\n"],"names":[],"mappings":"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"}