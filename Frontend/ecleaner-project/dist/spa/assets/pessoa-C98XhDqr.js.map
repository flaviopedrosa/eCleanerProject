{"version":3,"file":"pessoa-C98XhDqr.js","sources":["../../../src/core/domain/entities/endereco.js","../../../src/core/domain/entities/pessoa.js"],"sourcesContent":["import { gerarGuid } from '../utils/guid'\n\n/**\n * Classe que representa um Endere\\u00e7o.\n */\nexport class Endereco {\n  /**\n   * @param {string} descricao - Descri\\u00e7\\u00e3o do endere\\u00e7o (ex: \"Casa\", \"Trabalho\").\n   * @param {string} logradouro - O nome da rua, avenida, etc.\n   * @param {string} numero - O n\\u00famero do im\\u00f3vel.\n   * @param {string} cep - O C\\u00f3digo de Endere\\u00e7amento Postal.\n   * @param {string} bairro - O bairro.\n   * @param {string} cidade - A cidade.\n   * @param {string} estado - O estado.\n   * @param {string} pais - O pa\\u00eds.\n   */\n  constructor(descricao, logradouro, numero, cep, bairro, cidade, estado, pais, complemento = '') {\n    this.Id = gerarGuid()\n    this.Descricao = descricao\n    this.Logradouro = logradouro\n    this.Numero = numero\n    this.Cep = cep\n    this.Bairro = bairro\n    this.Cidade = cidade\n    this.Estado = estado\n    this.Pais = pais\n    this.Complemento = complemento\n  }\n}\n","import { gerarGuid } from '../utils/guid'\nimport { Endereco } from './endereco'\n\n/**\n * Classe que representa uma Pessoa.\n */\nexport class Pessoa {\n  /**\n   * @param {string} nome - O primeiro nome da pessoa.\n   * @param {string} sobrenome - O sobrenome da pessoa.\n   * @param {string} email - O email da pessoa.\n   * @param {string} telefone - O telefone de contato.\n   * @param {string} celular - O número de celular.\n   */\n  constructor(nome, sobrenome, email, telefone, celular) {\n    this.Id = gerarGuid()\n\n    if (!this.validarEmail(email)) {\n      throw new Error('E-mail inválido')\n    }\n\n    this.Nome = nome\n    this.Sobrenome = sobrenome\n    this.Email = email\n    this.Telefone = telefone\n    this.Celular = celular\n    this.Foto = null // Base64 da foto ou URL\n    /** @type {Endereco|null} */\n    this.Endereco = null\n  }\n\n  /**\n   * Define o endereço da pessoa.\n   * @param {Endereco} endereco - A instância da classe Endereco a ser definida.\n   */\n  definirEndereco(endereco) {\n    if (endereco instanceof Endereco) {\n      this.Endereco = endereco\n    } else {\n      console.error('O objeto fornecido não é uma instância da classe Endereco.')\n    }\n  }\n\n  /**\n   * Remove o endereço da pessoa.\n   */\n  removerEndereco() {\n    this.Endereco = null\n  }\n\n  /**\n   * Define a foto da pessoa.\n   * @param {string} foto - A foto em formato base64 ou URL.\n   */\n  definirFoto(foto) {\n    this.Foto = foto\n  }\n\n  /**\n   * Remove a foto da pessoa.\n   */\n  removerFoto() {\n    this.Foto = null\n  }\n\n  /**\n   * @deprecated Use definirEndereco() em vez disso\n   * Adiciona um novo endereço (mantido para compatibilidade).\n   * @param {Endereco} endereco - A instância da classe Endereco a ser adicionada.\n   */\n  adicionarEndereco(endereco) {\n    this.definirEndereco(endereco)\n  }\n\n  /**\n   * Valida o formato do e-mail\n   * @param {string} email - O e-mail a ser validado\n   * @returns {boolean} true se o e-mail é válido, false caso contrário\n   */\n  validarEmail(email) {\n    if (!email || typeof email !== 'string') return false\n\n    // Remove espaços em branco no início e fim\n    email = email.trim()\n\n    // Verifica o comprimento total do email (máximo 254 caracteres)\n    if (email.length > 254) return false\n\n    // Verifica se tem exatamente um @\n    if ((email.match(/@/g) || []).length !== 1) return false\n\n    // Divide o email em local part e domain\n    const [localPart, domain] = email.split('@')\n\n    // Verifica o comprimento do local part (máximo 64 caracteres)\n    if (!localPart || localPart.length > 64) return false\n\n    // Verifica se não há pontos consecutivos\n    if (email.includes('..')) return false\n\n    // Verifica se não começa ou termina com ponto no local part\n    if (localPart.startsWith('.') || localPart.endsWith('.')) return false\n\n    // Verifica se os caracteres do local part são válidos\n    const localPartRegex = /^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+$/\n    if (!localPartRegex.test(localPart)) return false\n\n    // Verifica se o domínio não está vazio e tem formato válido\n    if (!domain) return false\n\n    // Verifica se o domínio tem pelo menos um ponto e não termina com ponto\n    if (!domain.includes('.') || domain.endsWith('.')) return false\n\n    // Regex para validar o formato do domínio\n    const domainRegex =\n      /^[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?)*$/\n    if (!domainRegex.test(domain)) return false\n\n    // Verifica se o TLD tem pelo menos 2 caracteres\n    const tld = domain.split('.').pop()\n    if (tld.length < 2) return false\n\n    return true\n  }\n}\n"],"names":[],"mappings":";AAKO,MAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWpB,YAAY,WAAW,YAAY,QAAQ,KAAK,QAAQ,QAAQ,QAAQ,MAAM,cAAc,IAAI;AAC9F,SAAK,KAAK,UAAS;AACnB,SAAK,YAAY;AACjB,SAAK,aAAa;AAClB,SAAK,SAAS;AACd,SAAK,MAAM;AACX,SAAK,SAAS;AACd,SAAK,SAAS;AACd,SAAK,SAAS;AACd,SAAK,OAAO;AACZ,SAAK,cAAc;AAAA,EACrB;AACF;ACtBO,MAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQlB,YAAY,MAAM,WAAW,OAAO,UAAU,SAAS;AACrD,SAAK,KAAK,UAAS;AAEnB,QAAI,CAAC,KAAK,aAAa,KAAK,GAAG;AAC7B,YAAM,IAAI,MAAM,iBAAiB;AAAA,IACnC;AAEA,SAAK,OAAO;AACZ,SAAK,YAAY;AACjB,SAAK,QAAQ;AACb,SAAK,WAAW;AAChB,SAAK,UAAU;AACf,SAAK,OAAO;AAEZ,SAAK,WAAW;AAAA,EAClB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,gBAAgB,UAAU;AACxB,QAAI,oBAAoB,UAAU;AAChC,WAAK,WAAW;AAAA,IAClB,OAAO;AACL,cAAQ,MAAM,4DAA4D;AAAA,IAC5E;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,kBAAkB;AAChB,SAAK,WAAW;AAAA,EAClB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,YAAY,MAAM;AAChB,SAAK,OAAO;AAAA,EACd;AAAA;AAAA;AAAA;AAAA,EAKA,cAAc;AACZ,SAAK,OAAO;AAAA,EACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,kBAAkB,UAAU;AAC1B,SAAK,gBAAgB,QAAQ;AAAA,EAC/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,aAAa,OAAO;AAClB,QAAI,CAAC,SAAS,OAAO,UAAU,SAAU,QAAO;AAGhD,YAAQ,MAAM,KAAI;AAGlB,QAAI,MAAM,SAAS,IAAK,QAAO;AAG/B,SAAK,MAAM,MAAM,IAAI,KAAK,IAAI,WAAW,EAAG,QAAO;AAGnD,UAAM,CAAC,WAAW,MAAM,IAAI,MAAM,MAAM,GAAG;AAG3C,QAAI,CAAC,aAAa,UAAU,SAAS,GAAI,QAAO;AAGhD,QAAI,MAAM,SAAS,IAAI,EAAG,QAAO;AAGjC,QAAI,UAAU,WAAW,GAAG,KAAK,UAAU,SAAS,GAAG,EAAG,QAAO;AAGjE,UAAM,iBAAiB;AACvB,QAAI,CAAC,eAAe,KAAK,SAAS,EAAG,QAAO;AAG5C,QAAI,CAAC,OAAQ,QAAO;AAGpB,QAAI,CAAC,OAAO,SAAS,GAAG,KAAK,OAAO,SAAS,GAAG,EAAG,QAAO;AAG1D,UAAM,cACJ;AACF,QAAI,CAAC,YAAY,KAAK,MAAM,EAAG,QAAO;AAGtC,UAAM,MAAM,OAAO,MAAM,GAAG,EAAE,IAAG;AACjC,QAAI,IAAI,SAAS,EAAG,QAAO;AAE3B,WAAO;AAAA,EACT;AACF;"}