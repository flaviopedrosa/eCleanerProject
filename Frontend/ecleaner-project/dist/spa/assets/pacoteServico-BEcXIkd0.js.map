{"version":3,"file":"pacoteServico-BEcXIkd0.js","sources":["../../../src/core/domain/entities/itemMaterial.js","../../../src/core/domain/entities/itemServico.js","../../../src/core/domain/entities/pacoteServico.js"],"sourcesContent":["import { gerarGuid } from '../utils/guid'\nimport { Material } from './material'\n\n/**\n * Classe que representa um Item de Material em um servi\\u00e7o.\n */\nexport class ItemMaterial {\n  /**\n   * @param {Material} material - O material a ser utilizado\n   * @param {number} quantidade - A quantidade do material\n   * @param {number} custoUnitario - O custo unit\\u00e1rio do material\n   * @param {string} observacao - Observa\\u00e7\\u00f5es adicionais sobre o uso do material\n   */\n  constructor(material, quantidade, custoUnitario, observacao = '') {\n    if (!(material instanceof Material)) {\n      throw new Error(\n        'O material fornecido n\\u00e3o \\u00e9 uma inst\\u00e2ncia v\\u00e1lida da classe Material',\n      )\n    }\n\n    if (quantidade <= 0) {\n      throw new Error('A quantidade deve ser maior que zero')\n    }\n\n    if (custoUnitario < 0) {\n      throw new Error('O custo unit\\u00e1rio n\\u00e3o pode ser negativo')\n    }\n\n    this.Id = gerarGuid()\n    this.Material = material\n    this.Quantidade = quantidade\n    this.CustoUnitario = custoUnitario\n    this.Observacao = observacao\n    this.ValorTotal = this.calcularValorTotal()\n  }\n\n  /**\n   * Calcula o valor total do item baseado na quantidade e custo unit\\u00e1rio\n   * @returns {number} O valor total do item\n   */\n  calcularValorTotal() {\n    return this.Quantidade * this.CustoUnitario\n  }\n\n  /**\n   * Atualiza a quantidade do material e recalcula o valor total\n   * @param {number} novaQuantidade - Nova quantidade do material\n   */\n  atualizarQuantidade(novaQuantidade) {\n    if (novaQuantidade <= 0) {\n      throw new Error('A quantidade deve ser maior que zero')\n    }\n\n    this.Quantidade = novaQuantidade\n    this.ValorTotal = this.calcularValorTotal()\n  }\n\n  /**\n   * Atualiza o custo unit\\u00e1rio do material e recalcula o valor total\n   * @param {number} novoCusto - Novo custo unit\\u00e1rio do material\n   */\n  atualizarCustoUnitario(novoCusto) {\n    if (novoCusto < 0) {\n      throw new Error('O custo unit\\u00e1rio n\\u00e3o pode ser negativo')\n    }\n\n    this.CustoUnitario = novoCusto\n    this.ValorTotal = this.calcularValorTotal()\n  }\n}\n","import { gerarGuid } from '../utils/guid'\nimport { Servico } from './servico'\n\n/**\n * Classe que representa um Item de Servi\\u00e7o.\n */\nexport class ItemServico {\n  /**\n   * @param {Servico} servico - O servi\\u00e7o a ser prestado\n   * @param {number} quantidade - A quantidade do servi\\u00e7o\n   * @param {number} tempoEstimado - Tempo estimado em minutos\n   * @param {number} quantidadePessoas - N\\u00famero de pessoas necess\\u00e1rias\n   */\n  constructor(servico, quantidade, tempoEstimado, quantidadePessoas) {\n    if (!(servico instanceof Servico)) {\n      throw new Error(\n        'O servi\\u00e7o fornecido n\\u00e3o \\u00e9 uma inst\\u00e2ncia v\\u00e1lida da classe Servico',\n      )\n    }\n\n    this.Id = gerarGuid()\n    this.Servico = servico\n    this.Quantidade = quantidade\n    this.TempoEstimado = tempoEstimado\n    this.QuantidadePessoas = quantidadePessoas\n    this.ValorTotal = this.calcularValorTotal()\n  }\n\n  /**\n   * Calcula o valor total do item baseado na quantidade e valor do serviço\n   * @returns {number} O valor total do item\n   */\n  calcularValorTotal() {\n    return this.Quantidade * this.Servico.Valor\n  }\n\n  /**\n   * Calcula o tempo total em horas considerando a quantidade de pessoas\n   * @returns {number} Tempo total em horas\n   */\n  calcularTempoTotalHoras() {\n    // Converte o tempo estimado de minutos para horas e divide pelo n\\u00famero de pessoas\n    return this.TempoEstimado / 60 / this.QuantidadePessoas\n  }\n}\n","import { gerarGuid } from '../utils/guid'\nimport { ItemMaterial } from './itemMaterial'\nimport { ItemServico } from './itemServico'\n\n/**\n * Classe que representa um Pacote de Servi\\u00e7os (conjunto de materiais e servi\\u00e7os).\n */\nexport class PacoteServico {\n  /**\n   * @param {string} descricao - Descri\\u00e7\\u00e3o do pacote de servi\\u00e7os\n   * @param {number} margemLucro - Margem de lucro em porcentagem (ex: 20 para 20%)\n   */\n  constructor(descricao, margemLucro = 30) {\n    this.Id = gerarGuid()\n    this.Descricao = descricao\n    this.MargemLucro = margemLucro\n    this.Favorito = false\n    /** @type {ItemMaterial[]} */\n    this.ItensMaterial = []\n    /** @type {ItemServico[]} */\n    this.ItensServico = []\n    this.ValorMaterial = 0\n    this.ValorServico = 0\n    this.ValorTotal = 0\n    this.ValorVenda = 0\n  }\n\n  /**\n   * Adiciona um item de material ao pacote\n   * @param {ItemMaterial} item - O item de material a ser adicionado\n   */\n  adicionarItemMaterial(item) {\n    if (!(item instanceof ItemMaterial)) {\n      throw new Error(\n        'O item fornecido n\\u00e3o \\u00e9 uma inst\\u00e2ncia v\\u00e1lida de ItemMaterial',\n      )\n    }\n    this.ItensMaterial.push(item)\n    this.recalcularValores()\n  }\n\n  /**\n   * Adiciona um item de servi\\u00e7o ao pacote\n   * @param {ItemServico} item - O item de servi\\u00e7o a ser adicionado\n   */\n  adicionarItemServico(item) {\n    if (!(item instanceof ItemServico)) {\n      throw new Error(\n        'O item fornecido n\\u00e3o \\u00e9 uma inst\\u00e2ncia v\\u00e1lida de ItemServico',\n      )\n    }\n    this.ItensServico.push(item)\n    this.recalcularValores()\n  }\n\n  /**\n   * Remove um item de material do pacote pelo ID\n   * @param {string} itemId - ID do item a ser removido\n   * @returns {boolean} true se o item foi removido, false caso contr\\u00e1rio\n   */\n  removerItemMaterial(itemId) {\n    const index = this.ItensMaterial.findIndex((item) => item.Id === itemId)\n    if (index !== -1) {\n      this.ItensMaterial.splice(index, 1)\n      this.recalcularValores()\n      return true\n    }\n    return false\n  }\n\n  /**\n   * Remove um item de servi\\u00e7o do pacote pelo ID\n   * @param {string} itemId - ID do item a ser removido\n   * @returns {boolean} true se o item foi removido, false caso contr\\u00e1rio\n   */\n  removerItemServico(itemId) {\n    const index = this.ItensServico.findIndex((item) => item.Id === itemId)\n    if (index !== -1) {\n      this.ItensServico.splice(index, 1)\n      this.recalcularValores()\n      return true\n    }\n    return false\n  }\n\n  /**\n   * Atualiza a margem de lucro e recalcula os valores\n   * @param {number} novaMargemLucro - Nova margem de lucro em porcentagem\n   */\n  atualizarMargemLucro(novaMargemLucro) {\n    if (novaMargemLucro < 0) {\n      throw new Error('A margem de lucro n\\u00e3o pode ser negativa')\n    }\n    this.MargemLucro = novaMargemLucro\n    this.recalcularValores()\n  }\n\n  /**\n   * Recalcula todos os valores do pacote\n   */\n  recalcularValores() {\n    // Calcula o valor total dos materiais\n    this.ValorMaterial = this.ItensMaterial.reduce((total, item) => total + item.ValorTotal, 0)\n\n    // Calcula o valor total dos servi\\u00e7os\n    this.ValorServico = this.ItensServico.reduce((total, item) => total + item.ValorTotal, 0)\n\n    // Calcula o valor total (custo)\n    this.ValorTotal = this.ValorMaterial + this.ValorServico\n\n    // Calcula o valor de venda aplicando a margem de lucro\n    this.ValorVenda = this.ValorTotal * (1 + this.MargemLucro / 100)\n  }\n\n  /**\n   * Obtém o tempo total estimado em horas para todos os serviços\n   * @returns {number} Tempo total em horas\n   */\n  calcularTempoTotalHoras() {\n    return this.ItensServico.reduce((total, item) => total + item.calcularTempoTotalHoras(), 0)\n  }\n\n  /**\n   * Alterna o status de favorito do pacote\n   */\n  alternarFavorito() {\n    this.Favorito = !this.Favorito\n  }\n\n  /**\n   * Define o pacote como favorito\n   */\n  marcarComoFavorito() {\n    this.Favorito = true\n  }\n\n  /**\n   * Remove o pacote dos favoritos\n   */\n  removerDosFavoritos() {\n    this.Favorito = false\n  }\n}\n"],"names":[],"mappings":"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"}