{"version":3,"file":"QPageSticky-BUX2f9i9.js","sources":["../../../node_modules/quasar/src/components/page-sticky/use-page-sticky.js","../../../node_modules/quasar/src/components/page-sticky/QPageSticky.js"],"sourcesContent":["import { h, computed, inject, getCurrentInstance } from 'vue'\n\nimport { hSlot } from '../../utils/private.render/render.js'\nimport { layoutKey, emptyRenderFn } from '../../utils/private.symbols/symbols.js'\n\nexport const usePageStickyProps = {\n  position: {\n    type: String,\n    default: 'bottom-right',\n    validator: v => [\n      'top-right', 'top-left',\n      'bottom-right', 'bottom-left',\n      'top', 'right', 'bottom', 'left'\n    ].includes(v)\n  },\n  offset: {\n    type: Array,\n    validator: v => v.length === 2\n  },\n  expand: Boolean\n}\n\nexport default function () {\n  const { props, proxy: { $q } } = getCurrentInstance()\n\n  const $layout = inject(layoutKey, emptyRenderFn)\n  if ($layout === emptyRenderFn) {\n    console.error('QPageSticky needs to be child of QLayout')\n    return emptyRenderFn\n  }\n\n  const attach = computed(() => {\n    const pos = props.position\n\n    return {\n      top: pos.indexOf('top') !== -1,\n      right: pos.indexOf('right') !== -1,\n      bottom: pos.indexOf('bottom') !== -1,\n      left: pos.indexOf('left') !== -1,\n      vertical: pos === 'top' || pos === 'bottom',\n      horizontal: pos === 'left' || pos === 'right'\n    }\n  })\n\n  const top = computed(() => $layout.header.offset)\n  const right = computed(() => $layout.right.offset)\n  const bottom = computed(() => $layout.footer.offset)\n  const left = computed(() => $layout.left.offset)\n\n  const style = computed(() => {\n    let posX = 0, posY = 0\n\n    const side = attach.value\n    const dir = $q.lang.rtl === true ? -1 : 1\n\n    if (side.top === true && top.value !== 0) {\n      posY = `${ top.value }px`\n    }\n    else if (side.bottom === true && bottom.value !== 0) {\n      posY = `${ -bottom.value }px`\n    }\n\n    if (side.left === true && left.value !== 0) {\n      posX = `${ dir * left.value }px`\n    }\n    else if (side.right === true && right.value !== 0) {\n      posX = `${ -dir * right.value }px`\n    }\n\n    const css = { transform: `translate(${ posX }, ${ posY })` }\n\n    if (props.offset) {\n      css.margin = `${ props.offset[ 1 ] }px ${ props.offset[ 0 ] }px`\n    }\n\n    if (side.vertical === true) {\n      if (left.value !== 0) {\n        css[ $q.lang.rtl === true ? 'right' : 'left' ] = `${ left.value }px`\n      }\n      if (right.value !== 0) {\n        css[ $q.lang.rtl === true ? 'left' : 'right' ] = `${ right.value }px`\n      }\n    }\n    else if (side.horizontal === true) {\n      if (top.value !== 0) {\n        css.top = `${ top.value }px`\n      }\n      if (bottom.value !== 0) {\n        css.bottom = `${ bottom.value }px`\n      }\n    }\n\n    return css\n  })\n\n  const classes = computed(() =>\n    `q-page-sticky row flex-center fixed-${ props.position }`\n    + ` q-page-sticky--${ props.expand === true ? 'expand' : 'shrink' }`\n  )\n\n  function getStickyContent (slots) {\n    const content = hSlot(slots.default)\n\n    return h('div', {\n      class: classes.value,\n      style: style.value\n    },\n    props.expand === true\n      ? content\n      : [ h('div', content) ]\n    )\n  }\n\n  return {\n    $layout,\n    getStickyContent\n  }\n}\n","import { createComponent } from '../../utils/private.create/create.js'\nimport usePageSticky, { usePageStickyProps } from './use-page-sticky.js'\n\nexport default createComponent({\n  name: 'QPageSticky',\n\n  props: usePageStickyProps,\n\n  setup (_, { slots }) {\n    const { getStickyContent } = usePageSticky()\n    return () => getStickyContent(slots)\n  }\n})\n"],"names":[],"mappings":"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","x_google_ignoreList":[0,1]}