{"version":3,"file":"use-model-toggle-CaGhxNcT.js","sources":["../../../node_modules/quasar/src/components/item/QItemSection.js","../../../node_modules/quasar/src/composables/private.use-model-toggle/use-model-toggle.js"],"sourcesContent":["import { h, computed } from 'vue'\n\nimport { createComponent } from '../../utils/private.create/create.js'\nimport { hSlot } from '../../utils/private.render/render.js'\n\nexport default createComponent({\n  name: 'QItemSection',\n\n  props: {\n    avatar: Boolean,\n    thumbnail: Boolean,\n    side: Boolean,\n    top: Boolean,\n    noWrap: Boolean\n  },\n\n  setup (props, { slots }) {\n    const classes = computed(() =>\n      'q-item__section column'\n      + ` q-item__section--${ props.avatar === true || props.side === true || props.thumbnail === true ? 'side' : 'main' }`\n      + (props.top === true ? ' q-item__section--top justify-start' : ' justify-center')\n      + (props.avatar === true ? ' q-item__section--avatar' : '')\n      + (props.thumbnail === true ? ' q-item__section--thumbnail' : '')\n      + (props.noWrap === true ? ' q-item__section--nowrap' : '')\n    )\n\n    return () => h('div', { class: classes.value }, hSlot(slots.default))\n  }\n})\n","import { watch, nextTick, onMounted, getCurrentInstance } from 'vue'\n\nimport { vmHasRouter } from '../../utils/private.vm/vm.js'\n\nexport const useModelToggleProps = {\n  modelValue: {\n    type: Boolean,\n    default: null\n  },\n\n  'onUpdate:modelValue': [ Function, Array ]\n}\n\nexport const useModelToggleEmits = [\n  'beforeShow', 'show', 'beforeHide', 'hide'\n]\n\n// handleShow/handleHide -> removeTick(), self (& emit show)\n\nexport default function ({\n  showing,\n  canShow, // optional\n  hideOnRouteChange, // optional\n  handleShow, // optional\n  handleHide, // optional\n  processOnMount // optional\n}) {\n  const vm = getCurrentInstance()\n  const { props, emit, proxy } = vm\n\n  let payload\n\n  function toggle (evt) {\n    if (showing.value === true) {\n      hide(evt)\n    }\n    else {\n      show(evt)\n    }\n  }\n\n  function show (evt) {\n    if (\n      (props.disable === true)\n      || (evt?.qAnchorHandled === true)\n      || (canShow !== void 0 && canShow(evt) !== true)\n    ) return\n\n    const listener = props[ 'onUpdate:modelValue' ] !== void 0\n\n    if (listener === true && __QUASAR_SSR_SERVER__ !== true) {\n      emit('update:modelValue', true)\n      payload = evt\n      nextTick(() => {\n        if (payload === evt) {\n          payload = void 0\n        }\n      })\n    }\n\n    if (props.modelValue === null || listener === false || __QUASAR_SSR_SERVER__) {\n      processShow(evt)\n    }\n  }\n\n  function processShow (evt) {\n    if (showing.value === true) return\n\n    showing.value = true\n\n    emit('beforeShow', evt)\n\n    if (handleShow !== void 0) {\n      handleShow(evt)\n    }\n    else {\n      emit('show', evt)\n    }\n  }\n\n  function hide (evt) {\n    if (__QUASAR_SSR_SERVER__ || props.disable === true) return\n\n    const listener = props[ 'onUpdate:modelValue' ] !== void 0\n\n    if (listener === true && __QUASAR_SSR_SERVER__ !== true) {\n      emit('update:modelValue', false)\n      payload = evt\n      nextTick(() => {\n        if (payload === evt) {\n          payload = void 0\n        }\n      })\n    }\n\n    if (props.modelValue === null || listener === false || __QUASAR_SSR_SERVER__) {\n      processHide(evt)\n    }\n  }\n\n  function processHide (evt) {\n    if (showing.value === false) return\n\n    showing.value = false\n\n    emit('beforeHide', evt)\n\n    if (handleHide !== void 0) {\n      handleHide(evt)\n    }\n    else {\n      emit('hide', evt)\n    }\n  }\n\n  function processModelChange (val) {\n    if (props.disable === true && val === true) {\n      if (props[ 'onUpdate:modelValue' ] !== void 0) {\n        emit('update:modelValue', false)\n      }\n    }\n    else if ((val === true) !== showing.value) {\n      const fn = val === true ? processShow : processHide\n      fn(payload)\n    }\n  }\n\n  watch(() => props.modelValue, processModelChange)\n\n  if (hideOnRouteChange !== void 0 && vmHasRouter(vm) === true) {\n    watch(() => proxy.$route.fullPath, () => {\n      if (hideOnRouteChange.value === true && showing.value === true) {\n        hide()\n      }\n    })\n  }\n\n  processOnMount === true && onMounted(() => {\n    processModelChange(props.modelValue)\n  })\n\n  // expose public methods\n  const publicMethods = { show, hide, toggle }\n  Object.assign(proxy, publicMethods)\n\n  return publicMethods\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[0,1]}