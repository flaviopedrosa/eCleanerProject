{"version":3,"file":"servico-Bx3u9W9d.js","sources":["../../../src/core/domain/entities/servico.js"],"sourcesContent":["import { gerarGuid } from '../utils/guid.js'\n\n/**\n * Classe que representa um Serviço.\n */\nexport class Servico {\n  /**\n   * @param {string} nome - Nome do serviço.\n   * @param {string} descricao - Descrição detalhada do serviço prestado.\n   * @param {number} valor - O valor monetário do serviço.\n   * @param {string} unidade - A unidade de medida do serviço (ex: \"Hora\", \"Metro Quadrado\", \"Unidade\", \"Projeto\").\n   * @param {string} observacao - Quaisquer notas ou observações adicionais sobre o serviço.\n   */\n  constructor(nome, descricao, valor, unidade = 'Unidade', observacao = '') {\n    this.Id = gerarGuid()\n    this.Nome = nome\n    this.Descricao = descricao\n    this.Valor = valor\n    this.Unidade = unidade\n    this.Observacao = observacao\n    this.Ativo = true\n    this.CriadoEm = new Date().toISOString()\n    this.AtualizadoEm = new Date().toISOString()\n  }\n\n  /**\n   * Valida se o serviço está válido\n   */\n  isValid() {\n    const erros = []\n\n    if (!this.Nome || this.Nome.trim().length < 3) {\n      erros.push('Nome deve ter pelo menos 3 caracteres')\n    }\n\n    if (this.Valor <= 0) {\n      erros.push('Valor deve ser maior que zero')\n    }\n\n    if (!this.Descricao || this.Descricao.trim().length < 10) {\n      erros.push('Descrição deve ter pelo menos 10 caracteres')\n    }\n\n    return {\n      valido: erros.length === 0,\n      erros,\n    }\n  }\n\n  /**\n   * Calcula o valor com desconto\n   */\n  calcularValorComDesconto(percentualDesconto = 0) {\n    if (percentualDesconto < 0 || percentualDesconto > 100) {\n      throw new Error('Percentual de desconto deve estar entre 0 e 100')\n    }\n\n    const desconto = (this.Valor * percentualDesconto) / 100\n    return this.Valor - desconto\n  }\n\n  /**\n   * Atualiza o timestamp de modificação\n   */\n  marcarComoAtualizado() {\n    this.AtualizadoEm = new Date().toISOString()\n  }\n\n  /**\n   * Converte para objeto simples (para JSON)\n   */\n  toJSON() {\n    return {\n      Id: this.Id,\n      Nome: this.Nome,\n      Descricao: this.Descricao,\n      Valor: this.Valor,\n      Unidade: this.Unidade,\n      Observacao: this.Observacao,\n      Ativo: this.Ativo,\n      CriadoEm: this.CriadoEm,\n      AtualizadoEm: this.AtualizadoEm,\n    }\n  }\n}\n"],"names":[],"mappings":";AAKO,MAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQnB,YAAY,MAAM,WAAW,OAAO,UAAU,WAAW,aAAa,IAAI;AACxE,SAAK,KAAK,UAAS;AACnB,SAAK,OAAO;AACZ,SAAK,YAAY;AACjB,SAAK,QAAQ;AACb,SAAK,UAAU;AACf,SAAK,aAAa;AAClB,SAAK,QAAQ;AACb,SAAK,YAAW,oBAAI,KAAI,GAAG,YAAW;AACtC,SAAK,gBAAe,oBAAI,KAAI,GAAG,YAAW;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA,EAKA,UAAU;AACR,UAAM,QAAQ,CAAA;AAEd,QAAI,CAAC,KAAK,QAAQ,KAAK,KAAK,KAAI,EAAG,SAAS,GAAG;AAC7C,YAAM,KAAK,uCAAuC;AAAA,IACpD;AAEA,QAAI,KAAK,SAAS,GAAG;AACnB,YAAM,KAAK,+BAA+B;AAAA,IAC5C;AAEA,QAAI,CAAC,KAAK,aAAa,KAAK,UAAU,KAAI,EAAG,SAAS,IAAI;AACxD,YAAM,KAAK,6CAA6C;AAAA,IAC1D;AAEA,WAAO;AAAA,MACL,QAAQ,MAAM,WAAW;AAAA,MACzB;AAAA,IACN;AAAA,EACE;AAAA;AAAA;AAAA;AAAA,EAKA,yBAAyB,qBAAqB,GAAG;AAC/C,QAAI,qBAAqB,KAAK,qBAAqB,KAAK;AACtD,YAAM,IAAI,MAAM,iDAAiD;AAAA,IACnE;AAEA,UAAM,WAAY,KAAK,QAAQ,qBAAsB;AACrD,WAAO,KAAK,QAAQ;AAAA,EACtB;AAAA;AAAA;AAAA;AAAA,EAKA,uBAAuB;AACrB,SAAK,gBAAe,oBAAI,KAAI,GAAG,YAAW;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA,EAKA,SAAS;AACP,WAAO;AAAA,MACL,IAAI,KAAK;AAAA,MACT,MAAM,KAAK;AAAA,MACX,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK;AAAA,MACZ,SAAS,KAAK;AAAA,MACd,YAAY,KAAK;AAAA,MACjB,OAAO,KAAK;AAAA,MACZ,UAAU,KAAK;AAAA,MACf,cAAc,KAAK;AAAA,IACzB;AAAA,EACE;AACF;"}