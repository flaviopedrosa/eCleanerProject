{"version":3,"file":"QSelect-DUStfZDN.js","sources":["../../../node_modules/quasar/src/components/field/QField.js","../../../node_modules/quasar/src/components/dialog/QDialog.js","../../../node_modules/quasar/src/utils/private.rtl/rtl.js","../../../node_modules/quasar/src/components/virtual-scroll/use-virtual-scroll.js","../../../node_modules/quasar/src/components/select/QSelect.js"],"sourcesContent":["import useField, { useFieldState, useFieldProps, useFieldEmits } from '../../composables/private.use-field/use-field.js'\n\nimport { createComponent } from '../../utils/private.create/create.js'\n\nexport default createComponent({\n  name: 'QField',\n\n  inheritAttrs: false,\n\n  props: {\n    ...useFieldProps,\n\n    tag: {\n      type: String,\n      default: 'label'\n    }\n  },\n\n  emits: useFieldEmits,\n\n  setup () {\n    return useField(\n      useFieldState({ tagProp: true })\n    )\n  }\n})\n","import { h, ref, computed, watch, onBeforeUnmount, Transition, getCurrentInstance } from 'vue'\n\nimport useHistory from '../../composables/private.use-history/use-history.js'\nimport useTimeout from '../../composables/use-timeout/use-timeout.js'\nimport useTick from '../../composables/use-tick/use-tick.js'\nimport useModelToggle, { useModelToggleProps, useModelToggleEmits } from '../../composables/private.use-model-toggle/use-model-toggle.js'\nimport useTransition, { useTransitionProps } from '../../composables/private.use-transition/use-transition.js'\nimport usePortal from '../../composables/private.use-portal/use-portal.js'\nimport usePreventScroll from '../../composables/private.use-prevent-scroll/use-prevent-scroll.js'\n\nimport { createComponent } from '../../utils/private.create/create.js'\nimport { childHasFocus } from '../../utils/dom/dom.js'\nimport { hSlot } from '../../utils/private.render/render.js'\nimport { addEscapeKey, removeEscapeKey } from '../../utils/private.keyboard/escape-key.js'\nimport { addFocusout, removeFocusout } from '../../utils/private.focus/focusout.js'\nimport { addFocusFn } from '../../utils/private.focus/focus-manager.js'\n\nlet maximizedModals = 0\n\nconst positionClass = {\n  standard: 'fixed-full flex-center',\n  top: 'fixed-top justify-center',\n  bottom: 'fixed-bottom justify-center',\n  right: 'fixed-right items-center',\n  left: 'fixed-left items-center'\n}\n\nconst defaultTransitions = {\n  standard: [ 'scale', 'scale' ],\n  top: [ 'slide-down', 'slide-up' ],\n  bottom: [ 'slide-up', 'slide-down' ],\n  right: [ 'slide-left', 'slide-right' ],\n  left: [ 'slide-right', 'slide-left' ]\n}\n\nexport default createComponent({\n  name: 'QDialog',\n\n  inheritAttrs: false,\n\n  props: {\n    ...useModelToggleProps,\n    ...useTransitionProps,\n\n    transitionShow: String, // override useTransitionProps\n    transitionHide: String, // override useTransitionProps\n\n    persistent: Boolean,\n    autoClose: Boolean,\n    allowFocusOutside: Boolean,\n\n    noEscDismiss: Boolean,\n    noBackdropDismiss: Boolean,\n    noRouteDismiss: Boolean,\n    noRefocus: Boolean,\n    noFocus: Boolean,\n    noShake: Boolean,\n\n    seamless: Boolean,\n\n    maximized: Boolean,\n    fullWidth: Boolean,\n    fullHeight: Boolean,\n\n    square: Boolean,\n\n    backdropFilter: String,\n\n    position: {\n      type: String,\n      default: 'standard',\n      validator: val => [ 'standard', 'top', 'bottom', 'left', 'right' ].includes(val)\n    }\n  },\n\n  emits: [\n    ...useModelToggleEmits,\n    'shake', 'click', 'escapeKey'\n  ],\n\n  setup (props, { slots, emit, attrs }) {\n    const vm = getCurrentInstance()\n\n    const innerRef = ref(null)\n    const showing = ref(false)\n    const animating = ref(false)\n\n    let shakeTimeout = null, refocusTarget = null, isMaximized, avoidAutoClose\n\n    const hideOnRouteChange = computed(() =>\n      props.persistent !== true\n      && props.noRouteDismiss !== true\n      && props.seamless !== true\n    )\n\n    const { preventBodyScroll } = usePreventScroll()\n    const { registerTimeout } = useTimeout()\n    const { registerTick, removeTick } = useTick()\n\n    const { transitionProps, transitionStyle } = useTransition(\n      props,\n      () => defaultTransitions[ props.position ][ 0 ],\n      () => defaultTransitions[ props.position ][ 1 ]\n    )\n\n    const backdropStyle = computed(() => (\n      transitionStyle.value\n      + (\n        props.backdropFilter !== void 0\n          // Safari requires the -webkit prefix\n          ? `;backdrop-filter:${ props.backdropFilter };-webkit-backdrop-filter:${ props.backdropFilter }`\n          : ''\n      )\n    ))\n\n    const { showPortal, hidePortal, portalIsAccessible, renderPortal } = usePortal(\n      vm, innerRef, renderPortalContent, 'dialog'\n    )\n\n    const { hide } = useModelToggle({\n      showing,\n      hideOnRouteChange,\n      handleShow,\n      handleHide,\n      processOnMount: true\n    })\n\n    const { addToHistory, removeFromHistory } = useHistory(showing, hide, hideOnRouteChange)\n\n    const classes = computed(() =>\n      'q-dialog__inner flex no-pointer-events'\n      + ` q-dialog__inner--${ props.maximized === true ? 'maximized' : 'minimized' }`\n      + ` q-dialog__inner--${ props.position } ${ positionClass[ props.position ] }`\n      + (animating.value === true ? ' q-dialog__inner--animating' : '')\n      + (props.fullWidth === true ? ' q-dialog__inner--fullwidth' : '')\n      + (props.fullHeight === true ? ' q-dialog__inner--fullheight' : '')\n      + (props.square === true ? ' q-dialog__inner--square' : '')\n    )\n\n    const useBackdrop = computed(() => showing.value === true && props.seamless !== true)\n\n    const onEvents = computed(() => (\n      props.autoClose === true\n        ? { onClick: onAutoClose }\n        : {}\n    ))\n\n    const rootClasses = computed(() => [\n      'q-dialog fullscreen no-pointer-events '\n        + `q-dialog--${ useBackdrop.value === true ? 'modal' : 'seamless' }`,\n      attrs.class\n    ])\n\n    watch(() => props.maximized, state => {\n      showing.value === true && updateMaximized(state)\n    })\n\n    watch(useBackdrop, val => {\n      preventBodyScroll(val)\n\n      if (val === true) {\n        addFocusout(onFocusChange)\n        addEscapeKey(onEscapeKey)\n      }\n      else {\n        removeFocusout(onFocusChange)\n        removeEscapeKey(onEscapeKey)\n      }\n    })\n\n    function handleShow (evt) {\n      addToHistory()\n\n      refocusTarget = props.noRefocus === false && document.activeElement !== null\n        ? document.activeElement\n        : null\n\n      updateMaximized(props.maximized)\n      showPortal()\n      animating.value = true\n\n      if (props.noFocus !== true) {\n        document.activeElement?.blur()\n        registerTick(focus)\n      }\n      else {\n        removeTick()\n      }\n\n      // should removeTimeout() if this gets removed\n      registerTimeout(() => {\n        if (vm.proxy.$q.platform.is.ios === true) {\n          if (props.seamless !== true && document.activeElement) {\n            const\n              { top, bottom } = document.activeElement.getBoundingClientRect(),\n              { innerHeight } = window,\n              height = window.visualViewport !== void 0\n                ? window.visualViewport.height\n                : innerHeight\n\n            if (top > 0 && bottom > height / 2) {\n              document.scrollingElement.scrollTop = Math.min(\n                document.scrollingElement.scrollHeight - height,\n                bottom >= innerHeight\n                  ? Infinity\n                  : Math.ceil(document.scrollingElement.scrollTop + bottom - height / 2)\n              )\n            }\n\n            document.activeElement.scrollIntoView()\n          }\n\n          // required in order to avoid the \"double-tap needed\" issue\n          avoidAutoClose = true\n          innerRef.value.click()\n          avoidAutoClose = false\n        }\n\n        showPortal(true) // done showing portal\n        animating.value = false\n        emit('show', evt)\n      }, props.transitionDuration)\n    }\n\n    function handleHide (evt) {\n      removeTick()\n      removeFromHistory()\n      cleanup(true)\n      animating.value = true\n      hidePortal()\n\n      if (refocusTarget !== null) {\n        ((evt?.type.indexOf('key') === 0\n          ? refocusTarget.closest('[tabindex]:not([tabindex^=\"-\"])')\n          : void 0\n        ) || refocusTarget).focus()\n\n        refocusTarget = null\n      }\n\n      // should removeTimeout() if this gets removed\n      registerTimeout(() => {\n        hidePortal(true) // done hiding, now destroy\n        animating.value = false\n        emit('hide', evt)\n      }, props.transitionDuration)\n    }\n\n    function focus (selector) {\n      addFocusFn(() => {\n        let node = innerRef.value\n\n        if (node === null) return\n\n        if (selector !== void 0) {\n          const target = node.querySelector(selector)\n          if (target !== null) {\n            target.focus({ preventScroll: true })\n            return\n          }\n        }\n\n        if (node.contains(document.activeElement) !== true) {\n          node = (\n            node.querySelector('[autofocus][tabindex], [data-autofocus][tabindex]')\n            || node.querySelector('[autofocus] [tabindex], [data-autofocus] [tabindex]')\n            || node.querySelector('[autofocus], [data-autofocus]')\n            || node\n          )\n\n          node.focus({ preventScroll: true })\n        }\n      })\n    }\n\n    function shake (focusTarget) {\n      if (focusTarget && typeof focusTarget.focus === 'function') {\n        focusTarget.focus({ preventScroll: true })\n      }\n      else {\n        focus()\n      }\n\n      emit('shake')\n\n      const node = innerRef.value\n\n      if (node !== null) {\n        node.classList.remove('q-animate--scale')\n        node.classList.add('q-animate--scale')\n        shakeTimeout !== null && clearTimeout(shakeTimeout)\n        shakeTimeout = setTimeout(() => {\n          shakeTimeout = null\n          if (innerRef.value !== null) {\n            node.classList.remove('q-animate--scale')\n            // some platforms (like desktop Chrome)\n            // require calling focus() again\n            focus()\n          }\n        }, 170)\n      }\n    }\n\n    function onEscapeKey () {\n      if (props.seamless !== true) {\n        if (props.persistent === true || props.noEscDismiss === true) {\n          props.maximized !== true && props.noShake !== true && shake()\n        }\n        else {\n          emit('escapeKey')\n          hide()\n        }\n      }\n    }\n\n    function cleanup (hiding) {\n      if (shakeTimeout !== null) {\n        clearTimeout(shakeTimeout)\n        shakeTimeout = null\n      }\n\n      if (hiding === true || showing.value === true) {\n        updateMaximized(false)\n\n        if (props.seamless !== true) {\n          preventBodyScroll(false)\n          removeFocusout(onFocusChange)\n          removeEscapeKey(onEscapeKey)\n        }\n      }\n\n      if (hiding !== true) {\n        refocusTarget = null\n      }\n    }\n\n    function updateMaximized (active) {\n      if (active === true) {\n        if (isMaximized !== true) {\n          maximizedModals < 1 && document.body.classList.add('q-body--dialog')\n          maximizedModals++\n\n          isMaximized = true\n        }\n      }\n      else if (isMaximized === true) {\n        if (maximizedModals < 2) {\n          document.body.classList.remove('q-body--dialog')\n        }\n\n        maximizedModals--\n        isMaximized = false\n      }\n    }\n\n    function onAutoClose (e) {\n      if (avoidAutoClose !== true) {\n        hide(e)\n        emit('click', e)\n      }\n    }\n\n    function onBackdropClick (e) {\n      if (props.persistent !== true && props.noBackdropDismiss !== true) {\n        hide(e)\n      }\n      else if (props.noShake !== true) {\n        shake()\n      }\n    }\n\n    function onFocusChange (evt) {\n      // the focus is not in a vue child component\n      if (\n        props.allowFocusOutside !== true\n        && portalIsAccessible.value === true\n        && childHasFocus(innerRef.value, evt.target) !== true\n      ) {\n        focus('[tabindex]:not([tabindex=\"-1\"])')\n      }\n    }\n\n    Object.assign(vm.proxy, {\n      // expose public methods\n      focus, shake,\n\n      // private but needed by QSelect\n      __updateRefocusTarget (target) {\n        refocusTarget = target || null\n      }\n    })\n\n    onBeforeUnmount(cleanup)\n\n    function renderPortalContent () {\n      return h('div', {\n        role: 'dialog',\n        'aria-modal': useBackdrop.value === true ? 'true' : 'false',\n        ...attrs,\n        class: rootClasses.value\n      }, [\n        h(Transition, {\n          name: 'q-transition--fade',\n          appear: true\n        }, () => (\n          useBackdrop.value === true\n            ? h('div', {\n              class: 'q-dialog__backdrop fixed-full',\n              style: backdropStyle.value,\n              'aria-hidden': 'true',\n              tabindex: -1,\n              onClick: onBackdropClick\n            })\n            : null\n        )),\n\n        h(\n          Transition,\n          transitionProps.value,\n          () => (\n            showing.value === true\n              ? h('div', {\n                ref: innerRef,\n                class: classes.value,\n                style: transitionStyle.value,\n                tabindex: -1,\n                ...onEvents.value\n              }, hSlot(slots.default))\n              : null\n          )\n        )\n      ])\n    }\n\n    return renderPortal\n  }\n})\n","let rtlHasScrollBug = false\n\n// mobile Chrome takes the crown for this\nif (!__QUASAR_SSR__) {\n  const scroller = document.createElement('div')\n  scroller.setAttribute('dir', 'rtl')\n  Object.assign(scroller.style, {\n    width: '1px',\n    height: '1px',\n    overflow: 'auto'\n  })\n\n  const spacer = document.createElement('div')\n  Object.assign(spacer.style, {\n    width: '1000px',\n    height: '1px'\n  })\n\n  document.body.appendChild(scroller)\n  scroller.appendChild(spacer)\n  scroller.scrollLeft = -1000\n\n  rtlHasScrollBug = scroller.scrollLeft >= 0\n\n  scroller.remove()\n}\n\nexport {\n  rtlHasScrollBug\n}\n","import { h, ref, computed, watch, onActivated, onDeactivated, onBeforeMount, onBeforeUnmount, nextTick, getCurrentInstance } from 'vue'\n\nimport debounce from '../../utils/debounce/debounce.js'\nimport { noop } from '../../utils/event/event.js'\nimport { rtlHasScrollBug } from '../../utils/private.rtl/rtl.js'\n\nconst aggBucketSize = 1000\n\nconst scrollToEdges = [\n  'start',\n  'center',\n  'end',\n  'start-force',\n  'center-force',\n  'end-force'\n]\n\nconst filterProto = Array.prototype.filter\n\nconst setOverflowAnchor = __QUASAR_SSR__ || window.getComputedStyle(document.body).overflowAnchor === void 0\n  ? noop\n  : function (contentEl, index) {\n    if (contentEl === null) return\n\n    if (contentEl._qOverflowAnimationFrame !== void 0) {\n      cancelAnimationFrame(contentEl._qOverflowAnimationFrame)\n    }\n\n    contentEl._qOverflowAnimationFrame = requestAnimationFrame(() => {\n      if (contentEl === null) return\n\n      contentEl._qOverflowAnimationFrame = void 0\n      const children = contentEl.children || []\n\n      filterProto\n        .call(children, el => el.dataset && el.dataset.qVsAnchor !== void 0)\n        .forEach(el => {\n          delete el.dataset.qVsAnchor\n        })\n\n      const el = children[ index ]\n\n      if (el?.dataset) {\n        el.dataset.qVsAnchor = ''\n      }\n    })\n  }\n\nfunction sumFn (acc, h) {\n  return acc + h\n}\n\nfunction getScrollDetails (\n  parent,\n  child,\n  beforeRef,\n  afterRef,\n  horizontal,\n  rtl,\n  stickyStart,\n  stickyEnd\n) {\n  const\n    parentCalc = parent === window ? document.scrollingElement || document.documentElement : parent,\n    propElSize = horizontal === true ? 'offsetWidth' : 'offsetHeight',\n    details = {\n      scrollStart: 0,\n      scrollViewSize: -stickyStart - stickyEnd,\n      scrollMaxSize: 0,\n      offsetStart: -stickyStart,\n      offsetEnd: -stickyEnd\n    }\n\n  if (horizontal === true) {\n    if (parent === window) {\n      details.scrollStart = window.pageXOffset || window.scrollX || document.body.scrollLeft || 0\n      details.scrollViewSize += document.documentElement.clientWidth\n    }\n    else {\n      details.scrollStart = parentCalc.scrollLeft\n      details.scrollViewSize += parentCalc.clientWidth\n    }\n    details.scrollMaxSize = parentCalc.scrollWidth\n\n    if (rtl === true) {\n      details.scrollStart = (rtlHasScrollBug === true ? details.scrollMaxSize - details.scrollViewSize : 0) - details.scrollStart\n    }\n  }\n  else {\n    if (parent === window) {\n      details.scrollStart = window.pageYOffset || window.scrollY || document.body.scrollTop || 0\n      details.scrollViewSize += document.documentElement.clientHeight\n    }\n    else {\n      details.scrollStart = parentCalc.scrollTop\n      details.scrollViewSize += parentCalc.clientHeight\n    }\n    details.scrollMaxSize = parentCalc.scrollHeight\n  }\n\n  if (beforeRef !== null) {\n    for (let el = beforeRef.previousElementSibling; el !== null; el = el.previousElementSibling) {\n      if (el.classList.contains('q-virtual-scroll--skip') === false) {\n        details.offsetStart += el[ propElSize ]\n      }\n    }\n  }\n\n  if (afterRef !== null) {\n    for (let el = afterRef.nextElementSibling; el !== null; el = el.nextElementSibling) {\n      if (el.classList.contains('q-virtual-scroll--skip') === false) {\n        details.offsetEnd += el[ propElSize ]\n      }\n    }\n  }\n\n  if (child !== parent) {\n    const\n      parentRect = parentCalc.getBoundingClientRect(),\n      childRect = child.getBoundingClientRect()\n\n    if (horizontal === true) {\n      details.offsetStart += childRect.left - parentRect.left\n      details.offsetEnd -= childRect.width\n    }\n    else {\n      details.offsetStart += childRect.top - parentRect.top\n      details.offsetEnd -= childRect.height\n    }\n\n    if (parent !== window) {\n      details.offsetStart += details.scrollStart\n    }\n    details.offsetEnd += details.scrollMaxSize - details.offsetStart\n  }\n\n  return details\n}\n\nfunction setScroll (parent, scroll, horizontal, rtl) {\n  if (scroll === 'end') {\n    scroll = (parent === window ? document.body : parent)[\n      horizontal === true ? 'scrollWidth' : 'scrollHeight'\n    ]\n  }\n\n  if (parent === window) {\n    if (horizontal === true) {\n      if (rtl === true) {\n        scroll = (rtlHasScrollBug === true ? document.body.scrollWidth - document.documentElement.clientWidth : 0) - scroll\n      }\n      window.scrollTo(scroll, window.pageYOffset || window.scrollY || document.body.scrollTop || 0)\n    }\n    else {\n      window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, scroll)\n    }\n  }\n  else if (horizontal === true) {\n    if (rtl === true) {\n      scroll = (rtlHasScrollBug === true ? parent.scrollWidth - parent.offsetWidth : 0) - scroll\n    }\n    parent.scrollLeft = scroll\n  }\n  else {\n    parent.scrollTop = scroll\n  }\n}\n\nfunction sumSize (sizeAgg, size, from, to) {\n  if (from >= to) { return 0 }\n\n  const\n    lastTo = size.length,\n    fromAgg = Math.floor(from / aggBucketSize),\n    toAgg = Math.floor((to - 1) / aggBucketSize) + 1\n\n  let total = sizeAgg.slice(fromAgg, toAgg).reduce(sumFn, 0)\n\n  if (from % aggBucketSize !== 0) {\n    total -= size.slice(fromAgg * aggBucketSize, from).reduce(sumFn, 0)\n  }\n  if (to % aggBucketSize !== 0 && to !== lastTo) {\n    total -= size.slice(to, toAgg * aggBucketSize).reduce(sumFn, 0)\n  }\n\n  return total\n}\n\nconst commonVirtScrollProps = {\n  virtualScrollSliceSize: {\n    type: [ Number, String ],\n    default: 10\n  },\n\n  virtualScrollSliceRatioBefore: {\n    type: [ Number, String ],\n    default: 1\n  },\n\n  virtualScrollSliceRatioAfter: {\n    type: [ Number, String ],\n    default: 1\n  },\n\n  virtualScrollItemSize: {\n    type: [ Number, String ],\n    default: 24\n  },\n\n  virtualScrollStickySizeStart: {\n    type: [ Number, String ],\n    default: 0\n  },\n\n  virtualScrollStickySizeEnd: {\n    type: [ Number, String ],\n    default: 0\n  },\n\n  tableColspan: [ Number, String ]\n}\n\nexport const commonVirtScrollPropsList = Object.keys(commonVirtScrollProps)\n\nexport const useVirtualScrollProps = {\n  virtualScrollHorizontal: Boolean,\n  onVirtualScroll: Function,\n  ...commonVirtScrollProps\n}\n\nexport function useVirtualScroll ({\n  virtualScrollLength, getVirtualScrollTarget, getVirtualScrollEl,\n  virtualScrollItemSizeComputed // optional\n}) {\n  const vm = getCurrentInstance()\n\n  const { props, emit, proxy } = vm\n  const { $q } = proxy\n\n  let prevScrollStart, prevToIndex, localScrollViewSize, virtualScrollSizesAgg = [], virtualScrollSizes\n\n  const virtualScrollPaddingBefore = ref(0)\n  const virtualScrollPaddingAfter = ref(0)\n  const virtualScrollSliceSizeComputed = ref({})\n\n  const beforeRef = ref(null)\n  const afterRef = ref(null)\n  const contentRef = ref(null)\n\n  const virtualScrollSliceRange = ref({ from: 0, to: 0 })\n\n  const colspanAttr = computed(() => (props.tableColspan !== void 0 ? props.tableColspan : 100))\n\n  if (virtualScrollItemSizeComputed === void 0) {\n    virtualScrollItemSizeComputed = computed(() => props.virtualScrollItemSize)\n  }\n\n  const needsReset = computed(() => virtualScrollItemSizeComputed.value + ';' + props.virtualScrollHorizontal)\n\n  const needsSliceRecalc = computed(() =>\n    needsReset.value + ';' + props.virtualScrollSliceRatioBefore + ';' + props.virtualScrollSliceRatioAfter\n  )\n\n  watch(needsSliceRecalc, () => { setVirtualScrollSize() })\n  watch(needsReset, reset)\n\n  function reset () {\n    localResetVirtualScroll(prevToIndex, true)\n  }\n\n  function refresh (toIndex) {\n    localResetVirtualScroll(toIndex === void 0 ? prevToIndex : toIndex)\n  }\n\n  function scrollTo (toIndex, edge) {\n    const scrollEl = getVirtualScrollTarget()\n\n    if (\n      scrollEl === void 0\n      || scrollEl === null\n      || scrollEl.nodeType === 8\n    ) return\n\n    const scrollDetails = getScrollDetails(\n      scrollEl,\n      getVirtualScrollEl(),\n      beforeRef.value,\n      afterRef.value,\n      props.virtualScrollHorizontal,\n      $q.lang.rtl,\n      props.virtualScrollStickySizeStart,\n      props.virtualScrollStickySizeEnd\n    )\n\n    localScrollViewSize !== scrollDetails.scrollViewSize && setVirtualScrollSize(scrollDetails.scrollViewSize)\n\n    setVirtualScrollSliceRange(\n      scrollEl,\n      scrollDetails,\n      Math.min(virtualScrollLength.value - 1, Math.max(0, parseInt(toIndex, 10) || 0)),\n      0,\n      scrollToEdges.indexOf(edge) !== -1 ? edge : (prevToIndex !== -1 && toIndex > prevToIndex ? 'end' : 'start')\n    )\n  }\n\n  function localOnVirtualScrollEvt () {\n    const scrollEl = getVirtualScrollTarget()\n\n    if (\n      scrollEl === void 0\n      || scrollEl === null\n      || scrollEl.nodeType === 8\n    ) return\n\n    const\n      scrollDetails = getScrollDetails(\n        scrollEl,\n        getVirtualScrollEl(),\n        beforeRef.value,\n        afterRef.value,\n        props.virtualScrollHorizontal,\n        $q.lang.rtl,\n        props.virtualScrollStickySizeStart,\n        props.virtualScrollStickySizeEnd\n      ),\n      listLastIndex = virtualScrollLength.value - 1,\n      listEndOffset = scrollDetails.scrollMaxSize - scrollDetails.offsetStart - scrollDetails.offsetEnd - virtualScrollPaddingAfter.value\n\n    if (prevScrollStart === scrollDetails.scrollStart) return\n\n    if (scrollDetails.scrollMaxSize <= 0) {\n      setVirtualScrollSliceRange(scrollEl, scrollDetails, 0, 0)\n      return\n    }\n\n    localScrollViewSize !== scrollDetails.scrollViewSize && setVirtualScrollSize(scrollDetails.scrollViewSize)\n\n    updateVirtualScrollSizes(virtualScrollSliceRange.value.from)\n\n    const scrollMaxStart = Math.floor(scrollDetails.scrollMaxSize\n      - Math.max(scrollDetails.scrollViewSize, scrollDetails.offsetEnd)\n      - Math.min(virtualScrollSizes[ listLastIndex ], scrollDetails.scrollViewSize / 2))\n\n    if (scrollMaxStart > 0 && Math.ceil(scrollDetails.scrollStart) >= scrollMaxStart) {\n      setVirtualScrollSliceRange(\n        scrollEl,\n        scrollDetails,\n        listLastIndex,\n        scrollDetails.scrollMaxSize - scrollDetails.offsetEnd - virtualScrollSizesAgg.reduce(sumFn, 0)\n      )\n\n      return\n    }\n\n    let\n      toIndex = 0,\n      listOffset = scrollDetails.scrollStart - scrollDetails.offsetStart,\n      offset = listOffset\n\n    if (listOffset <= listEndOffset && listOffset + scrollDetails.scrollViewSize >= virtualScrollPaddingBefore.value) {\n      listOffset -= virtualScrollPaddingBefore.value\n      toIndex = virtualScrollSliceRange.value.from\n      offset = listOffset\n    }\n    else {\n      for (let j = 0; listOffset >= virtualScrollSizesAgg[ j ] && toIndex < listLastIndex; j++) {\n        listOffset -= virtualScrollSizesAgg[ j ]\n        toIndex += aggBucketSize\n      }\n    }\n\n    while (listOffset > 0 && toIndex < listLastIndex) {\n      listOffset -= virtualScrollSizes[ toIndex ]\n      if (listOffset > -scrollDetails.scrollViewSize) {\n        toIndex++\n        offset = listOffset\n      }\n      else {\n        offset = virtualScrollSizes[ toIndex ] + listOffset\n      }\n    }\n\n    setVirtualScrollSliceRange(\n      scrollEl,\n      scrollDetails,\n      toIndex,\n      offset\n    )\n  }\n\n  function setVirtualScrollSliceRange (scrollEl, scrollDetails, toIndex, offset, align) {\n    const alignForce = typeof align === 'string' && align.indexOf('-force') !== -1\n    const alignEnd = alignForce === true ? align.replace('-force', '') : align\n    const alignRange = alignEnd !== void 0 ? alignEnd : 'start'\n\n    let\n      from = Math.max(0, toIndex - virtualScrollSliceSizeComputed.value[ alignRange ]),\n      to = from + virtualScrollSliceSizeComputed.value.total\n\n    if (to > virtualScrollLength.value) {\n      to = virtualScrollLength.value\n      from = Math.max(0, to - virtualScrollSliceSizeComputed.value.total)\n    }\n\n    prevScrollStart = scrollDetails.scrollStart\n\n    const rangeChanged = from !== virtualScrollSliceRange.value.from || to !== virtualScrollSliceRange.value.to\n\n    if (rangeChanged === false && alignEnd === void 0) {\n      emitScroll(toIndex)\n      return\n    }\n\n    const { activeElement } = document\n    const contentEl = contentRef.value\n    if (\n      rangeChanged === true\n      && contentEl !== null\n      && contentEl !== activeElement\n      && contentEl.contains(activeElement) === true\n    ) {\n      contentEl.addEventListener('focusout', onBlurRefocusFn)\n\n      setTimeout(() => {\n        contentEl?.removeEventListener('focusout', onBlurRefocusFn)\n      })\n    }\n\n    setOverflowAnchor(contentEl, toIndex - from)\n\n    const sizeBefore = alignEnd !== void 0 ? virtualScrollSizes.slice(from, toIndex).reduce(sumFn, 0) : 0\n\n    if (rangeChanged === true) {\n      // vue key matching algorithm works only if\n      // the array of VNodes changes on only one of the ends\n      // so we first change one end and then the other\n\n      const tempTo = to >= virtualScrollSliceRange.value.from && from <= virtualScrollSliceRange.value.to\n        ? virtualScrollSliceRange.value.to\n        : to\n\n      virtualScrollSliceRange.value = { from, to: tempTo }\n      virtualScrollPaddingBefore.value = sumSize(virtualScrollSizesAgg, virtualScrollSizes, 0, from)\n      virtualScrollPaddingAfter.value = sumSize(virtualScrollSizesAgg, virtualScrollSizes, to, virtualScrollLength.value)\n\n      requestAnimationFrame(() => {\n        if (virtualScrollSliceRange.value.to !== to && prevScrollStart === scrollDetails.scrollStart) {\n          virtualScrollSliceRange.value = { from: virtualScrollSliceRange.value.from, to }\n          virtualScrollPaddingAfter.value = sumSize(virtualScrollSizesAgg, virtualScrollSizes, to, virtualScrollLength.value)\n        }\n      })\n    }\n\n    requestAnimationFrame(() => {\n      // if the scroll was changed give up\n      // (another call to setVirtualScrollSliceRange before animation frame)\n      if (prevScrollStart !== scrollDetails.scrollStart) return\n\n      if (rangeChanged === true) {\n        updateVirtualScrollSizes(from)\n      }\n\n      const\n        sizeAfter = virtualScrollSizes.slice(from, toIndex).reduce(sumFn, 0),\n        posStart = sizeAfter + scrollDetails.offsetStart + virtualScrollPaddingBefore.value,\n        posEnd = posStart + virtualScrollSizes[ toIndex ]\n\n      let scrollPosition = posStart + offset\n\n      if (alignEnd !== void 0) {\n        const sizeDiff = sizeAfter - sizeBefore\n        const scrollStart = scrollDetails.scrollStart + sizeDiff\n\n        scrollPosition = alignForce !== true && scrollStart < posStart && posEnd < scrollStart + scrollDetails.scrollViewSize\n          ? scrollStart\n          : (\n              alignEnd === 'end'\n                ? posEnd - scrollDetails.scrollViewSize\n                : posStart - (alignEnd === 'start' ? 0 : Math.round((scrollDetails.scrollViewSize - virtualScrollSizes[ toIndex ]) / 2))\n            )\n      }\n\n      prevScrollStart = scrollPosition\n\n      setScroll(\n        scrollEl,\n        scrollPosition,\n        props.virtualScrollHorizontal,\n        $q.lang.rtl\n      )\n\n      emitScroll(toIndex)\n    })\n  }\n\n  function updateVirtualScrollSizes (from) {\n    const contentEl = contentRef.value\n\n    if (contentEl) {\n      const\n        children = filterProto.call(\n          contentEl.children,\n          el => el.classList && el.classList.contains('q-virtual-scroll--skip') === false\n        ),\n        childrenLength = children.length,\n        sizeFn = props.virtualScrollHorizontal === true\n          ? el => el.getBoundingClientRect().width\n          : el => el.offsetHeight\n\n      let\n        index = from,\n        size, diff\n\n      for (let i = 0; i < childrenLength;) {\n        size = sizeFn(children[ i ])\n        i++\n\n        while (i < childrenLength && children[ i ].classList.contains('q-virtual-scroll--with-prev') === true) {\n          size += sizeFn(children[ i ])\n          i++\n        }\n\n        diff = size - virtualScrollSizes[ index ]\n\n        if (diff !== 0) {\n          virtualScrollSizes[ index ] += diff\n          virtualScrollSizesAgg[ Math.floor(index / aggBucketSize) ] += diff\n        }\n\n        index++\n      }\n    }\n  }\n\n  function onBlurRefocusFn () {\n    contentRef.value?.focus()\n  }\n\n  function localResetVirtualScroll (toIndex, fullReset) {\n    const defaultSize = 1 * virtualScrollItemSizeComputed.value\n\n    if (fullReset === true || Array.isArray(virtualScrollSizes) === false) {\n      virtualScrollSizes = []\n    }\n\n    const oldVirtualScrollSizesLength = virtualScrollSizes.length\n\n    virtualScrollSizes.length = virtualScrollLength.value\n\n    for (let i = virtualScrollLength.value - 1; i >= oldVirtualScrollSizesLength; i--) {\n      virtualScrollSizes[ i ] = defaultSize\n    }\n\n    const jMax = Math.floor((virtualScrollLength.value - 1) / aggBucketSize)\n    virtualScrollSizesAgg = []\n    for (let j = 0; j <= jMax; j++) {\n      let size = 0\n      const iMax = Math.min((j + 1) * aggBucketSize, virtualScrollLength.value)\n      for (let i = j * aggBucketSize; i < iMax; i++) {\n        size += virtualScrollSizes[ i ]\n      }\n      virtualScrollSizesAgg.push(size)\n    }\n\n    prevToIndex = -1\n    prevScrollStart = void 0\n\n    virtualScrollPaddingBefore.value = sumSize(virtualScrollSizesAgg, virtualScrollSizes, 0, virtualScrollSliceRange.value.from)\n    virtualScrollPaddingAfter.value = sumSize(virtualScrollSizesAgg, virtualScrollSizes, virtualScrollSliceRange.value.to, virtualScrollLength.value)\n\n    if (toIndex >= 0) {\n      updateVirtualScrollSizes(virtualScrollSliceRange.value.from)\n      nextTick(() => { scrollTo(toIndex) })\n    }\n    else {\n      onVirtualScrollEvt()\n    }\n  }\n\n  function setVirtualScrollSize (scrollViewSize) {\n    if (scrollViewSize === void 0 && typeof window !== 'undefined') {\n      const scrollEl = getVirtualScrollTarget()\n\n      if (scrollEl !== void 0 && scrollEl !== null && scrollEl.nodeType !== 8) {\n        scrollViewSize = getScrollDetails(\n          scrollEl,\n          getVirtualScrollEl(),\n          beforeRef.value,\n          afterRef.value,\n          props.virtualScrollHorizontal,\n          $q.lang.rtl,\n          props.virtualScrollStickySizeStart,\n          props.virtualScrollStickySizeEnd\n        ).scrollViewSize\n      }\n    }\n\n    localScrollViewSize = scrollViewSize\n\n    const virtualScrollSliceRatioBefore = parseFloat(props.virtualScrollSliceRatioBefore) || 0\n    const virtualScrollSliceRatioAfter = parseFloat(props.virtualScrollSliceRatioAfter) || 0\n    const multiplier = 1 + virtualScrollSliceRatioBefore + virtualScrollSliceRatioAfter\n    const view = scrollViewSize === void 0 || scrollViewSize <= 0\n      ? 1\n      : Math.ceil(scrollViewSize / virtualScrollItemSizeComputed.value)\n\n    const baseSize = Math.max(\n      1,\n      view,\n      Math.ceil((props.virtualScrollSliceSize > 0 ? props.virtualScrollSliceSize : 10) / multiplier)\n    )\n\n    virtualScrollSliceSizeComputed.value = {\n      total: Math.ceil(baseSize * multiplier),\n      start: Math.ceil(baseSize * virtualScrollSliceRatioBefore),\n      center: Math.ceil(baseSize * (0.5 + virtualScrollSliceRatioBefore)),\n      end: Math.ceil(baseSize * (1 + virtualScrollSliceRatioBefore)),\n      view\n    }\n  }\n\n  function padVirtualScroll (tag, content) {\n    const paddingSize = props.virtualScrollHorizontal === true ? 'width' : 'height'\n    const style = {\n      [ '--q-virtual-scroll-item-' + paddingSize ]: virtualScrollItemSizeComputed.value + 'px'\n    }\n\n    return [\n      tag === 'tbody'\n        ? h(tag, {\n          class: 'q-virtual-scroll__padding',\n          key: 'before',\n          ref: beforeRef\n        }, [\n          h('tr', [\n            h('td', {\n              style: { [ paddingSize ]: `${ virtualScrollPaddingBefore.value }px`, ...style },\n              colspan: colspanAttr.value\n            })\n          ])\n        ])\n        : h(tag, {\n          class: 'q-virtual-scroll__padding',\n          key: 'before',\n          ref: beforeRef,\n          style: { [ paddingSize ]: `${ virtualScrollPaddingBefore.value }px`, ...style }\n        }),\n\n      h(tag, {\n        class: 'q-virtual-scroll__content',\n        key: 'content',\n        ref: contentRef,\n        tabindex: -1\n      }, content.flat()),\n\n      tag === 'tbody'\n        ? h(tag, {\n          class: 'q-virtual-scroll__padding',\n          key: 'after',\n          ref: afterRef\n        }, [\n          h('tr', [\n            h('td', {\n              style: { [ paddingSize ]: `${ virtualScrollPaddingAfter.value }px`, ...style },\n              colspan: colspanAttr.value\n            })\n          ])\n        ])\n        : h(tag, {\n          class: 'q-virtual-scroll__padding',\n          key: 'after',\n          ref: afterRef,\n          style: { [ paddingSize ]: `${ virtualScrollPaddingAfter.value }px`, ...style }\n        })\n    ]\n  }\n\n  function emitScroll (index) {\n    if (prevToIndex !== index) {\n      props.onVirtualScroll !== void 0 && emit('virtualScroll', {\n        index,\n        from: virtualScrollSliceRange.value.from,\n        to: virtualScrollSliceRange.value.to - 1,\n        direction: index < prevToIndex ? 'decrease' : 'increase',\n        ref: proxy\n      })\n\n      prevToIndex = index\n    }\n  }\n\n  setVirtualScrollSize()\n  const onVirtualScrollEvt = debounce(\n    localOnVirtualScrollEvt,\n    $q.platform.is.ios === true ? 120 : 35\n  )\n\n  onBeforeMount(() => {\n    setVirtualScrollSize()\n  })\n\n  let shouldActivate = false\n\n  onDeactivated(() => {\n    shouldActivate = true\n  })\n\n  onActivated(() => {\n    if (shouldActivate !== true) return\n\n    const scrollEl = getVirtualScrollTarget()\n\n    if (prevScrollStart !== void 0 && scrollEl !== void 0 && scrollEl !== null && scrollEl.nodeType !== 8) {\n      setScroll(\n        scrollEl,\n        prevScrollStart,\n        props.virtualScrollHorizontal,\n        $q.lang.rtl\n      )\n    }\n    else {\n      scrollTo(prevToIndex)\n    }\n  })\n\n  __QUASAR_SSR__ || onBeforeUnmount(() => {\n    onVirtualScrollEvt.cancel()\n  })\n\n  // expose public methods\n  Object.assign(proxy, { scrollTo, reset, refresh })\n\n  return {\n    virtualScrollSliceRange,\n    virtualScrollSliceSizeComputed,\n\n    setVirtualScrollSize,\n    onVirtualScrollEvt,\n    localResetVirtualScroll,\n    padVirtualScroll,\n\n    scrollTo,\n    reset,\n    refresh\n  }\n}\n","import { h, ref, computed, watch, onBeforeUpdate, onUpdated, onBeforeUnmount, nextTick, getCurrentInstance } from 'vue'\n\nimport QField from '../field/QField.js'\nimport QIcon from '../icon/QIcon.js'\nimport QChip from '../chip/QChip.js'\n\nimport QItem from '../item/QItem.js'\nimport QItemSection from '../item/QItemSection.js'\nimport QItemLabel from '../item/QItemLabel.js'\n\nimport QMenu from '../menu/QMenu.js'\nimport QDialog from '../dialog/QDialog.js'\n\nimport useField, { useFieldState, useFieldProps, useFieldEmits, fieldValueIsFilled } from '../../composables/private.use-field/use-field.js'\nimport { useVirtualScroll, useVirtualScrollProps } from '../virtual-scroll/use-virtual-scroll.js'\nimport { useFormProps, useFormInputNameAttr } from '../../composables/use-form/private.use-form.js'\nimport useKeyComposition from '../../composables/private.use-key-composition/use-key-composition.js'\n\nimport { createComponent } from '../../utils/private.create/create.js'\nimport { isDeepEqual } from '../../utils/is/is.js'\nimport { stop, prevent, stopAndPrevent } from '../../utils/event/event.js'\nimport { normalizeToInterval } from '../../utils/format/format.js'\nimport { shouldIgnoreKey, isKeyCode } from '../../utils/private.keyboard/key-composition.js'\nimport { hMergeSlot } from '../../utils/private.render/render.js'\n\nconst validateNewValueMode = v => [ 'add', 'add-unique', 'toggle' ].includes(v)\nconst reEscapeList = '.*+?^${}()|[]\\\\'\nconst fieldPropsList = Object.keys(useFieldProps)\n\nfunction getPropValueFn (userPropName, defaultPropName) {\n  if (typeof userPropName === 'function') return userPropName\n\n  const propName = userPropName !== void 0\n    ? userPropName\n    : defaultPropName\n\n  return opt => ((opt !== null && typeof opt === 'object' && propName in opt) ? opt[ propName ] : opt)\n}\n\nexport default createComponent({\n  name: 'QSelect',\n\n  inheritAttrs: false,\n\n  props: {\n    ...useVirtualScrollProps,\n    ...useFormProps,\n    ...useFieldProps,\n\n    // override of useFieldProps > modelValue\n    modelValue: {\n      required: true\n    },\n\n    multiple: Boolean,\n\n    displayValue: [ String, Number ],\n    displayValueHtml: Boolean,\n    dropdownIcon: String,\n\n    options: {\n      type: Array,\n      default: () => []\n    },\n\n    optionValue: [ Function, String ],\n    optionLabel: [ Function, String ],\n    optionDisable: [ Function, String ],\n\n    hideSelected: Boolean,\n    hideDropdownIcon: Boolean,\n    fillInput: Boolean,\n\n    maxValues: [ Number, String ],\n\n    optionsDense: Boolean,\n    optionsDark: {\n      type: Boolean,\n      default: null\n    },\n    optionsSelectedClass: String,\n    optionsHtml: Boolean,\n\n    optionsCover: Boolean,\n\n    menuShrink: Boolean,\n    menuAnchor: String,\n    menuSelf: String,\n    menuOffset: Array,\n\n    popupContentClass: String,\n    popupContentStyle: [ String, Array, Object ],\n    popupNoRouteDismiss: Boolean,\n\n    useInput: Boolean,\n    useChips: Boolean,\n\n    newValueMode: {\n      type: String,\n      validator: validateNewValueMode\n    },\n\n    mapOptions: Boolean,\n    emitValue: Boolean,\n\n    disableTabSelection: Boolean,\n\n    inputDebounce: {\n      type: [ Number, String ],\n      default: 500\n    },\n\n    inputClass: [ Array, String, Object ],\n    inputStyle: [ Array, String, Object ],\n\n    tabindex: {\n      type: [ String, Number ],\n      default: 0\n    },\n\n    autocomplete: String,\n\n    transitionShow: {},\n    transitionHide: {},\n    transitionDuration: {},\n\n    behavior: {\n      type: String,\n      validator: v => [ 'default', 'menu', 'dialog' ].includes(v),\n      default: 'default'\n    },\n\n    // override of useVirtualScrollProps > virtualScrollItemSize (no default)\n    virtualScrollItemSize: useVirtualScrollProps.virtualScrollItemSize.type,\n\n    onNewValue: Function,\n    onFilter: Function\n  },\n\n  emits: [\n    ...useFieldEmits,\n    'add', 'remove', 'inputValue',\n    'keyup', 'keypress', 'keydown',\n    'popupShow', 'popupHide',\n    'filterAbort'\n  ],\n\n  setup (props, { slots, emit }) {\n    const { proxy } = getCurrentInstance()\n    const { $q } = proxy\n\n    const menu = ref(false)\n    const dialog = ref(false)\n    const optionIndex = ref(-1)\n    const inputValue = ref('')\n    const dialogFieldFocused = ref(false)\n    const innerLoadingIndicator = ref(false)\n\n    let filterTimer = null, inputValueTimer = null,\n      innerValueCache,\n      hasDialog, userInputValue, filterId = null, defaultInputValue,\n      transitionShowComputed, searchBuffer, searchBufferExp\n\n    const inputRef = ref(null)\n    const targetRef = ref(null)\n    const menuRef = ref(null)\n    const dialogRef = ref(null)\n    const menuContentRef = ref(null)\n\n    const nameProp = useFormInputNameAttr(props)\n\n    const onComposition = useKeyComposition(onInput)\n\n    const virtualScrollLength = computed(() => (\n      Array.isArray(props.options)\n        ? props.options.length\n        : 0\n    ))\n\n    const virtualScrollItemSizeComputed = computed(() => (\n      props.virtualScrollItemSize === void 0\n        ? (props.optionsDense === true ? 24 : 48)\n        : props.virtualScrollItemSize\n    ))\n\n    const {\n      virtualScrollSliceRange,\n      virtualScrollSliceSizeComputed,\n      localResetVirtualScroll,\n      padVirtualScroll,\n      onVirtualScrollEvt,\n      scrollTo,\n      setVirtualScrollSize\n    } = useVirtualScroll({\n      virtualScrollLength, getVirtualScrollTarget, getVirtualScrollEl,\n      virtualScrollItemSizeComputed\n    })\n\n    const state = useFieldState()\n\n    const innerValue = computed(() => {\n      const\n        mapNull = props.mapOptions === true && props.multiple !== true,\n        val = props.modelValue !== void 0 && (props.modelValue !== null || mapNull === true)\n          ? (props.multiple === true && Array.isArray(props.modelValue) ? props.modelValue : [ props.modelValue ])\n          : []\n\n      if (props.mapOptions === true && Array.isArray(props.options) === true) {\n        const cache = props.mapOptions === true && innerValueCache !== void 0\n          ? innerValueCache\n          : []\n        const values = val.map(v => getOption(v, cache))\n\n        return props.modelValue === null && mapNull === true\n          ? values.filter(v => v !== null)\n          : values\n      }\n\n      return val\n    })\n\n    const innerFieldProps = computed(() => {\n      const acc = {}\n      fieldPropsList.forEach(key => {\n        const val = props[ key ]\n        if (val !== void 0) {\n          acc[ key ] = val\n        }\n      })\n      return acc\n    })\n\n    const isOptionsDark = computed(() => (\n      props.optionsDark === null\n        ? state.isDark.value\n        : props.optionsDark\n    ))\n\n    const hasValue = computed(() => fieldValueIsFilled(innerValue.value))\n\n    const computedInputClass = computed(() => {\n      let cls = 'q-field__input q-placeholder col'\n\n      if (props.hideSelected === true || innerValue.value.length === 0) {\n        return [ cls, props.inputClass ]\n      }\n\n      cls += ' q-field__input--padding'\n\n      return props.inputClass === void 0\n        ? cls\n        : [ cls, props.inputClass ]\n    })\n\n    const menuContentClass = computed(() =>\n      (props.virtualScrollHorizontal === true ? 'q-virtual-scroll--horizontal' : '')\n      + (props.popupContentClass ? ' ' + props.popupContentClass : '')\n    )\n\n    const noOptions = computed(() => virtualScrollLength.value === 0)\n\n    const selectedString = computed(() =>\n      innerValue.value\n        .map(opt => getOptionLabel.value(opt))\n        .join(', ')\n    )\n\n    const ariaCurrentValue = computed(() => (props.displayValue !== void 0\n      ? props.displayValue\n      : selectedString.value\n    ))\n\n    const needsHtmlFn = computed(() => (\n      props.optionsHtml === true\n        ? () => true\n        : opt => opt?.html === true\n    ))\n\n    const valueAsHtml = computed(() => (\n      props.displayValueHtml === true || (\n        props.displayValue === void 0 && (\n          props.optionsHtml === true\n          || innerValue.value.some(needsHtmlFn.value)\n        )\n      )\n    ))\n\n    const tabindex = computed(() => (state.focused.value === true ? props.tabindex : -1))\n\n    const comboboxAttrs = computed(() => {\n      const attrs = {\n        tabindex: props.tabindex,\n        role: 'combobox',\n        'aria-label': props.label,\n        'aria-readonly': props.readonly === true ? 'true' : 'false',\n        'aria-autocomplete': props.useInput === true ? 'list' : 'none',\n        'aria-expanded': menu.value === true ? 'true' : 'false',\n        'aria-controls': `${ state.targetUid.value }_lb`\n      }\n\n      if (optionIndex.value >= 0) {\n        attrs[ 'aria-activedescendant' ] = `${ state.targetUid.value }_${ optionIndex.value }`\n      }\n\n      return attrs\n    })\n\n    const listboxAttrs = computed(() => ({\n      id: `${ state.targetUid.value }_lb`,\n      role: 'listbox',\n      'aria-multiselectable': props.multiple === true ? 'true' : 'false'\n    }))\n\n    const selectedScope = computed(() => {\n      return innerValue.value.map((opt, i) => ({\n        index: i,\n        opt,\n        html: needsHtmlFn.value(opt),\n        selected: true,\n        removeAtIndex: removeAtIndexAndFocus,\n        toggleOption,\n        tabindex: tabindex.value\n      }))\n    })\n\n    const optionScope = computed(() => {\n      if (virtualScrollLength.value === 0) {\n        return []\n      }\n\n      const { from, to } = virtualScrollSliceRange.value\n\n      return props.options.slice(from, to).map((opt, i) => {\n        const disable = isOptionDisabled.value(opt) === true\n        const active = isOptionSelected(opt) === true\n        const index = from + i\n\n        const itemProps = {\n          clickable: true,\n          active,\n          activeClass: computedOptionsSelectedClass.value,\n          manualFocus: true,\n          focused: false,\n          disable,\n          tabindex: -1,\n          dense: props.optionsDense,\n          dark: isOptionsDark.value,\n          role: 'option',\n          'aria-selected': active === true ? 'true' : 'false',\n          id: `${ state.targetUid.value }_${ index }`,\n          onClick: () => { toggleOption(opt) }\n        }\n\n        if (disable !== true) {\n          optionIndex.value === index && (itemProps.focused = true)\n\n          if ($q.platform.is.desktop === true) {\n            itemProps.onMousemove = () => { menu.value === true && setOptionIndex(index) }\n          }\n        }\n\n        return {\n          index,\n          opt,\n          html: needsHtmlFn.value(opt),\n          label: getOptionLabel.value(opt),\n          selected: itemProps.active,\n          focused: itemProps.focused,\n          toggleOption,\n          setOptionIndex,\n          itemProps\n        }\n      })\n    })\n\n    const dropdownArrowIcon = computed(() => (\n      props.dropdownIcon !== void 0\n        ? props.dropdownIcon\n        : $q.iconSet.arrow.dropdown\n    ))\n\n    const squaredMenu = computed(() =>\n      props.optionsCover === false\n      && props.outlined !== true\n      && props.standout !== true\n      && props.borderless !== true\n      && props.rounded !== true\n    )\n\n    const computedOptionsSelectedClass = computed(() => (\n      props.optionsSelectedClass !== void 0\n        ? props.optionsSelectedClass\n        : (props.color !== void 0 ? `text-${ props.color }` : '')\n    ))\n\n    // returns method to get value of an option;\n    // takes into account 'option-value' prop\n    const getOptionValue = computed(() => getPropValueFn(props.optionValue, 'value'))\n\n    // returns method to get label of an option;\n    // takes into account 'option-label' prop\n    const getOptionLabel = computed(() => getPropValueFn(props.optionLabel, 'label'))\n\n    // returns method to tell if an option is disabled;\n    // takes into account 'option-disable' prop\n    const isOptionDisabled = computed(() => getPropValueFn(props.optionDisable, 'disable'))\n\n    const innerOptionsValue = computed(() => innerValue.value.map(getOptionValue.value))\n\n    const inputControlEvents = computed(() => {\n      const evt = {\n        onInput,\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        onChange: onComposition,\n        onKeydown: onTargetKeydown,\n        onKeyup: onTargetAutocomplete,\n        onKeypress: onTargetKeypress,\n        onFocus: selectInputText,\n        onClick (e) { hasDialog === true && stop(e) }\n      }\n\n      evt.onCompositionstart = evt.onCompositionupdate = evt.onCompositionend = onComposition\n\n      return evt\n    })\n\n    watch(innerValue, val => {\n      innerValueCache = val\n\n      if (\n        props.useInput === true\n        && props.fillInput === true\n        && props.multiple !== true\n        // Prevent re-entering in filter while filtering\n        // Also prevent clearing inputValue while filtering\n        && state.innerLoading.value !== true\n        && ((dialog.value !== true && menu.value !== true) || hasValue.value !== true)\n      ) {\n        userInputValue !== true && resetInputValue()\n        if (dialog.value === true || menu.value === true) {\n          filter('')\n        }\n      }\n    }, { immediate: true })\n\n    watch(() => props.fillInput, resetInputValue)\n\n    watch(menu, updateMenu)\n\n    watch(virtualScrollLength, rerenderMenu)\n\n    function getEmittingOptionValue (opt) {\n      return props.emitValue === true\n        ? getOptionValue.value(opt)\n        : opt\n    }\n\n    function removeAtIndex (index) {\n      if (index !== -1 && index < innerValue.value.length) {\n        if (props.multiple === true) {\n          const model = props.modelValue.slice()\n          emit('remove', { index, value: model.splice(index, 1)[ 0 ] })\n          emit('update:modelValue', model)\n        }\n        else {\n          emit('update:modelValue', null)\n        }\n      }\n    }\n\n    function removeAtIndexAndFocus (index) {\n      removeAtIndex(index)\n      state.focus()\n    }\n\n    function add (opt, unique) {\n      const val = getEmittingOptionValue(opt)\n\n      if (props.multiple !== true) {\n        props.fillInput === true && updateInputValue(\n          getOptionLabel.value(opt),\n          true,\n          true\n        )\n\n        emit('update:modelValue', val)\n        return\n      }\n\n      if (innerValue.value.length === 0) {\n        emit('add', { index: 0, value: val })\n        emit('update:modelValue', props.multiple === true ? [ val ] : val)\n        return\n      }\n\n      if (\n        unique === true\n        && isOptionSelected(opt) === true\n      ) return\n\n      if (\n        props.maxValues !== void 0\n        && props.modelValue.length >= props.maxValues\n      ) return\n\n      const model = props.modelValue.slice()\n\n      emit('add', { index: model.length, value: val })\n      model.push(val)\n      emit('update:modelValue', model)\n    }\n\n    function toggleOption (opt, keepOpen) {\n      if (\n        state.editable.value !== true\n        || opt === void 0\n        || isOptionDisabled.value(opt) === true\n      ) return\n\n      const optValue = getOptionValue.value(opt)\n\n      if (props.multiple !== true) {\n        if (keepOpen !== true) {\n          updateInputValue(\n            props.fillInput === true ? getOptionLabel.value(opt) : '',\n            true,\n            true\n          )\n\n          hidePopup()\n        }\n\n        targetRef.value?.focus()\n\n        if (\n          innerValue.value.length === 0\n          || isDeepEqual(getOptionValue.value(innerValue.value[ 0 ]), optValue) !== true\n        ) {\n          emit('update:modelValue', props.emitValue === true ? optValue : opt)\n        }\n\n        return\n      }\n\n      if (hasDialog !== true || dialogFieldFocused.value === true) {\n        state.focus()\n      }\n\n      selectInputText()\n\n      if (innerValue.value.length === 0) {\n        const val = props.emitValue === true ? optValue : opt\n        emit('add', { index: 0, value: val })\n        emit('update:modelValue', props.multiple === true ? [ val ] : val)\n        return\n      }\n\n      const\n        model = props.modelValue.slice(),\n        index = innerOptionsValue.value.findIndex(v => isDeepEqual(v, optValue))\n\n      if (index !== -1) {\n        emit('remove', { index, value: model.splice(index, 1)[ 0 ] })\n      }\n      else {\n        if (\n          props.maxValues !== void 0\n          && model.length >= props.maxValues\n        ) return\n\n        const val = props.emitValue === true ? optValue : opt\n\n        emit('add', { index: model.length, value: val })\n        model.push(val)\n      }\n\n      emit('update:modelValue', model)\n    }\n\n    function setOptionIndex (index) {\n      if ($q.platform.is.desktop !== true) return\n\n      const val = index !== -1 && index < virtualScrollLength.value\n        ? index\n        : -1\n\n      if (optionIndex.value !== val) {\n        optionIndex.value = val\n      }\n    }\n\n    function moveOptionSelection (offset = 1, skipInputValue) {\n      if (menu.value === true) {\n        let index = optionIndex.value\n        do {\n          index = normalizeToInterval(\n            index + offset,\n            -1,\n            virtualScrollLength.value - 1\n          )\n        }\n        while (index !== -1 && index !== optionIndex.value && isOptionDisabled.value(props.options[ index ]) === true)\n\n        if (optionIndex.value !== index) {\n          setOptionIndex(index)\n          scrollTo(index)\n\n          if (skipInputValue !== true && props.useInput === true && props.fillInput === true) {\n            setInputValue(\n              index >= 0\n                ? getOptionLabel.value(props.options[ index ])\n                : defaultInputValue,\n              true\n            )\n          }\n        }\n      }\n    }\n\n    function getOption (value, valueCache) {\n      const fn = opt => isDeepEqual(getOptionValue.value(opt), value)\n      return props.options.find(fn) || valueCache.find(fn) || value\n    }\n\n    function isOptionSelected (opt) {\n      const val = getOptionValue.value(opt)\n      return innerOptionsValue.value.find(v => isDeepEqual(v, val)) !== void 0\n    }\n\n    function selectInputText (e) {\n      if (\n        props.useInput === true\n        && targetRef.value !== null\n        && (e === void 0 || (targetRef.value === e.target && e.target.value === selectedString.value))\n      ) {\n        targetRef.value.select()\n      }\n    }\n\n    function onTargetKeyup (e) {\n      // if ESC and we have an opened menu\n      // then stop propagation (might be caught by a QDialog\n      // and so it will also close the QDialog, which is wrong)\n      if (isKeyCode(e, 27) === true && menu.value === true) {\n        stop(e)\n        // on ESC we need to close the dialog also\n        hidePopup()\n        resetInputValue()\n      }\n\n      emit('keyup', e)\n    }\n\n    function onTargetAutocomplete (e) {\n      const { value } = e.target\n\n      if (e.keyCode !== void 0) {\n        onTargetKeyup(e)\n        return\n      }\n\n      e.target.value = ''\n\n      if (filterTimer !== null) {\n        clearTimeout(filterTimer)\n        filterTimer = null\n      }\n      if (inputValueTimer !== null) {\n        clearTimeout(inputValueTimer)\n        inputValueTimer = null\n      }\n\n      resetInputValue()\n\n      if (typeof value === 'string' && value.length !== 0) {\n        const needle = value.toLocaleLowerCase()\n        const findFn = extractFn => {\n          const option = props.options.find(opt => String(extractFn.value(opt)).toLocaleLowerCase() === needle)\n\n          if (option === void 0) return false\n\n          if (innerValue.value.indexOf(option) === -1) {\n            toggleOption(option)\n          }\n          else {\n            hidePopup()\n          }\n\n          return true\n        }\n        const fillFn = afterFilter => {\n          if (\n            findFn(getOptionValue) !== true\n            && afterFilter !== true\n            && findFn(getOptionLabel) !== true\n          ) {\n            filter(value, true, () => fillFn(true))\n          }\n        }\n\n        fillFn()\n      }\n      else {\n        state.clearValue(e)\n      }\n    }\n\n    function onTargetKeypress (e) {\n      emit('keypress', e)\n    }\n\n    function onTargetKeydown (e) {\n      emit('keydown', e)\n\n      if (shouldIgnoreKey(e) === true) return\n\n      const newValueModeValid = inputValue.value.length !== 0\n        && (props.newValueMode !== void 0 || props.onNewValue !== void 0)\n\n      const tabShouldSelect = e.shiftKey !== true\n        && props.disableTabSelection !== true\n        && props.multiple !== true\n        && (optionIndex.value !== -1 || newValueModeValid === true)\n\n      // escape\n      if (e.keyCode === 27) {\n        prevent(e) // prevent clearing the inputValue\n        return\n      }\n\n      // tab\n      if (e.keyCode === 9 && tabShouldSelect === false) {\n        closeMenu()\n        return\n      }\n\n      if (\n        e.target === void 0\n        || e.target.id !== state.targetUid.value\n        || state.editable.value !== true\n      ) return\n\n      // down\n      if (\n        e.keyCode === 40\n        && state.innerLoading.value !== true\n        && menu.value === false\n      ) {\n        stopAndPrevent(e)\n        showPopup()\n        return\n      }\n\n      // backspace\n      if (\n        e.keyCode === 8\n        && (\n          props.useChips === true\n          || props.clearable === true\n        )\n        && props.hideSelected !== true\n        && inputValue.value.length === 0\n      ) {\n        if (props.multiple === true && Array.isArray(props.modelValue) === true) {\n          removeAtIndex(props.modelValue.length - 1)\n        }\n        else if (props.multiple !== true && props.modelValue !== null) {\n          emit('update:modelValue', null)\n        }\n\n        return\n      }\n\n      // home, end - 36, 35\n      if (\n        (e.keyCode === 35 || e.keyCode === 36)\n        && (typeof inputValue.value !== 'string' || inputValue.value.length === 0)\n      ) {\n        stopAndPrevent(e)\n        optionIndex.value = -1\n        moveOptionSelection(e.keyCode === 36 ? 1 : -1, props.multiple)\n      }\n\n      // pg up, pg down - 33, 34\n      if (\n        (e.keyCode === 33 || e.keyCode === 34)\n        && virtualScrollSliceSizeComputed.value !== void 0\n      ) {\n        stopAndPrevent(e)\n        optionIndex.value = Math.max(\n          -1,\n          Math.min(\n            virtualScrollLength.value,\n            optionIndex.value + (e.keyCode === 33 ? -1 : 1) * virtualScrollSliceSizeComputed.value.view\n          )\n        )\n        moveOptionSelection(e.keyCode === 33 ? 1 : -1, props.multiple)\n      }\n\n      // up, down\n      if (e.keyCode === 38 || e.keyCode === 40) {\n        stopAndPrevent(e)\n        moveOptionSelection(e.keyCode === 38 ? -1 : 1, props.multiple)\n      }\n\n      const optionsLength = virtualScrollLength.value\n\n      // clear search buffer if expired\n      if (searchBuffer === void 0 || searchBufferExp < Date.now()) {\n        searchBuffer = ''\n      }\n\n      // keyboard search when not having use-input\n      if (\n        optionsLength > 0\n        && props.useInput !== true\n        && e.key !== void 0\n        && e.key.length === 1 // printable char\n        && e.altKey === false // not kbd shortcut\n        && e.ctrlKey === false // not kbd shortcut\n        && e.metaKey === false // not kbd shortcut, especially on macOS with Command key\n        && (e.keyCode !== 32 || searchBuffer.length !== 0) // space in middle of search\n      ) {\n        menu.value !== true && showPopup(e)\n\n        const\n          char = e.key.toLocaleLowerCase(),\n          keyRepeat = searchBuffer.length === 1 && searchBuffer[ 0 ] === char\n\n        searchBufferExp = Date.now() + 1500\n        if (keyRepeat === false) {\n          stopAndPrevent(e)\n          searchBuffer += char\n        }\n\n        const searchRe = new RegExp('^' + searchBuffer.split('').map(l => (reEscapeList.indexOf(l) !== -1 ? '\\\\' + l : l)).join('.*'), 'i')\n\n        let index = optionIndex.value\n\n        if (keyRepeat === true || index < 0 || searchRe.test(getOptionLabel.value(props.options[ index ])) !== true) {\n          do {\n            index = normalizeToInterval(index + 1, -1, optionsLength - 1)\n          }\n          while (index !== optionIndex.value && (\n            isOptionDisabled.value(props.options[ index ]) === true\n            || searchRe.test(getOptionLabel.value(props.options[ index ])) !== true\n          ))\n        }\n\n        if (optionIndex.value !== index) {\n          nextTick(() => {\n            setOptionIndex(index)\n            scrollTo(index)\n\n            if (index >= 0 && props.useInput === true && props.fillInput === true) {\n              setInputValue(getOptionLabel.value(props.options[ index ]), true)\n            }\n          })\n        }\n\n        return\n      }\n\n      // enter, space (when not using use-input and not in search), or tab (when not using multiple and option selected)\n      // same target is checked above\n      if (\n        e.keyCode !== 13\n        && (e.keyCode !== 32 || props.useInput === true || searchBuffer !== '')\n        && (e.keyCode !== 9 || tabShouldSelect === false)\n      ) return\n\n      e.keyCode !== 9 && stopAndPrevent(e)\n\n      if (optionIndex.value !== -1 && optionIndex.value < optionsLength) {\n        toggleOption(props.options[ optionIndex.value ])\n        return\n      }\n\n      if (newValueModeValid === true) {\n        const done = (val, mode) => {\n          if (mode) {\n            if (validateNewValueMode(mode) !== true) return\n          }\n          else {\n            mode = props.newValueMode\n          }\n\n          updateInputValue('', props.multiple !== true, true)\n\n          if (val === void 0 || val === null) return\n\n          const fn = mode === 'toggle' ? toggleOption : add\n          fn(val, mode === 'add-unique')\n\n          if (props.multiple !== true) {\n            targetRef.value?.focus()\n            hidePopup()\n          }\n        }\n\n        if (props.onNewValue !== void 0) {\n          emit('newValue', inputValue.value, done)\n        }\n        else {\n          done(inputValue.value)\n        }\n\n        if (props.multiple !== true) return\n      }\n\n      if (menu.value === true) {\n        closeMenu()\n      }\n      else if (state.innerLoading.value !== true) {\n        showPopup()\n      }\n    }\n\n    function getVirtualScrollEl () {\n      return hasDialog === true\n        ? menuContentRef.value\n        : (\n            menuRef.value !== null && menuRef.value.contentEl !== null\n              ? menuRef.value.contentEl\n              : void 0\n          )\n    }\n\n    function getVirtualScrollTarget () {\n      return getVirtualScrollEl()\n    }\n\n    function getSelection () {\n      if (props.hideSelected === true) {\n        return []\n      }\n\n      if (slots[ 'selected-item' ] !== void 0) {\n        return selectedScope.value.map(scope => slots[ 'selected-item' ](scope)).slice()\n      }\n\n      if (slots.selected !== void 0) {\n        return [].concat(slots.selected())\n      }\n\n      if (props.useChips === true) {\n        return selectedScope.value.map((scope, i) => h(QChip, {\n          key: 'option-' + i,\n          removable: state.editable.value === true && isOptionDisabled.value(scope.opt) !== true,\n          dense: true,\n          textColor: props.color,\n          tabindex: tabindex.value,\n          onRemove () { scope.removeAtIndex(i) }\n        }, () => h('span', {\n          class: 'ellipsis',\n          [ scope.html === true ? 'innerHTML' : 'textContent' ]: getOptionLabel.value(scope.opt)\n        })))\n      }\n\n      return [\n        h('span', {\n          class: 'ellipsis',\n          [ valueAsHtml.value === true ? 'innerHTML' : 'textContent' ]: ariaCurrentValue.value\n        })\n      ]\n    }\n\n    function getAllOptions () {\n      if (noOptions.value === true) {\n        return slots[ 'no-option' ] !== void 0\n          ? slots[ 'no-option' ]({ inputValue: inputValue.value })\n          : void 0\n      }\n\n      const fn = slots.option !== void 0\n        ? slots.option\n        : scope => {\n          return h(QItem, {\n            key: scope.index,\n            ...scope.itemProps\n          }, () => {\n            return h(\n              QItemSection,\n              () => h(\n                QItemLabel,\n                () => h('span', {\n                  [ scope.html === true ? 'innerHTML' : 'textContent' ]: scope.label\n                })\n              )\n            )\n          })\n        }\n\n      let options = padVirtualScroll('div', optionScope.value.map(fn))\n\n      if (slots[ 'before-options' ] !== void 0) {\n        options = slots[ 'before-options' ]().concat(options)\n      }\n\n      return hMergeSlot(slots[ 'after-options' ], options)\n    }\n\n    function getInput (fromDialog, isTarget) {\n      const attrs = isTarget === true ? { ...comboboxAttrs.value, ...state.splitAttrs.attributes.value } : void 0\n\n      const data = {\n        ref: isTarget === true ? targetRef : void 0,\n        key: 'i_t',\n        class: computedInputClass.value,\n        style: props.inputStyle,\n        value: inputValue.value !== void 0 ? inputValue.value : '',\n        // required for Android in order to show ENTER key when in form\n        type: 'search',\n        ...attrs,\n        id: isTarget === true ? state.targetUid.value : void 0,\n        maxlength: props.maxlength,\n        autocomplete: props.autocomplete,\n        'data-autofocus': fromDialog === true || props.autofocus === true || void 0,\n        disabled: props.disable === true,\n        readonly: props.readonly === true,\n        ...inputControlEvents.value\n      }\n\n      if (fromDialog !== true && hasDialog === true) {\n        if (Array.isArray(data.class) === true) {\n          data.class = [ ...data.class, 'no-pointer-events' ]\n        }\n        else {\n          data.class += ' no-pointer-events'\n        }\n      }\n\n      return h('input', data)\n    }\n\n    function onInput (e) {\n      if (filterTimer !== null) {\n        clearTimeout(filterTimer)\n        filterTimer = null\n      }\n      if (inputValueTimer !== null) {\n        clearTimeout(inputValueTimer)\n        inputValueTimer = null\n      }\n\n      if (\n        e\n        && e.target\n        && e.target.qComposing === true\n      ) return\n\n      setInputValue(e.target.value || '')\n      // mark it here as user input so that if updateInputValue is called\n      // before filter is called the indicator is reset\n      userInputValue = true\n      defaultInputValue = inputValue.value\n\n      if (\n        state.focused.value !== true\n        && (hasDialog !== true || dialogFieldFocused.value === true)\n      ) {\n        state.focus()\n      }\n\n      if (props.onFilter !== void 0) {\n        filterTimer = setTimeout(() => {\n          filterTimer = null\n          filter(inputValue.value)\n        }, props.inputDebounce)\n      }\n    }\n\n    function setInputValue (val, emitImmediately) {\n      if (inputValue.value !== val) {\n        inputValue.value = val\n\n        if (emitImmediately === true || props.inputDebounce === 0 || props.inputDebounce === '0') {\n          emit('inputValue', val)\n        }\n        else {\n          inputValueTimer = setTimeout(() => {\n            inputValueTimer = null\n            emit('inputValue', val)\n          }, props.inputDebounce)\n        }\n      }\n    }\n\n    function updateInputValue (val, noFiltering, internal) {\n      userInputValue = internal !== true\n\n      if (props.useInput === true) {\n        setInputValue(val, true)\n\n        if (noFiltering === true || internal !== true) {\n          defaultInputValue = val\n        }\n\n        noFiltering !== true && filter(val)\n      }\n    }\n\n    function filter (val, keepClosed, afterUpdateFn) {\n      if (\n        props.onFilter === void 0\n        || (keepClosed !== true && state.focused.value !== true)\n      ) return\n\n      if (state.innerLoading.value === true) {\n        emit('filterAbort')\n      }\n      else {\n        state.innerLoading.value = true\n        innerLoadingIndicator.value = true\n      }\n\n      if (\n        val !== ''\n        && props.multiple !== true\n        && innerValue.value.length !== 0\n        && userInputValue !== true\n        && val === getOptionLabel.value(innerValue.value[ 0 ])\n      ) {\n        val = ''\n      }\n\n      const localFilterId = setTimeout(() => {\n        menu.value === true && (menu.value = false)\n      }, 10)\n\n      filterId !== null && clearTimeout(filterId)\n      filterId = localFilterId\n\n      emit(\n        'filter',\n        val,\n        (fn, afterFn) => {\n          if ((keepClosed === true || state.focused.value === true) && filterId === localFilterId) {\n            clearTimeout(filterId)\n\n            typeof fn === 'function' && fn()\n\n            // hide indicator to allow arrow to animate\n            innerLoadingIndicator.value = false\n\n            nextTick(() => {\n              state.innerLoading.value = false\n\n              if (state.editable.value === true) {\n                if (keepClosed === true) {\n                  menu.value === true && hidePopup()\n                }\n                else if (menu.value === true) {\n                  updateMenu(true)\n                }\n                else {\n                  menu.value = true\n                }\n              }\n\n              typeof afterFn === 'function' && nextTick(() => { afterFn(proxy) })\n              typeof afterUpdateFn === 'function' && nextTick(() => { afterUpdateFn(proxy) })\n            })\n          }\n        },\n        () => {\n          if (state.focused.value === true && filterId === localFilterId) {\n            clearTimeout(filterId)\n            state.innerLoading.value = false\n            innerLoadingIndicator.value = false\n          }\n          menu.value === true && (menu.value = false)\n        }\n      )\n    }\n\n    function getMenu () {\n      return h(QMenu, {\n        ref: menuRef,\n        class: menuContentClass.value,\n        style: props.popupContentStyle,\n        modelValue: menu.value,\n        fit: props.menuShrink !== true,\n        cover: props.optionsCover === true && noOptions.value !== true && props.useInput !== true,\n        anchor: props.menuAnchor,\n        self: props.menuSelf,\n        offset: props.menuOffset,\n        dark: isOptionsDark.value,\n        noParentEvent: true,\n        noRefocus: true,\n        noFocus: true,\n        noRouteDismiss: props.popupNoRouteDismiss,\n        square: squaredMenu.value,\n        transitionShow: props.transitionShow,\n        transitionHide: props.transitionHide,\n        transitionDuration: props.transitionDuration,\n        separateClosePopup: true,\n        ...listboxAttrs.value,\n        onScrollPassive: onVirtualScrollEvt,\n        onBeforeShow: onControlPopupShow,\n        onBeforeHide: onMenuBeforeHide,\n        onShow: onMenuShow\n      }, getAllOptions)\n    }\n\n    function onMenuBeforeHide (e) {\n      onControlPopupHide(e)\n      closeMenu()\n    }\n\n    function onMenuShow () {\n      setVirtualScrollSize()\n    }\n\n    function onDialogFieldFocus (e) {\n      stop(e)\n      targetRef.value?.focus()\n      dialogFieldFocused.value = true\n      window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, 0)\n    }\n\n    function onDialogFieldBlur (e) {\n      stop(e)\n      nextTick(() => {\n        dialogFieldFocused.value = false\n      })\n    }\n\n    function getDialog () {\n      const content = [\n        h(QField, {\n          class: `col-auto ${ state.fieldClass.value }`,\n          ...innerFieldProps.value,\n          for: state.targetUid.value,\n          dark: isOptionsDark.value,\n          square: true,\n          loading: innerLoadingIndicator.value,\n          itemAligned: false,\n          filled: true,\n          stackLabel: inputValue.value.length !== 0,\n          ...state.splitAttrs.listeners.value,\n          onFocus: onDialogFieldFocus,\n          onBlur: onDialogFieldBlur\n        }, {\n          ...slots,\n          rawControl: () => state.getControl(true),\n          before: void 0,\n          after: void 0\n        })\n      ]\n\n      menu.value === true && content.push(\n        h('div', {\n          ref: menuContentRef,\n          class: menuContentClass.value + ' scroll',\n          style: props.popupContentStyle,\n          ...listboxAttrs.value,\n          onClick: prevent,\n          onScrollPassive: onVirtualScrollEvt\n        }, getAllOptions())\n      )\n\n      return h(QDialog, {\n        ref: dialogRef,\n        modelValue: dialog.value,\n        position: props.useInput === true ? 'top' : void 0,\n        transitionShow: transitionShowComputed,\n        transitionHide: props.transitionHide,\n        transitionDuration: props.transitionDuration,\n        noRouteDismiss: props.popupNoRouteDismiss,\n        onBeforeShow: onControlPopupShow,\n        onBeforeHide: onDialogBeforeHide,\n        onHide: onDialogHide,\n        onShow: onDialogShow\n      }, () => h('div', {\n        class: 'q-select__dialog'\n          + (isOptionsDark.value === true ? ' q-select__dialog--dark q-dark' : '')\n          + (dialogFieldFocused.value === true ? ' q-select__dialog--focused' : '')\n      }, content))\n    }\n\n    function onDialogBeforeHide (e) {\n      onControlPopupHide(e)\n\n      if (dialogRef.value !== null) {\n        dialogRef.value.__updateRefocusTarget(\n          state.rootRef.value.querySelector('.q-field__native > [tabindex]:last-child')\n        )\n      }\n\n      state.focused.value = false\n    }\n\n    function onDialogHide (e) {\n      hidePopup()\n      state.focused.value === false && emit('blur', e)\n      resetInputValue()\n    }\n\n    function onDialogShow () {\n      const el = document.activeElement\n      if (\n        (el === null || el.id !== state.targetUid.value)\n        && targetRef.value !== null\n        && targetRef.value !== el\n      ) {\n        targetRef.value.focus()\n      }\n\n      setVirtualScrollSize()\n    }\n\n    function closeMenu () {\n      if (dialog.value === true) return\n\n      optionIndex.value = -1\n\n      if (menu.value === true) {\n        menu.value = false\n      }\n\n      if (state.focused.value === false) {\n        if (filterId !== null) {\n          clearTimeout(filterId)\n          filterId = null\n        }\n\n        if (state.innerLoading.value === true) {\n          emit('filterAbort')\n          state.innerLoading.value = false\n          innerLoadingIndicator.value = false\n        }\n      }\n    }\n\n    function showPopup (e) {\n      if (state.editable.value !== true) return\n\n      if (hasDialog === true) {\n        state.onControlFocusin(e)\n        dialog.value = true\n        nextTick(() => {\n          state.focus()\n        })\n      }\n      else {\n        state.focus()\n      }\n\n      if (props.onFilter !== void 0) {\n        filter(inputValue.value)\n      }\n      else if (noOptions.value !== true || slots[ 'no-option' ] !== void 0) {\n        menu.value = true\n      }\n    }\n\n    function hidePopup () {\n      dialog.value = false\n      closeMenu()\n    }\n\n    function resetInputValue () {\n      props.useInput === true && updateInputValue(\n        props.multiple !== true && props.fillInput === true && innerValue.value.length !== 0\n          ? getOptionLabel.value(innerValue.value[ 0 ]) || ''\n          : '',\n        true,\n        true\n      )\n    }\n\n    function updateMenu (show) {\n      let optionIndex = -1\n\n      if (show === true) {\n        if (innerValue.value.length !== 0) {\n          const val = getOptionValue.value(innerValue.value[ 0 ])\n          optionIndex = props.options.findIndex(v => isDeepEqual(getOptionValue.value(v), val))\n        }\n\n        localResetVirtualScroll(optionIndex)\n      }\n\n      setOptionIndex(optionIndex)\n    }\n\n    function rerenderMenu (newLength, oldLength) {\n      if (menu.value === true && state.innerLoading.value === false) {\n        localResetVirtualScroll(-1, true)\n\n        nextTick(() => {\n          if (menu.value === true && state.innerLoading.value === false) {\n            if (newLength > oldLength) {\n              localResetVirtualScroll()\n            }\n            else {\n              updateMenu(true)\n            }\n          }\n        })\n      }\n    }\n\n    function updateMenuPosition () {\n      if (dialog.value === false && menuRef.value !== null) {\n        menuRef.value.updatePosition()\n      }\n    }\n\n    function onControlPopupShow (e) {\n      e !== void 0 && stop(e)\n      emit('popupShow', e)\n      state.hasPopupOpen = true\n      state.onControlFocusin(e)\n    }\n\n    function onControlPopupHide (e) {\n      e !== void 0 && stop(e)\n      emit('popupHide', e)\n      state.hasPopupOpen = false\n      state.onControlFocusout(e)\n    }\n\n    function updatePreState () {\n      hasDialog = $q.platform.is.mobile !== true && props.behavior !== 'dialog'\n        ? false\n        : props.behavior !== 'menu' && (\n          props.useInput === true\n            ? slots[ 'no-option' ] !== void 0 || props.onFilter !== void 0 || noOptions.value === false\n            : true\n        )\n\n      transitionShowComputed = $q.platform.is.ios === true && hasDialog === true && props.useInput === true\n        ? 'fade'\n        : props.transitionShow\n    }\n\n    onBeforeUpdate(updatePreState)\n    onUpdated(updateMenuPosition)\n\n    updatePreState()\n\n    onBeforeUnmount(() => {\n      filterTimer !== null && clearTimeout(filterTimer)\n      inputValueTimer !== null && clearTimeout(inputValueTimer)\n    })\n\n    // expose public methods\n    Object.assign(proxy, {\n      showPopup, hidePopup,\n      removeAtIndex, add, toggleOption,\n      getOptionIndex: () => optionIndex.value,\n      setOptionIndex, moveOptionSelection,\n      filter, updateMenuPosition, updateInputValue,\n      isOptionSelected,\n      getEmittingOptionValue,\n      isOptionDisabled: (...args) => isOptionDisabled.value.apply(null, args) === true,\n      getOptionValue: (...args) => getOptionValue.value.apply(null, args),\n      getOptionLabel: (...args) => getOptionLabel.value.apply(null, args)\n    })\n\n    Object.assign(state, {\n      innerValue,\n\n      fieldClass: computed(() =>\n        `q-select q-field--auto-height q-select--with${ props.useInput !== true ? 'out' : '' }-input`\n        + ` q-select--with${ props.useChips !== true ? 'out' : '' }-chips`\n        + ` q-select--${ props.multiple === true ? 'multiple' : 'single' }`\n      ),\n\n      inputRef,\n      targetRef,\n      hasValue,\n      showPopup,\n\n      floatingLabel: computed(() =>\n        (props.hideSelected !== true && hasValue.value === true)\n        || typeof inputValue.value === 'number'\n        || inputValue.value.length !== 0\n        || fieldValueIsFilled(props.displayValue)\n      ),\n\n      getControlChild: () => {\n        if (\n          state.editable.value !== false && (\n            dialog.value === true // dialog always has menu displayed, so need to render it\n            || noOptions.value !== true\n            || slots[ 'no-option' ] !== void 0\n          )\n        ) {\n          return hasDialog === true ? getDialog() : getMenu()\n        }\n        else if (state.hasPopupOpen === true) {\n          // explicitly set it otherwise TAB will not blur component\n          state.hasPopupOpen = false\n        }\n      },\n\n      controlEvents: {\n        onFocusin (e) { state.onControlFocusin(e) },\n        onFocusout (e) {\n          state.onControlFocusout(e, () => {\n            resetInputValue()\n            closeMenu()\n          })\n        },\n        onClick (e) {\n          // label from QField will propagate click on the input\n          prevent(e)\n\n          if (hasDialog !== true && menu.value === true) {\n            closeMenu()\n            targetRef.value?.focus()\n            return\n          }\n\n          showPopup(e)\n        }\n      },\n\n      getControl: fromDialog => {\n        const child = getSelection()\n        const isTarget = fromDialog === true || dialog.value !== true || hasDialog !== true\n\n        if (props.useInput === true) {\n          child.push(getInput(fromDialog, isTarget))\n        }\n        // there can be only one (when dialog is opened the control in dialog should be target)\n        else if (state.editable.value === true) {\n          const attrs = isTarget === true ? comboboxAttrs.value : void 0\n\n          child.push(\n            h('input', {\n              ref: isTarget === true ? targetRef : void 0,\n              key: 'd_t',\n              class: 'q-select__focus-target',\n              id: isTarget === true ? state.targetUid.value : void 0,\n              value: ariaCurrentValue.value,\n              readonly: true,\n              'data-autofocus': fromDialog === true || props.autofocus === true || void 0,\n              ...attrs,\n              onKeydown: onTargetKeydown,\n              onKeyup: onTargetKeyup,\n              onKeypress: onTargetKeypress\n            })\n          )\n\n          if (isTarget === true && typeof props.autocomplete === 'string' && props.autocomplete.length !== 0) {\n            child.push(\n              h('input', {\n                class: 'q-select__autocomplete-input',\n                autocomplete: props.autocomplete,\n                tabindex: -1,\n                onKeyup: onTargetAutocomplete\n              })\n            )\n          }\n        }\n\n        if (nameProp.value !== void 0 && props.disable !== true && innerOptionsValue.value.length !== 0) {\n          const opts = innerOptionsValue.value.map(value => h('option', { value, selected: true }))\n\n          child.push(\n            h('select', {\n              class: 'hidden',\n              name: nameProp.value,\n              multiple: props.multiple\n            }, opts)\n          )\n        }\n\n        const attrs = props.useInput === true || isTarget !== true ? void 0 : state.splitAttrs.attributes.value\n\n        return h('div', {\n          class: 'q-field__native row items-center',\n          ...attrs,\n          ...state.splitAttrs.listeners.value\n        }, child)\n      },\n\n      getInnerAppend: () => (\n        props.loading !== true && innerLoadingIndicator.value !== true && props.hideDropdownIcon !== true\n          ? [\n              h(QIcon, {\n                class: 'q-select__dropdown-icon' + (menu.value === true ? ' rotate-180' : ''),\n                name: dropdownArrowIcon.value\n              })\n            ]\n          : null\n      )\n    })\n\n    return useField(state)\n  }\n})\n"],"names":["el","h","optionIndex","attrs"],"mappings":";;;;;;;;AAIA,MAAA,SAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EAEN,cAAc;AAAA,EAEd,OAAO;AAAA,IACL,GAAG;AAAA,IAEH,KAAK;AAAA,MACH,MAAM;AAAA,MACN,SAAS;AAAA,IACf;AAAA,EACA;AAAA,EAEE,OAAO;AAAA,EAEP,QAAS;AACP,WAAO;AAAA,MACL,cAAc,EAAE,SAAS,KAAI,CAAE;AAAA,IACrC;AAAA,EACE;AACF,CAAC;ACRD,IAAI,kBAAkB;AAEtB,MAAM,gBAAgB;AAAA,EACpB,UAAU;AAAA,EACV,KAAK;AAAA,EACL,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,MAAM;AACR;AAEA,MAAM,qBAAqB;AAAA,EACzB,UAAU,CAAE,SAAS,OAAO;AAAA,EAC5B,KAAK,CAAE,cAAc,UAAU;AAAA,EAC/B,QAAQ,CAAE,YAAY,YAAY;AAAA,EAClC,OAAO,CAAE,cAAc,aAAa;AAAA,EACpC,MAAM,CAAE,eAAe,YAAY;AACrC;AAEA,MAAA,UAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EAEN,cAAc;AAAA,EAEd,OAAO;AAAA,IACL,GAAG;AAAA,IACH,GAAG;AAAA,IAEH,gBAAgB;AAAA;AAAA,IAChB,gBAAgB;AAAA;AAAA,IAEhB,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,mBAAmB;AAAA,IAEnB,cAAc;AAAA,IACd,mBAAmB;AAAA,IACnB,gBAAgB;AAAA,IAChB,WAAW;AAAA,IACX,SAAS;AAAA,IACT,SAAS;AAAA,IAET,UAAU;AAAA,IAEV,WAAW;AAAA,IACX,WAAW;AAAA,IACX,YAAY;AAAA,IAEZ,QAAQ;AAAA,IAER,gBAAgB;AAAA,IAEhB,UAAU;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,MACT,WAAW,SAAO,CAAE,YAAY,OAAO,UAAU,QAAQ,SAAU,SAAS,GAAG;AAAA,IACrF;AAAA,EACA;AAAA,EAEE,OAAO;AAAA,IACL,GAAG;AAAA,IACH;AAAA,IAAS;AAAA,IAAS;AAAA,EACtB;AAAA,EAEE,MAAO,OAAO,EAAE,OAAO,MAAM,MAAK,GAAI;AACpC,UAAM,KAAK,mBAAkB;AAE7B,UAAM,WAAW,IAAI,IAAI;AACzB,UAAM,UAAU,IAAI,KAAK;AACzB,UAAM,YAAY,IAAI,KAAK;AAE3B,QAAI,eAAe,MAAM,gBAAgB,MAAM,aAAa;AAE5D,UAAM,oBAAoB;AAAA,MAAS,MACjC,MAAM,eAAe,QAClB,MAAM,mBAAmB,QACzB,MAAM,aAAa;AAAA,IAC5B;AAEI,UAAM,EAAE,kBAAiB,IAAK,iBAAgB;AAC9C,UAAM,EAAE,gBAAe,IAAK,WAAU;AACtC,UAAM,EAAE,cAAc,WAAU,IAAK,QAAO;AAE5C,UAAM,EAAE,iBAAiB,gBAAe,IAAK;AAAA,MAC3C;AAAA,MACA,MAAM,mBAAoB,MAAM,QAAQ,EAAI,CAAC;AAAA,MAC7C,MAAM,mBAAoB,MAAM,QAAQ,EAAI,CAAC;AAAA,IACnD;AAEI,UAAM,gBAAgB,SAAS,MAC7B,gBAAgB,SAEd,MAAM,mBAAmB,SAErB,oBAAqB,MAAM,cAAc,4BAA8B,MAAM,cAAc,KAC3F,GAEP;AAED,UAAM,EAAE,YAAY,YAAY,oBAAoB,aAAY,IAAK;AAAA,MACnE;AAAA,MAAI;AAAA,MAAU;AAAA,MAAqB;AAAA,IACzC;AAEI,UAAM,EAAE,KAAI,IAAK,eAAe;AAAA,MAC9B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,gBAAgB;AAAA,IACtB,CAAK;AAED,UAAM,EAAE,cAAc,kBAAiB,IAAK,WAAW,SAAS,MAAM,iBAAiB;AAEvF,UAAM,UAAU;AAAA,MAAS,MACvB,2DACwB,MAAM,cAAc,OAAO,cAAc,WAAW,qBACpD,MAAM,QAAQ,IAAM,cAAe,MAAM,SAAU,MACxE,UAAU,UAAU,OAAO,gCAAgC,OAC3D,MAAM,cAAc,OAAO,gCAAgC,OAC3D,MAAM,eAAe,OAAO,iCAAiC,OAC7D,MAAM,WAAW,OAAO,6BAA6B;AAAA,IAC9D;AAEI,UAAM,cAAc,SAAS,MAAM,QAAQ,UAAU,QAAQ,MAAM,aAAa,IAAI;AAEpF,UAAM,WAAW,SAAS,MACxB,MAAM,cAAc,OAChB,EAAE,SAAS,YAAW,IACtB,CAAA,CACL;AAED,UAAM,cAAc,SAAS,MAAM;AAAA,MACjC,mDACkB,YAAY,UAAU,OAAO,UAAU;MACzD,MAAM;AAAA,IACZ,CAAK;AAED,UAAM,MAAM,MAAM,WAAW,WAAS;AACpC,cAAQ,UAAU,QAAQ,gBAAgB,KAAK;AAAA,IACjD,CAAC;AAED,UAAM,aAAa,SAAO;AACxB,wBAAkB,GAAG;AAErB,UAAI,QAAQ,MAAM;AAChB,oBAAY,aAAa;AACzB,qBAAa,WAAW;AAAA,MAC1B,OACK;AACH,uBAAe,aAAa;AAC5B,wBAAgB,WAAW;AAAA,MAC7B;AAAA,IACF,CAAC;AAED,aAAS,WAAY,KAAK;AACxB,mBAAY;AAEZ,sBAAgB,MAAM,cAAc,SAAS,SAAS,kBAAkB,OACpE,SAAS,gBACT;AAEJ,sBAAgB,MAAM,SAAS;AAC/B,iBAAU;AACV,gBAAU,QAAQ;AAElB,UAAI,MAAM,YAAY,MAAM;AAC1B,iBAAS,eAAe,KAAI;AAC5B,qBAAa,KAAK;AAAA,MACpB,OACK;AACH,mBAAU;AAAA,MACZ;AAGA,sBAAgB,MAAM;AACpB,YAAI,GAAG,MAAM,GAAG,SAAS,GAAG,QAAQ,MAAM;AACxC,cAAI,MAAM,aAAa,QAAQ,SAAS,eAAe;AACrD,kBACE,EAAE,KAAK,OAAM,IAAK,SAAS,cAAc,sBAAqB,GAC9D,EAAE,YAAW,IAAK,QAClB,SAAS,OAAO,mBAAmB,SAC/B,OAAO,eAAe,SACtB;AAEN,gBAAI,MAAM,KAAK,SAAS,SAAS,GAAG;AAClC,uBAAS,iBAAiB,YAAY,KAAK;AAAA,gBACzC,SAAS,iBAAiB,eAAe;AAAA,gBACzC,UAAU,cACN,WACA,KAAK,KAAK,SAAS,iBAAiB,YAAY,SAAS,SAAS,CAAC;AAAA,cACvF;AAAA,YACY;AAEA,qBAAS,cAAc,eAAc;AAAA,UACvC;AAGA,2BAAiB;AACjB,mBAAS,MAAM,MAAK;AACpB,2BAAiB;AAAA,QACnB;AAEA,mBAAW,IAAI;AACf,kBAAU,QAAQ;AAClB,aAAK,QAAQ,GAAG;AAAA,MAClB,GAAG,MAAM,kBAAkB;AAAA,IAC7B;AAEA,aAAS,WAAY,KAAK;AACxB,iBAAU;AACV,wBAAiB;AACjB,cAAQ,IAAI;AACZ,gBAAU,QAAQ;AAClB,iBAAU;AAEV,UAAI,kBAAkB,MAAM;AAC1B,UAAE,KAAK,KAAK,QAAQ,KAAK,MAAM,IAC3B,cAAc,QAAQ,iCAAiC,IACvD,WACC,eAAe,MAAK;AAEzB,wBAAgB;AAAA,MAClB;AAGA,sBAAgB,MAAM;AACpB,mBAAW,IAAI;AACf,kBAAU,QAAQ;AAClB,aAAK,QAAQ,GAAG;AAAA,MAClB,GAAG,MAAM,kBAAkB;AAAA,IAC7B;AAEA,aAAS,MAAO,UAAU;AACxB,iBAAW,MAAM;AACf,YAAI,OAAO,SAAS;AAEpB,YAAI,SAAS,KAAM;AAEnB,YAAI,aAAa,QAAQ;AACvB,gBAAM,SAAS,KAAK,cAAc,QAAQ;AAC1C,cAAI,WAAW,MAAM;AACnB,mBAAO,MAAM,EAAE,eAAe,KAAI,CAAE;AACpC;AAAA,UACF;AAAA,QACF;AAEA,YAAI,KAAK,SAAS,SAAS,aAAa,MAAM,MAAM;AAClD,iBACE,KAAK,cAAc,mDAAmD,KACnE,KAAK,cAAc,qDAAqD,KACxE,KAAK,cAAc,+BAA+B,KAClD;AAGL,eAAK,MAAM,EAAE,eAAe,KAAI,CAAE;AAAA,QACpC;AAAA,MACF,CAAC;AAAA,IACH;AAEA,aAAS,MAAO,aAAa;AAC3B,UAAI,eAAe,OAAO,YAAY,UAAU,YAAY;AAC1D,oBAAY,MAAM,EAAE,eAAe,KAAI,CAAE;AAAA,MAC3C,OACK;AACH,cAAK;AAAA,MACP;AAEA,WAAK,OAAO;AAEZ,YAAM,OAAO,SAAS;AAEtB,UAAI,SAAS,MAAM;AACjB,aAAK,UAAU,OAAO,kBAAkB;AACxC,aAAK,UAAU,IAAI,kBAAkB;AACrC,yBAAiB,QAAQ,aAAa,YAAY;AAClD,uBAAe,WAAW,MAAM;AAC9B,yBAAe;AACf,cAAI,SAAS,UAAU,MAAM;AAC3B,iBAAK,UAAU,OAAO,kBAAkB;AAGxC,kBAAK;AAAA,UACP;AAAA,QACF,GAAG,GAAG;AAAA,MACR;AAAA,IACF;AAEA,aAAS,cAAe;AACtB,UAAI,MAAM,aAAa,MAAM;AAC3B,YAAI,MAAM,eAAe,QAAQ,MAAM,iBAAiB,MAAM;AAC5D,gBAAM,cAAc,QAAQ,MAAM,YAAY,QAAQ,MAAK;AAAA,QAC7D,OACK;AACH,eAAK,WAAW;AAChB,eAAI;AAAA,QACN;AAAA,MACF;AAAA,IACF;AAEA,aAAS,QAAS,QAAQ;AACxB,UAAI,iBAAiB,MAAM;AACzB,qBAAa,YAAY;AACzB,uBAAe;AAAA,MACjB;AAEA,UAAI,WAAW,QAAQ,QAAQ,UAAU,MAAM;AAC7C,wBAAgB,KAAK;AAErB,YAAI,MAAM,aAAa,MAAM;AAC3B,4BAAkB,KAAK;AACvB,yBAAe,aAAa;AAC5B,0BAAgB,WAAW;AAAA,QAC7B;AAAA,MACF;AAEA,UAAI,WAAW,MAAM;AACnB,wBAAgB;AAAA,MAClB;AAAA,IACF;AAEA,aAAS,gBAAiB,QAAQ;AAChC,UAAI,WAAW,MAAM;AACnB,YAAI,gBAAgB,MAAM;AACxB,4BAAkB,KAAK,SAAS,KAAK,UAAU,IAAI,gBAAgB;AACnE;AAEA,wBAAc;AAAA,QAChB;AAAA,MACF,WACS,gBAAgB,MAAM;AAC7B,YAAI,kBAAkB,GAAG;AACvB,mBAAS,KAAK,UAAU,OAAO,gBAAgB;AAAA,QACjD;AAEA;AACA,sBAAc;AAAA,MAChB;AAAA,IACF;AAEA,aAAS,YAAa,GAAG;AACvB,UAAI,mBAAmB,MAAM;AAC3B,aAAK,CAAC;AACN,aAAK,SAAS,CAAC;AAAA,MACjB;AAAA,IACF;AAEA,aAAS,gBAAiB,GAAG;AAC3B,UAAI,MAAM,eAAe,QAAQ,MAAM,sBAAsB,MAAM;AACjE,aAAK,CAAC;AAAA,MACR,WACS,MAAM,YAAY,MAAM;AAC/B,cAAK;AAAA,MACP;AAAA,IACF;AAEA,aAAS,cAAe,KAAK;AAE3B,UACE,MAAM,sBAAsB,QACzB,mBAAmB,UAAU,QAC7B,cAAc,SAAS,OAAO,IAAI,MAAM,MAAM,MACjD;AACA,cAAM,iCAAiC;AAAA,MACzC;AAAA,IACF;AAEA,WAAO,OAAO,GAAG,OAAO;AAAA;AAAA,MAEtB;AAAA,MAAO;AAAA;AAAA,MAGP,sBAAuB,QAAQ;AAC7B,wBAAgB,UAAU;AAAA,MAC5B;AAAA,IACN,CAAK;AAED,oBAAgB,OAAO;AAEvB,aAAS,sBAAuB;AAC9B,aAAO,EAAE,OAAO;AAAA,QACd,MAAM;AAAA,QACN,cAAc,YAAY,UAAU,OAAO,SAAS;AAAA,QACpD,GAAG;AAAA,QACH,OAAO,YAAY;AAAA,MAC3B,GAAS;AAAA,QACD,EAAE,YAAY;AAAA,UACZ,MAAM;AAAA,UACN,QAAQ;AAAA,QAClB,GAAW,MACD,YAAY,UAAU,OAClB,EAAE,OAAO;AAAA,UACT,OAAO;AAAA,UACP,OAAO,cAAc;AAAA,UACrB,eAAe;AAAA,UACf,UAAU;AAAA,UACV,SAAS;AAAA,QACvB,CAAa,IACC,IACL;AAAA,QAED;AAAA,UACE;AAAA,UACA,gBAAgB;AAAA,UAChB,MACE,QAAQ,UAAU,OACd,EAAE,OAAO;AAAA,YACT,KAAK;AAAA,YACL,OAAO,QAAQ;AAAA,YACf,OAAO,gBAAgB;AAAA,YACvB,UAAU;AAAA,YACV,GAAG,SAAS;AAAA,UAC5B,GAAiB,MAAM,MAAM,OAAO,CAAC,IACrB;AAAA,QAEhB;AAAA,MACA,CAAO;AAAA,IACH;AAEA,WAAO;AAAA,EACT;AACF,CAAC;ACpbD,IAAI,kBAAkB;AAGD;AACnB,QAAM,WAAW,SAAS,cAAc,KAAK;AAC7C,WAAS,aAAa,OAAO,KAAK;AAClC,SAAO,OAAO,SAAS,OAAO;AAAA,IAC5B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,UAAU;AAAA,EAAA,CACX;AAED,QAAM,SAAS,SAAS,cAAc,KAAK;AAC3C,SAAO,OAAO,OAAO,OAAO;AAAA,IAC1B,OAAO;AAAA,IACP,QAAQ;AAAA,EAAA,CACT;AAED,WAAS,KAAK,YAAY,QAAQ;AAClC,WAAS,YAAY,MAAM;AAC3B,WAAS,aAAa;AAEtB,oBAAkB,SAAS,cAAc;AAEzC,WAAS,OAAA;AACX;ACnBA,MAAM,gBAAgB;AAEtB,MAAM,gBAAgB;AAAA,EACpB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAEA,MAAM,cAAc,MAAM,UAAU;AAEpC,MAAM,oBAAsC,OAAO,iBAAiB,SAAS,IAAI,EAAE,mBAAmB,SAClG,OACA,SAAU,WAAW,OAAO;AAC5B,MAAI,cAAc,KAAM;AAExB,MAAI,UAAU,6BAA6B,QAAQ;AACjD,yBAAqB,UAAU,wBAAwB;AAAA,EACzD;AAEA,YAAU,2BAA2B,sBAAsB,MAAM;AAC/D,QAAI,cAAc,KAAM;AAExB,cAAU,2BAA2B;AACrC,UAAM,WAAW,UAAU,YAAY,CAAA;AAEvC,gBACG,KAAK,UAAU,CAAAA,QAAMA,IAAG,WAAWA,IAAG,QAAQ,cAAc,MAAM,EAClE,QAAQ,CAAAA,QAAM;AACb,aAAOA,IAAG,QAAQ;AAAA,IACpB,CAAC;AAEH,UAAM,KAAK,SAAU,KAAM;AAE3B,QAAI,IAAI,SAAS;AACf,SAAG,QAAQ,YAAY;AAAA,IACzB;AAAA,EACF,CAAC;AACH;AAEF,SAAS,MAAO,KAAKC,IAAG;AACtB,SAAO,MAAMA;AACf;AAEA,SAAS,iBACP,QACA,OACA,WACA,UACA,YACA,KACA,aACA,WACA;AACA,QACE,aAAa,WAAW,SAAS,SAAS,oBAAoB,SAAS,kBAAkB,QACzF,aAAa,eAAe,OAAO,gBAAgB,gBACnD,UAAU;AAAA,IACR,aAAa;AAAA,IACb,gBAAgB,CAAC,cAAc;AAAA,IAC/B,eAAe;AAAA,IACf,aAAa,CAAC;AAAA,IACd,WAAW,CAAC;AAAA,EAAA;AAGhB,MAAI,eAAe,MAAM;AACvB,QAAI,WAAW,QAAQ;AACrB,cAAQ,cAAc,OAAO,eAAe,OAAO,WAAW,SAAS,KAAK,cAAc;AAC1F,cAAQ,kBAAkB,SAAS,gBAAgB;AAAA,IACrD,OACK;AACH,cAAQ,cAAc,WAAW;AACjC,cAAQ,kBAAkB,WAAW;AAAA,IACvC;AACA,YAAQ,gBAAgB,WAAW;AAEnC,QAAI,QAAQ,MAAM;AAChB,cAAQ,eAAe,oBAAoB,OAAO,QAAQ,gBAAgB,QAAQ,iBAAiB,KAAK,QAAQ;AAAA,IAClH;AAAA,EACF,OACK;AACH,QAAI,WAAW,QAAQ;AACrB,cAAQ,cAAc,OAAO,eAAe,OAAO,WAAW,SAAS,KAAK,aAAa;AACzF,cAAQ,kBAAkB,SAAS,gBAAgB;AAAA,IACrD,OACK;AACH,cAAQ,cAAc,WAAW;AACjC,cAAQ,kBAAkB,WAAW;AAAA,IACvC;AACA,YAAQ,gBAAgB,WAAW;AAAA,EACrC;AAEA,MAAI,cAAc,MAAM;AACtB,aAAS,KAAK,UAAU,wBAAwB,OAAO,MAAM,KAAK,GAAG,wBAAwB;AAC3F,UAAI,GAAG,UAAU,SAAS,wBAAwB,MAAM,OAAO;AAC7D,gBAAQ,eAAe,GAAI,UAAW;AAAA,MACxC;AAAA,IACF;AAAA,EACF;AAEA,MAAI,aAAa,MAAM;AACrB,aAAS,KAAK,SAAS,oBAAoB,OAAO,MAAM,KAAK,GAAG,oBAAoB;AAClF,UAAI,GAAG,UAAU,SAAS,wBAAwB,MAAM,OAAO;AAC7D,gBAAQ,aAAa,GAAI,UAAW;AAAA,MACtC;AAAA,IACF;AAAA,EACF;AAEA,MAAI,UAAU,QAAQ;AACpB,UACE,aAAa,WAAW,sBAAA,GACxB,YAAY,MAAM,sBAAA;AAEpB,QAAI,eAAe,MAAM;AACvB,cAAQ,eAAe,UAAU,OAAO,WAAW;AACnD,cAAQ,aAAa,UAAU;AAAA,IACjC,OACK;AACH,cAAQ,eAAe,UAAU,MAAM,WAAW;AAClD,cAAQ,aAAa,UAAU;AAAA,IACjC;AAEA,QAAI,WAAW,QAAQ;AACrB,cAAQ,eAAe,QAAQ;AAAA,IACjC;AACA,YAAQ,aAAa,QAAQ,gBAAgB,QAAQ;AAAA,EACvD;AAEA,SAAO;AACT;AAEA,SAAS,UAAW,QAAQ,QAAQ,YAAY,KAAK;AACnD,MAAI,WAAW,OAAO;AACpB,cAAU,WAAW,SAAS,SAAS,OAAO,QAC5C,eAAe,OAAO,gBAAgB,cACxC;AAAA,EACF;AAEA,MAAI,WAAW,QAAQ;AACrB,QAAI,eAAe,MAAM;AACvB,UAAI,QAAQ,MAAM;AAChB,kBAAU,oBAAoB,OAAO,SAAS,KAAK,cAAc,SAAS,gBAAgB,cAAc,KAAK;AAAA,MAC/G;AACA,aAAO,SAAS,QAAQ,OAAO,eAAe,OAAO,WAAW,SAAS,KAAK,aAAa,CAAC;AAAA,IAC9F,OACK;AACH,aAAO,SAAS,OAAO,eAAe,OAAO,WAAW,SAAS,KAAK,cAAc,GAAG,MAAM;AAAA,IAC/F;AAAA,EACF,WACS,eAAe,MAAM;AAC5B,QAAI,QAAQ,MAAM;AAChB,gBAAU,oBAAoB,OAAO,OAAO,cAAc,OAAO,cAAc,KAAK;AAAA,IACtF;AACA,WAAO,aAAa;AAAA,EACtB,OACK;AACH,WAAO,YAAY;AAAA,EACrB;AACF;AAEA,SAAS,QAAS,SAAS,MAAM,MAAM,IAAI;AACzC,MAAI,QAAQ,IAAI;AAAE,WAAO;AAAA,EAAE;AAE3B,QACE,SAAS,KAAK,QACd,UAAU,KAAK,MAAM,OAAO,aAAa,GACzC,QAAQ,KAAK,OAAO,KAAK,KAAK,aAAa,IAAI;AAEjD,MAAI,QAAQ,QAAQ,MAAM,SAAS,KAAK,EAAE,OAAO,OAAO,CAAC;AAEzD,MAAI,OAAO,kBAAkB,GAAG;AAC9B,aAAS,KAAK,MAAM,UAAU,eAAe,IAAI,EAAE,OAAO,OAAO,CAAC;AAAA,EACpE;AACA,MAAI,KAAK,kBAAkB,KAAK,OAAO,QAAQ;AAC7C,aAAS,KAAK,MAAM,IAAI,QAAQ,aAAa,EAAE,OAAO,OAAO,CAAC;AAAA,EAChE;AAEA,SAAO;AACT;AAEA,MAAM,wBAAwB;AAAA,EAC5B,wBAAwB;AAAA,IACtB,MAAM,CAAE,QAAQ,MAAO;AAAA,IACvB,SAAS;AAAA,EAAA;AAAA,EAGX,+BAA+B;AAAA,IAC7B,MAAM,CAAE,QAAQ,MAAO;AAAA,IACvB,SAAS;AAAA,EAAA;AAAA,EAGX,8BAA8B;AAAA,IAC5B,MAAM,CAAE,QAAQ,MAAO;AAAA,IACvB,SAAS;AAAA,EAAA;AAAA,EAGX,uBAAuB;AAAA,IACrB,MAAM,CAAE,QAAQ,MAAO;AAAA,IACvB,SAAS;AAAA,EAAA;AAAA,EAGX,8BAA8B;AAAA,IAC5B,MAAM,CAAE,QAAQ,MAAO;AAAA,IACvB,SAAS;AAAA,EAAA;AAAA,EAGX,4BAA4B;AAAA,IAC1B,MAAM,CAAE,QAAQ,MAAO;AAAA,IACvB,SAAS;AAAA,EAAA;AAAA,EAGX,cAAc,CAAE,QAAQ,MAAO;AACjC;AAEO,MAAM,4BAA4B,OAAO,KAAK,qBAAqB;AAEnE,MAAM,wBAAwB;AAAA,EACnC,yBAAyB;AAAA,EACzB,iBAAiB;AAAA,EACjB,GAAG;AACL;AAEO,SAAS,iBAAkB;AAAA,EAChC;AAAA,EAAqB;AAAA,EAAwB;AAAA,EAC7C;AAAA;AACF,GAAG;AACD,QAAM,KAAK,mBAAA;AAEX,QAAM,EAAE,OAAO,MAAM,MAAA,IAAU;AAC/B,QAAM,EAAE,OAAO;AAEf,MAAI,iBAAiB,aAAa,qBAAqB,wBAAwB,CAAA,GAAI;AAEnF,QAAM,6BAA6B,IAAI,CAAC;AACxC,QAAM,4BAA4B,IAAI,CAAC;AACvC,QAAM,iCAAiC,IAAI,EAAE;AAE7C,QAAM,YAAY,IAAI,IAAI;AAC1B,QAAM,WAAW,IAAI,IAAI;AACzB,QAAM,aAAa,IAAI,IAAI;AAE3B,QAAM,0BAA0B,IAAI,EAAE,MAAM,GAAG,IAAI,GAAG;AAEtD,QAAM,cAAc,SAAS,MAAO,MAAM,iBAAiB,SAAS,MAAM,eAAe,GAAI;AAE7F,MAAI,kCAAkC,QAAQ;AAC5C,oCAAgC,SAAS,MAAM,MAAM,qBAAqB;AAAA,EAC5E;AAEA,QAAM,aAAa,SAAS,MAAM,8BAA8B,QAAQ,MAAM,MAAM,uBAAuB;AAE3G,QAAM,mBAAmB;AAAA,IAAS,MAChC,WAAW,QAAQ,MAAM,MAAM,gCAAgC,MAAM,MAAM;AAAA,EAAA;AAG7E,QAAM,kBAAkB,MAAM;AAAE,yBAAA;AAAA,EAAuB,CAAC;AACxD,QAAM,YAAY,KAAK;AAEvB,WAAS,QAAS;AAChB,4BAAwB,aAAa,IAAI;AAAA,EAC3C;AAEA,WAAS,QAAS,SAAS;AACzB,4BAAwB,YAAY,SAAS,cAAc,OAAO;AAAA,EACpE;AAEA,WAAS,SAAU,SAAS,MAAM;AAChC,UAAM,WAAW,uBAAA;AAEjB,QACE,aAAa,UACV,aAAa,QACb,SAAS,aAAa,EACzB;AAEF,UAAM,gBAAgB;AAAA,MACpB;AAAA,MACA,mBAAA;AAAA,MACA,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,GAAG,KAAK;AAAA,MACR,MAAM;AAAA,MACN,MAAM;AAAA,IAAA;AAGR,4BAAwB,cAAc,kBAAkB,qBAAqB,cAAc,cAAc;AAEzG;AAAA,MACE;AAAA,MACA;AAAA,MACA,KAAK,IAAI,oBAAoB,QAAQ,GAAG,KAAK,IAAI,GAAG,SAAS,SAAS,EAAE,KAAK,CAAC,CAAC;AAAA,MAC/E;AAAA,MACA,cAAc,QAAQ,IAAI,MAAM,KAAK,OAAQ,gBAAgB,MAAM,UAAU,cAAc,QAAQ;AAAA,IAAA;AAAA,EAEvG;AAEA,WAAS,0BAA2B;AAClC,UAAM,WAAW,uBAAA;AAEjB,QACE,aAAa,UACV,aAAa,QACb,SAAS,aAAa,EACzB;AAEF,UACE,gBAAgB;AAAA,MACd;AAAA,MACA,mBAAA;AAAA,MACA,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,GAAG,KAAK;AAAA,MACR,MAAM;AAAA,MACN,MAAM;AAAA,IAAA,GAER,gBAAgB,oBAAoB,QAAQ,GAC5C,gBAAgB,cAAc,gBAAgB,cAAc,cAAc,cAAc,YAAY,0BAA0B;AAEhI,QAAI,oBAAoB,cAAc,YAAa;AAEnD,QAAI,cAAc,iBAAiB,GAAG;AACpC,iCAA2B,UAAU,eAAe,GAAG,CAAC;AACxD;AAAA,IACF;AAEA,4BAAwB,cAAc,kBAAkB,qBAAqB,cAAc,cAAc;AAEzG,6BAAyB,wBAAwB,MAAM,IAAI;AAE3D,UAAM,iBAAiB,KAAK,MAAM,cAAc,gBAC5C,KAAK,IAAI,cAAc,gBAAgB,cAAc,SAAS,IAC9D,KAAK,IAAI,mBAAoB,aAAc,GAAG,cAAc,iBAAiB,CAAC,CAAC;AAEnF,QAAI,iBAAiB,KAAK,KAAK,KAAK,cAAc,WAAW,KAAK,gBAAgB;AAChF;AAAA,QACE;AAAA,QACA;AAAA,QACA;AAAA,QACA,cAAc,gBAAgB,cAAc,YAAY,sBAAsB,OAAO,OAAO,CAAC;AAAA,MAAA;AAG/F;AAAA,IACF;AAEA,QACE,UAAU,GACV,aAAa,cAAc,cAAc,cAAc,aACvD,SAAS;AAEX,QAAI,cAAc,iBAAiB,aAAa,cAAc,kBAAkB,2BAA2B,OAAO;AAChH,oBAAc,2BAA2B;AACzC,gBAAU,wBAAwB,MAAM;AACxC,eAAS;AAAA,IACX,OACK;AACH,eAAS,IAAI,GAAG,cAAc,sBAAuB,CAAE,KAAK,UAAU,eAAe,KAAK;AACxF,sBAAc,sBAAuB,CAAE;AACvC,mBAAW;AAAA,MACb;AAAA,IACF;AAEA,WAAO,aAAa,KAAK,UAAU,eAAe;AAChD,oBAAc,mBAAoB,OAAQ;AAC1C,UAAI,aAAa,CAAC,cAAc,gBAAgB;AAC9C;AACA,iBAAS;AAAA,MACX,OACK;AACH,iBAAS,mBAAoB,OAAQ,IAAI;AAAA,MAC3C;AAAA,IACF;AAEA;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AAEA,WAAS,2BAA4B,UAAU,eAAe,SAAS,QAAQ,OAAO;AACpF,UAAM,aAAa,OAAO,UAAU,YAAY,MAAM,QAAQ,QAAQ,MAAM;AAC5E,UAAM,WAAW,eAAe,OAAO,MAAM,QAAQ,UAAU,EAAE,IAAI;AACrE,UAAM,aAAa,aAAa,SAAS,WAAW;AAEpD,QACE,OAAO,KAAK,IAAI,GAAG,UAAU,+BAA+B,MAAO,UAAW,CAAC,GAC/E,KAAK,OAAO,+BAA+B,MAAM;AAEnD,QAAI,KAAK,oBAAoB,OAAO;AAClC,WAAK,oBAAoB;AACzB,aAAO,KAAK,IAAI,GAAG,KAAK,+BAA+B,MAAM,KAAK;AAAA,IACpE;AAEA,sBAAkB,cAAc;AAEhC,UAAM,eAAe,SAAS,wBAAwB,MAAM,QAAQ,OAAO,wBAAwB,MAAM;AAEzG,QAAI,iBAAiB,SAAS,aAAa,QAAQ;AACjD,iBAAW,OAAO;AAClB;AAAA,IACF;AAEA,UAAM,EAAE,kBAAkB;AAC1B,UAAM,YAAY,WAAW;AAC7B,QACE,iBAAiB,QACd,cAAc,QACd,cAAc,iBACd,UAAU,SAAS,aAAa,MAAM,MACzC;AACA,gBAAU,iBAAiB,YAAY,eAAe;AAEtD,iBAAW,MAAM;AACf,mBAAW,oBAAoB,YAAY,eAAe;AAAA,MAC5D,CAAC;AAAA,IACH;AAEA,sBAAkB,WAAW,UAAU,IAAI;AAE3C,UAAM,aAAa,aAAa,SAAS,mBAAmB,MAAM,MAAM,OAAO,EAAE,OAAO,OAAO,CAAC,IAAI;AAEpG,QAAI,iBAAiB,MAAM;AAKzB,YAAM,SAAS,MAAM,wBAAwB,MAAM,QAAQ,QAAQ,wBAAwB,MAAM,KAC7F,wBAAwB,MAAM,KAC9B;AAEJ,8BAAwB,QAAQ,EAAE,MAAM,IAAI,OAAA;AAC5C,iCAA2B,QAAQ,QAAQ,uBAAuB,oBAAoB,GAAG,IAAI;AAC7F,gCAA0B,QAAQ,QAAQ,uBAAuB,oBAAoB,IAAI,oBAAoB,KAAK;AAElH,4BAAsB,MAAM;AAC1B,YAAI,wBAAwB,MAAM,OAAO,MAAM,oBAAoB,cAAc,aAAa;AAC5F,kCAAwB,QAAQ,EAAE,MAAM,wBAAwB,MAAM,MAAM,GAAA;AAC5E,oCAA0B,QAAQ,QAAQ,uBAAuB,oBAAoB,IAAI,oBAAoB,KAAK;AAAA,QACpH;AAAA,MACF,CAAC;AAAA,IACH;AAEA,0BAAsB,MAAM;AAG1B,UAAI,oBAAoB,cAAc,YAAa;AAEnD,UAAI,iBAAiB,MAAM;AACzB,iCAAyB,IAAI;AAAA,MAC/B;AAEA,YACE,YAAY,mBAAmB,MAAM,MAAM,OAAO,EAAE,OAAO,OAAO,CAAC,GACnE,WAAW,YAAY,cAAc,cAAc,2BAA2B,OAC9E,SAAS,WAAW,mBAAoB,OAAQ;AAElD,UAAI,iBAAiB,WAAW;AAEhC,UAAI,aAAa,QAAQ;AACvB,cAAM,WAAW,YAAY;AAC7B,cAAM,cAAc,cAAc,cAAc;AAEhD,yBAAiB,eAAe,QAAQ,cAAc,YAAY,SAAS,cAAc,cAAc,iBACnG,cAEE,aAAa,QACT,SAAS,cAAc,iBACvB,YAAY,aAAa,UAAU,IAAI,KAAK,OAAO,cAAc,iBAAiB,mBAAoB,OAAQ,KAAK,CAAC;AAAA,MAEhI;AAEA,wBAAkB;AAElB;AAAA,QACE;AAAA,QACA;AAAA,QACA,MAAM;AAAA,QACN,GAAG,KAAK;AAAA,MAAA;AAGV,iBAAW,OAAO;AAAA,IACpB,CAAC;AAAA,EACH;AAEA,WAAS,yBAA0B,MAAM;AACvC,UAAM,YAAY,WAAW;AAE7B,QAAI,WAAW;AACb,YACE,WAAW,YAAY;AAAA,QACrB,UAAU;AAAA,QACV,QAAM,GAAG,aAAa,GAAG,UAAU,SAAS,wBAAwB,MAAM;AAAA,MAAA,GAE5E,iBAAiB,SAAS,QAC1B,SAAS,MAAM,4BAA4B,OACvC,CAAA,OAAM,GAAG,sBAAA,EAAwB,QACjC,QAAM,GAAG;AAEf,UACE,QAAQ,MACR,MAAM;AAER,eAAS,IAAI,GAAG,IAAI,kBAAiB;AACnC,eAAO,OAAO,SAAU,CAAE,CAAC;AAC3B;AAEA,eAAO,IAAI,kBAAkB,SAAU,CAAE,EAAE,UAAU,SAAS,6BAA6B,MAAM,MAAM;AACrG,kBAAQ,OAAO,SAAU,CAAE,CAAC;AAC5B;AAAA,QACF;AAEA,eAAO,OAAO,mBAAoB,KAAM;AAExC,YAAI,SAAS,GAAG;AACd,6BAAoB,KAAM,KAAK;AAC/B,gCAAuB,KAAK,MAAM,QAAQ,aAAa,CAAE,KAAK;AAAA,QAChE;AAEA;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAEA,WAAS,kBAAmB;AAC1B,eAAW,OAAO,MAAA;AAAA,EACpB;AAEA,WAAS,wBAAyB,SAAS,WAAW;AACpD,UAAM,cAAc,IAAI,8BAA8B;AAEtD,QAAI,cAAc,QAAQ,MAAM,QAAQ,kBAAkB,MAAM,OAAO;AACrE,2BAAqB,CAAA;AAAA,IACvB;AAEA,UAAM,8BAA8B,mBAAmB;AAEvD,uBAAmB,SAAS,oBAAoB;AAEhD,aAAS,IAAI,oBAAoB,QAAQ,GAAG,KAAK,6BAA6B,KAAK;AACjF,yBAAoB,CAAE,IAAI;AAAA,IAC5B;AAEA,UAAM,OAAO,KAAK,OAAO,oBAAoB,QAAQ,KAAK,aAAa;AACvE,4BAAwB,CAAA;AACxB,aAAS,IAAI,GAAG,KAAK,MAAM,KAAK;AAC9B,UAAI,OAAO;AACX,YAAM,OAAO,KAAK,KAAK,IAAI,KAAK,eAAe,oBAAoB,KAAK;AACxE,eAAS,IAAI,IAAI,eAAe,IAAI,MAAM,KAAK;AAC7C,gBAAQ,mBAAoB,CAAE;AAAA,MAChC;AACA,4BAAsB,KAAK,IAAI;AAAA,IACjC;AAEA,kBAAc;AACd,sBAAkB;AAElB,+BAA2B,QAAQ,QAAQ,uBAAuB,oBAAoB,GAAG,wBAAwB,MAAM,IAAI;AAC3H,8BAA0B,QAAQ,QAAQ,uBAAuB,oBAAoB,wBAAwB,MAAM,IAAI,oBAAoB,KAAK;AAEhJ,QAAI,WAAW,GAAG;AAChB,+BAAyB,wBAAwB,MAAM,IAAI;AAC3D,eAAS,MAAM;AAAE,iBAAS,OAAO;AAAA,MAAE,CAAC;AAAA,IACtC,OACK;AACH,yBAAA;AAAA,IACF;AAAA,EACF;AAEA,WAAS,qBAAsB,gBAAgB;AAC7C,QAAI,mBAAmB,UAAU,OAAO,WAAW,aAAa;AAC9D,YAAM,WAAW,uBAAA;AAEjB,UAAI,aAAa,UAAU,aAAa,QAAQ,SAAS,aAAa,GAAG;AACvE,yBAAiB;AAAA,UACf;AAAA,UACA,mBAAA;AAAA,UACA,UAAU;AAAA,UACV,SAAS;AAAA,UACT,MAAM;AAAA,UACN,GAAG,KAAK;AAAA,UACR,MAAM;AAAA,UACN,MAAM;AAAA,QAAA,EACN;AAAA,MACJ;AAAA,IACF;AAEA,0BAAsB;AAEtB,UAAM,gCAAgC,WAAW,MAAM,6BAA6B,KAAK;AACzF,UAAM,+BAA+B,WAAW,MAAM,4BAA4B,KAAK;AACvF,UAAM,aAAa,IAAI,gCAAgC;AACvD,UAAM,OAAO,mBAAmB,UAAU,kBAAkB,IACxD,IACA,KAAK,KAAK,iBAAiB,8BAA8B,KAAK;AAElE,UAAM,WAAW,KAAK;AAAA,MACpB;AAAA,MACA;AAAA,MACA,KAAK,MAAM,MAAM,yBAAyB,IAAI,MAAM,yBAAyB,MAAM,UAAU;AAAA,IAAA;AAG/F,mCAA+B,QAAQ;AAAA,MACrC,OAAO,KAAK,KAAK,WAAW,UAAU;AAAA,MACtC,OAAO,KAAK,KAAK,WAAW,6BAA6B;AAAA,MACzD,QAAQ,KAAK,KAAK,YAAY,MAAM,8BAA8B;AAAA,MAClE,KAAK,KAAK,KAAK,YAAY,IAAI,8BAA8B;AAAA,MAC7D;AAAA,IAAA;AAAA,EAEJ;AAEA,WAAS,iBAAkB,KAAK,SAAS;AACvC,UAAM,cAAc,MAAM,4BAA4B,OAAO,UAAU;AACvE,UAAM,QAAQ;AAAA,MACZ,CAAE,6BAA6B,WAAY,GAAG,8BAA8B,QAAQ;AAAA,IAAA;AAGtF,WAAO;AAAA,MACL,QAAQ,UACJ,EAAE,KAAK;AAAA,QACP,OAAO;AAAA,QACP,KAAK;AAAA,QACL,KAAK;AAAA,MAAA,GACJ;AAAA,QACD,EAAE,MAAM;AAAA,UACN,EAAE,MAAM;AAAA,YACN,OAAO,EAAE,CAAE,WAAY,GAAG,GAAI,2BAA2B,KAAM,MAAM,GAAG,MAAA;AAAA,YACxE,SAAS,YAAY;AAAA,UAAA,CACtB;AAAA,QAAA,CACF;AAAA,MAAA,CACF,IACC,EAAE,KAAK;AAAA,QACP,OAAO;AAAA,QACP,KAAK;AAAA,QACL,KAAK;AAAA,QACL,OAAO,EAAE,CAAE,WAAY,GAAG,GAAI,2BAA2B,KAAM,MAAM,GAAG,MAAA;AAAA,MAAM,CAC/E;AAAA,MAEH,EAAE,KAAK;AAAA,QACL,OAAO;AAAA,QACP,KAAK;AAAA,QACL,KAAK;AAAA,QACL,UAAU;AAAA,MAAA,GACT,QAAQ,MAAM;AAAA,MAEjB,QAAQ,UACJ,EAAE,KAAK;AAAA,QACP,OAAO;AAAA,QACP,KAAK;AAAA,QACL,KAAK;AAAA,MAAA,GACJ;AAAA,QACD,EAAE,MAAM;AAAA,UACN,EAAE,MAAM;AAAA,YACN,OAAO,EAAE,CAAE,WAAY,GAAG,GAAI,0BAA0B,KAAM,MAAM,GAAG,MAAA;AAAA,YACvE,SAAS,YAAY;AAAA,UAAA,CACtB;AAAA,QAAA,CACF;AAAA,MAAA,CACF,IACC,EAAE,KAAK;AAAA,QACP,OAAO;AAAA,QACP,KAAK;AAAA,QACL,KAAK;AAAA,QACL,OAAO,EAAE,CAAE,WAAY,GAAG,GAAI,0BAA0B,KAAM,MAAM,GAAG,MAAA;AAAA,MAAM,CAC9E;AAAA,IAAA;AAAA,EAEP;AAEA,WAAS,WAAY,OAAO;AAC1B,QAAI,gBAAgB,OAAO;AACzB,YAAM,oBAAoB,UAAU,KAAK,iBAAiB;AAAA,QACxD;AAAA,QACA,MAAM,wBAAwB,MAAM;AAAA,QACpC,IAAI,wBAAwB,MAAM,KAAK;AAAA,QACvC,WAAW,QAAQ,cAAc,aAAa;AAAA,QAC9C,KAAK;AAAA,MAAA,CACN;AAED,oBAAc;AAAA,IAChB;AAAA,EACF;AAEA,uBAAA;AACA,QAAM,qBAAqB;AAAA,IACzB;AAAA,IACA,GAAG,SAAS,GAAG,QAAQ,OAAO,MAAM;AAAA,EAAA;AAGtC,gBAAc,MAAM;AAClB,yBAAA;AAAA,EACF,CAAC;AAED,MAAI,iBAAiB;AAErB,gBAAc,MAAM;AAClB,qBAAiB;AAAA,EACnB,CAAC;AAED,cAAY,MAAM;AAChB,QAAI,mBAAmB,KAAM;AAE7B,UAAM,WAAW,uBAAA;AAEjB,QAAI,oBAAoB,UAAU,aAAa,UAAU,aAAa,QAAQ,SAAS,aAAa,GAAG;AACrG;AAAA,QACE;AAAA,QACA;AAAA,QACA,MAAM;AAAA,QACN,GAAG,KAAK;AAAA,MAAA;AAAA,IAEZ,OACK;AACH,eAAS,WAAW;AAAA,IACtB;AAAA,EACF,CAAC;AAEiB,kBAAgB,MAAM;AACtC,uBAAmB,OAAA;AAAA,EACrB,CAAC;AAGD,SAAO,OAAO,OAAO,EAAE,UAAU,OAAO,SAAS;AAEjD,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;AChtBA,MAAM,uBAAuB,OAAK,CAAE,OAAO,cAAc,QAAQ,EAAG,SAAS,CAAC;AAC9E,MAAM,eAAe;AACrB,MAAM,iBAAiB,OAAO,KAAK,aAAa;AAEhD,SAAS,eAAgB,cAAc,iBAAiB;AACtD,MAAI,OAAO,iBAAiB,WAAY,QAAO;AAE/C,QAAM,WAAW,iBAAiB,SAC9B,eACA;AAEJ,SAAO,SAAS,QAAQ,QAAQ,OAAO,QAAQ,YAAY,YAAY,MAAO,IAAK,QAAQ,IAAK;AAClG;AAEA,MAAA,UAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EAEN,cAAc;AAAA,EAEd,OAAO;AAAA,IACL,GAAG;AAAA,IACH,GAAG;AAAA,IACH,GAAG;AAAA;AAAA,IAGH,YAAY;AAAA,MACV,UAAU;AAAA,IAChB;AAAA,IAEI,UAAU;AAAA,IAEV,cAAc,CAAE,QAAQ,MAAM;AAAA,IAC9B,kBAAkB;AAAA,IAClB,cAAc;AAAA,IAEd,SAAS;AAAA,MACP,MAAM;AAAA,MACN,SAAS,MAAM,CAAA;AAAA,IACrB;AAAA,IAEI,aAAa,CAAE,UAAU,MAAM;AAAA,IAC/B,aAAa,CAAE,UAAU,MAAM;AAAA,IAC/B,eAAe,CAAE,UAAU,MAAM;AAAA,IAEjC,cAAc;AAAA,IACd,kBAAkB;AAAA,IAClB,WAAW;AAAA,IAEX,WAAW,CAAE,QAAQ,MAAM;AAAA,IAE3B,cAAc;AAAA,IACd,aAAa;AAAA,MACX,MAAM;AAAA,MACN,SAAS;AAAA,IACf;AAAA,IACI,sBAAsB;AAAA,IACtB,aAAa;AAAA,IAEb,cAAc;AAAA,IAEd,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,YAAY;AAAA,IAEZ,mBAAmB;AAAA,IACnB,mBAAmB,CAAE,QAAQ,OAAO,MAAM;AAAA,IAC1C,qBAAqB;AAAA,IAErB,UAAU;AAAA,IACV,UAAU;AAAA,IAEV,cAAc;AAAA,MACZ,MAAM;AAAA,MACN,WAAW;AAAA,IACjB;AAAA,IAEI,YAAY;AAAA,IACZ,WAAW;AAAA,IAEX,qBAAqB;AAAA,IAErB,eAAe;AAAA,MACb,MAAM,CAAE,QAAQ,MAAM;AAAA,MACtB,SAAS;AAAA,IACf;AAAA,IAEI,YAAY,CAAE,OAAO,QAAQ,MAAM;AAAA,IACnC,YAAY,CAAE,OAAO,QAAQ,MAAM;AAAA,IAEnC,UAAU;AAAA,MACR,MAAM,CAAE,QAAQ,MAAM;AAAA,MACtB,SAAS;AAAA,IACf;AAAA,IAEI,cAAc;AAAA,IAEd,gBAAgB,CAAA;AAAA,IAChB,gBAAgB,CAAA;AAAA,IAChB,oBAAoB,CAAA;AAAA,IAEpB,UAAU;AAAA,MACR,MAAM;AAAA,MACN,WAAW,OAAK,CAAE,WAAW,QAAQ,QAAQ,EAAG,SAAS,CAAC;AAAA,MAC1D,SAAS;AAAA,IACf;AAAA;AAAA,IAGI,uBAAuB,sBAAsB,sBAAsB;AAAA,IAEnE,YAAY;AAAA,IACZ,UAAU;AAAA,EACd;AAAA,EAEE,OAAO;AAAA,IACL,GAAG;AAAA,IACH;AAAA,IAAO;AAAA,IAAU;AAAA,IACjB;AAAA,IAAS;AAAA,IAAY;AAAA,IACrB;AAAA,IAAa;AAAA,IACb;AAAA,EACJ;AAAA,EAEE,MAAO,OAAO,EAAE,OAAO,KAAI,GAAI;AAC7B,UAAM,EAAE,MAAK,IAAK,mBAAkB;AACpC,UAAM,EAAE,GAAE,IAAK;AAEf,UAAM,OAAO,IAAI,KAAK;AACtB,UAAM,SAAS,IAAI,KAAK;AACxB,UAAM,cAAc,IAAI,EAAE;AAC1B,UAAM,aAAa,IAAI,EAAE;AACzB,UAAM,qBAAqB,IAAI,KAAK;AACpC,UAAM,wBAAwB,IAAI,KAAK;AAEvC,QAAI,cAAc,MAAM,kBAAkB,MACxC,iBACA,WAAW,gBAAgB,WAAW,MAAM,mBAC5C,wBAAwB,cAAc;AAExC,UAAM,WAAW,IAAI,IAAI;AACzB,UAAM,YAAY,IAAI,IAAI;AAC1B,UAAM,UAAU,IAAI,IAAI;AACxB,UAAM,YAAY,IAAI,IAAI;AAC1B,UAAM,iBAAiB,IAAI,IAAI;AAE/B,UAAM,WAAW,qBAAqB,KAAK;AAE3C,UAAM,gBAAgB,kBAAkB,OAAO;AAE/C,UAAM,sBAAsB,SAAS,MACnC,MAAM,QAAQ,MAAM,OAAO,IACvB,MAAM,QAAQ,SACd,CACL;AAED,UAAM,gCAAgC,SAAS,MAC7C,MAAM,0BAA0B,SAC3B,MAAM,iBAAiB,OAAO,KAAK,KACpC,MAAM,qBACX;AAED,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN,IAAQ,iBAAiB;AAAA,MACnB;AAAA,MAAqB;AAAA,MAAwB;AAAA,MAC7C;AAAA,IACN,CAAK;AAED,UAAM,QAAQ,cAAa;AAE3B,UAAM,aAAa,SAAS,MAAM;AAChC,YACE,UAAU,MAAM,eAAe,QAAQ,MAAM,aAAa,MAC1D,MAAM,MAAM,eAAe,WAAW,MAAM,eAAe,QAAQ,YAAY,QAC1E,MAAM,aAAa,QAAQ,MAAM,QAAQ,MAAM,UAAU,IAAI,MAAM,aAAa,CAAE,MAAM,UAAU,IACnG,CAAA;AAEN,UAAI,MAAM,eAAe,QAAQ,MAAM,QAAQ,MAAM,OAAO,MAAM,MAAM;AACtE,cAAM,QAAQ,MAAM,eAAe,QAAQ,oBAAoB,SAC3D,kBACA,CAAA;AACJ,cAAM,SAAS,IAAI,IAAI,OAAK,UAAU,GAAG,KAAK,CAAC;AAE/C,eAAO,MAAM,eAAe,QAAQ,YAAY,OAC5C,OAAO,OAAO,OAAK,MAAM,IAAI,IAC7B;AAAA,MACN;AAEA,aAAO;AAAA,IACT,CAAC;AAED,UAAM,kBAAkB,SAAS,MAAM;AACrC,YAAM,MAAM,CAAA;AACZ,qBAAe,QAAQ,SAAO;AAC5B,cAAM,MAAM,MAAO,GAAG;AACtB,YAAI,QAAQ,QAAQ;AAClB,cAAK,GAAG,IAAK;AAAA,QACf;AAAA,MACF,CAAC;AACD,aAAO;AAAA,IACT,CAAC;AAED,UAAM,gBAAgB,SAAS,MAC7B,MAAM,gBAAgB,OAClB,MAAM,OAAO,QACb,MAAM,WACX;AAED,UAAM,WAAW,SAAS,MAAM,mBAAmB,WAAW,KAAK,CAAC;AAEpE,UAAM,qBAAqB,SAAS,MAAM;AACxC,UAAI,MAAM;AAEV,UAAI,MAAM,iBAAiB,QAAQ,WAAW,MAAM,WAAW,GAAG;AAChE,eAAO,CAAE,KAAK,MAAM,UAAU;AAAA,MAChC;AAEA,aAAO;AAEP,aAAO,MAAM,eAAe,SACxB,MACA,CAAE,KAAK,MAAM,UAAU;AAAA,IAC7B,CAAC;AAED,UAAM,mBAAmB;AAAA,MAAS,OAC/B,MAAM,4BAA4B,OAAO,iCAAiC,OACxE,MAAM,oBAAoB,MAAM,MAAM,oBAAoB;AAAA,IACnE;AAEI,UAAM,YAAY,SAAS,MAAM,oBAAoB,UAAU,CAAC;AAEhE,UAAM,iBAAiB;AAAA,MAAS,MAC9B,WAAW,MACR,IAAI,SAAO,eAAe,MAAM,GAAG,CAAC,EACpC,KAAK,IAAI;AAAA,IAClB;AAEI,UAAM,mBAAmB,SAAS,MAAO,MAAM,iBAAiB,SAC5D,MAAM,eACN,eAAe,KAClB;AAED,UAAM,cAAc,SAAS,MAC3B,MAAM,gBAAgB,OAClB,MAAM,OACN,SAAO,KAAK,SAAS,IAC1B;AAED,UAAM,cAAc,SAAS,MAC3B,MAAM,qBAAqB,QACzB,MAAM,iBAAiB,WACrB,MAAM,gBAAgB,QACnB,WAAW,MAAM,KAAK,YAAY,KAAK,EAG/C;AAED,UAAM,WAAW,SAAS,MAAO,MAAM,QAAQ,UAAU,OAAO,MAAM,WAAW,EAAG;AAEpF,UAAM,gBAAgB,SAAS,MAAM;AACnC,YAAM,QAAQ;AAAA,QACZ,UAAU,MAAM;AAAA,QAChB,MAAM;AAAA,QACN,cAAc,MAAM;AAAA,QACpB,iBAAiB,MAAM,aAAa,OAAO,SAAS;AAAA,QACpD,qBAAqB,MAAM,aAAa,OAAO,SAAS;AAAA,QACxD,iBAAiB,KAAK,UAAU,OAAO,SAAS;AAAA,QAChD,iBAAiB,GAAI,MAAM,UAAU,KAAK;AAAA,MAClD;AAEM,UAAI,YAAY,SAAS,GAAG;AAC1B,cAAO,2BAA4B,GAAI,MAAM,UAAU,KAAK,IAAM,YAAY,KAAK;AAAA,MACrF;AAEA,aAAO;AAAA,IACT,CAAC;AAED,UAAM,eAAe,SAAS,OAAO;AAAA,MACnC,IAAI,GAAI,MAAM,UAAU,KAAK;AAAA,MAC7B,MAAM;AAAA,MACN,wBAAwB,MAAM,aAAa,OAAO,SAAS;AAAA,IACjE,EAAM;AAEF,UAAM,gBAAgB,SAAS,MAAM;AACnC,aAAO,WAAW,MAAM,IAAI,CAAC,KAAK,OAAO;AAAA,QACvC,OAAO;AAAA,QACP;AAAA,QACA,MAAM,YAAY,MAAM,GAAG;AAAA,QAC3B,UAAU;AAAA,QACV,eAAe;AAAA,QACf;AAAA,QACA,UAAU,SAAS;AAAA,MAC3B,EAAQ;AAAA,IACJ,CAAC;AAED,UAAM,cAAc,SAAS,MAAM;AACjC,UAAI,oBAAoB,UAAU,GAAG;AACnC,eAAO,CAAA;AAAA,MACT;AAEA,YAAM,EAAE,MAAM,GAAE,IAAK,wBAAwB;AAE7C,aAAO,MAAM,QAAQ,MAAM,MAAM,EAAE,EAAE,IAAI,CAAC,KAAK,MAAM;AACnD,cAAM,UAAU,iBAAiB,MAAM,GAAG,MAAM;AAChD,cAAM,SAAS,iBAAiB,GAAG,MAAM;AACzC,cAAM,QAAQ,OAAO;AAErB,cAAM,YAAY;AAAA,UAChB,WAAW;AAAA,UACX;AAAA,UACA,aAAa,6BAA6B;AAAA,UAC1C,aAAa;AAAA,UACb,SAAS;AAAA,UACT;AAAA,UACA,UAAU;AAAA,UACV,OAAO,MAAM;AAAA,UACb,MAAM,cAAc;AAAA,UACpB,MAAM;AAAA,UACN,iBAAiB,WAAW,OAAO,SAAS;AAAA,UAC5C,IAAI,GAAI,MAAM,UAAU,KAAK,IAAM;UACnC,SAAS,MAAM;AAAE,yBAAa,GAAG;AAAA,UAAE;AAAA,QAC7C;AAEQ,YAAI,YAAY,MAAM;AACpB,sBAAY,UAAU,UAAU,UAAU,UAAU;AAEpD,cAAI,GAAG,SAAS,GAAG,YAAY,MAAM;AACnC,sBAAU,cAAc,MAAM;AAAE,mBAAK,UAAU,QAAQ,eAAe,KAAK;AAAA,YAAE;AAAA,UAC/E;AAAA,QACF;AAEA,eAAO;AAAA,UACL;AAAA,UACA;AAAA,UACA,MAAM,YAAY,MAAM,GAAG;AAAA,UAC3B,OAAO,eAAe,MAAM,GAAG;AAAA,UAC/B,UAAU,UAAU;AAAA,UACpB,SAAS,UAAU;AAAA,UACnB;AAAA,UACA;AAAA,UACA;AAAA,QACV;AAAA,MACM,CAAC;AAAA,IACH,CAAC;AAED,UAAM,oBAAoB,SAAS,MACjC,MAAM,iBAAiB,SACnB,MAAM,eACN,GAAG,QAAQ,MAAM,QACtB;AAED,UAAM,cAAc;AAAA,MAAS,MAC3B,MAAM,iBAAiB,SACpB,MAAM,aAAa,QACnB,MAAM,aAAa,QACnB,MAAM,eAAe,QACrB,MAAM,YAAY;AAAA,IAC3B;AAEI,UAAM,+BAA+B,SAAS,MAC5C,MAAM,yBAAyB,SAC3B,MAAM,uBACL,MAAM,UAAU,SAAS,QAAS,MAAM,KAAK,KAAM,EACzD;AAID,UAAM,iBAAiB,SAAS,MAAM,eAAe,MAAM,aAAa,OAAO,CAAC;AAIhF,UAAM,iBAAiB,SAAS,MAAM,eAAe,MAAM,aAAa,OAAO,CAAC;AAIhF,UAAM,mBAAmB,SAAS,MAAM,eAAe,MAAM,eAAe,SAAS,CAAC;AAEtF,UAAM,oBAAoB,SAAS,MAAM,WAAW,MAAM,IAAI,eAAe,KAAK,CAAC;AAEnF,UAAM,qBAAqB,SAAS,MAAM;AACxC,YAAM,MAAM;AAAA,QACV;AAAA;AAAA;AAAA;AAAA;AAAA,QAKA,UAAU;AAAA,QACV,WAAW;AAAA,QACX,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,SAAS;AAAA,QACT,QAAS,GAAG;AAAE,wBAAc,QAAQ,KAAK,CAAC;AAAA,QAAE;AAAA,MACpD;AAEM,UAAI,qBAAqB,IAAI,sBAAsB,IAAI,mBAAmB;AAE1E,aAAO;AAAA,IACT,CAAC;AAED,UAAM,YAAY,SAAO;AACvB,wBAAkB;AAElB,UACE,MAAM,aAAa,QAChB,MAAM,cAAc,QACpB,MAAM,aAAa,QAGnB,MAAM,aAAa,UAAU,SAC3B,OAAO,UAAU,QAAQ,KAAK,UAAU,QAAS,SAAS,UAAU,OACzE;AACA,2BAAmB,QAAQ,gBAAe;AAC1C,YAAI,OAAO,UAAU,QAAQ,KAAK,UAAU,MAAM;AAChD,iBAAO,EAAE;AAAA,QACX;AAAA,MACF;AAAA,IACF,GAAG,EAAE,WAAW,KAAI,CAAE;AAEtB,UAAM,MAAM,MAAM,WAAW,eAAe;AAE5C,UAAM,MAAM,UAAU;AAEtB,UAAM,qBAAqB,YAAY;AAEvC,aAAS,uBAAwB,KAAK;AACpC,aAAO,MAAM,cAAc,OACvB,eAAe,MAAM,GAAG,IACxB;AAAA,IACN;AAEA,aAAS,cAAe,OAAO;AAC7B,UAAI,UAAU,MAAM,QAAQ,WAAW,MAAM,QAAQ;AACnD,YAAI,MAAM,aAAa,MAAM;AAC3B,gBAAM,QAAQ,MAAM,WAAW,MAAK;AACpC,eAAK,UAAU,EAAE,OAAO,OAAO,MAAM,OAAO,OAAO,CAAC,EAAG,GAAG,CAAE;AAC5D,eAAK,qBAAqB,KAAK;AAAA,QACjC,OACK;AACH,eAAK,qBAAqB,IAAI;AAAA,QAChC;AAAA,MACF;AAAA,IACF;AAEA,aAAS,sBAAuB,OAAO;AACrC,oBAAc,KAAK;AACnB,YAAM,MAAK;AAAA,IACb;AAEA,aAAS,IAAK,KAAK,QAAQ;AACzB,YAAM,MAAM,uBAAuB,GAAG;AAEtC,UAAI,MAAM,aAAa,MAAM;AAC3B,cAAM,cAAc,QAAQ;AAAA,UAC1B,eAAe,MAAM,GAAG;AAAA,UACxB;AAAA,UACA;AAAA,QACV;AAEQ,aAAK,qBAAqB,GAAG;AAC7B;AAAA,MACF;AAEA,UAAI,WAAW,MAAM,WAAW,GAAG;AACjC,aAAK,OAAO,EAAE,OAAO,GAAG,OAAO,IAAG,CAAE;AACpC,aAAK,qBAAqB,MAAM,aAAa,OAAO,CAAE,GAAG,IAAK,GAAG;AACjE;AAAA,MACF;AAEA,UACE,WAAW,QACR,iBAAiB,GAAG,MAAM,KAC7B;AAEF,UACE,MAAM,cAAc,UACjB,MAAM,WAAW,UAAU,MAAM,UACpC;AAEF,YAAM,QAAQ,MAAM,WAAW,MAAK;AAEpC,WAAK,OAAO,EAAE,OAAO,MAAM,QAAQ,OAAO,IAAG,CAAE;AAC/C,YAAM,KAAK,GAAG;AACd,WAAK,qBAAqB,KAAK;AAAA,IACjC;AAEA,aAAS,aAAc,KAAK,UAAU;AACpC,UACE,MAAM,SAAS,UAAU,QACtB,QAAQ,UACR,iBAAiB,MAAM,GAAG,MAAM,KACnC;AAEF,YAAM,WAAW,eAAe,MAAM,GAAG;AAEzC,UAAI,MAAM,aAAa,MAAM;AAC3B,YAAI,aAAa,MAAM;AACrB;AAAA,YACE,MAAM,cAAc,OAAO,eAAe,MAAM,GAAG,IAAI;AAAA,YACvD;AAAA,YACA;AAAA,UACZ;AAEU,oBAAS;AAAA,QACX;AAEA,kBAAU,OAAO,MAAK;AAEtB,YACE,WAAW,MAAM,WAAW,KACzB,YAAY,eAAe,MAAM,WAAW,MAAO,CAAC,CAAE,GAAG,QAAQ,MAAM,MAC1E;AACA,eAAK,qBAAqB,MAAM,cAAc,OAAO,WAAW,GAAG;AAAA,QACrE;AAEA;AAAA,MACF;AAEA,UAAI,cAAc,QAAQ,mBAAmB,UAAU,MAAM;AAC3D,cAAM,MAAK;AAAA,MACb;AAEA,sBAAe;AAEf,UAAI,WAAW,MAAM,WAAW,GAAG;AACjC,cAAM,MAAM,MAAM,cAAc,OAAO,WAAW;AAClD,aAAK,OAAO,EAAE,OAAO,GAAG,OAAO,IAAG,CAAE;AACpC,aAAK,qBAAqB,MAAM,aAAa,OAAO,CAAE,GAAG,IAAK,GAAG;AACjE;AAAA,MACF;AAEA,YACE,QAAQ,MAAM,WAAW,MAAK,GAC9B,QAAQ,kBAAkB,MAAM,UAAU,OAAK,YAAY,GAAG,QAAQ,CAAC;AAEzE,UAAI,UAAU,IAAI;AAChB,aAAK,UAAU,EAAE,OAAO,OAAO,MAAM,OAAO,OAAO,CAAC,EAAG,GAAG,CAAE;AAAA,MAC9D,OACK;AACH,YACE,MAAM,cAAc,UACjB,MAAM,UAAU,MAAM,UACzB;AAEF,cAAM,MAAM,MAAM,cAAc,OAAO,WAAW;AAElD,aAAK,OAAO,EAAE,OAAO,MAAM,QAAQ,OAAO,IAAG,CAAE;AAC/C,cAAM,KAAK,GAAG;AAAA,MAChB;AAEA,WAAK,qBAAqB,KAAK;AAAA,IACjC;AAEA,aAAS,eAAgB,OAAO;AAC9B,UAAI,GAAG,SAAS,GAAG,YAAY,KAAM;AAErC,YAAM,MAAM,UAAU,MAAM,QAAQ,oBAAoB,QACpD,QACA;AAEJ,UAAI,YAAY,UAAU,KAAK;AAC7B,oBAAY,QAAQ;AAAA,MACtB;AAAA,IACF;AAEA,aAAS,oBAAqB,SAAS,GAAG,gBAAgB;AACxD,UAAI,KAAK,UAAU,MAAM;AACvB,YAAI,QAAQ,YAAY;AACxB,WAAG;AACD,kBAAQ;AAAA,YACN,QAAQ;AAAA,YACR;AAAA,YACA,oBAAoB,QAAQ;AAAA,UACxC;AAAA,QACQ,SACO,UAAU,MAAM,UAAU,YAAY,SAAS,iBAAiB,MAAM,MAAM,QAAS,KAAK,CAAE,MAAM;AAEzG,YAAI,YAAY,UAAU,OAAO;AAC/B,yBAAe,KAAK;AACpB,mBAAS,KAAK;AAEd,cAAI,mBAAmB,QAAQ,MAAM,aAAa,QAAQ,MAAM,cAAc,MAAM;AAClF;AAAA,cACE,SAAS,IACL,eAAe,MAAM,MAAM,QAAS,KAAK,CAAE,IAC3C;AAAA,cACJ;AAAA,YACd;AAAA,UACU;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAEA,aAAS,UAAW,OAAO,YAAY;AACrC,YAAM,KAAK,SAAO,YAAY,eAAe,MAAM,GAAG,GAAG,KAAK;AAC9D,aAAO,MAAM,QAAQ,KAAK,EAAE,KAAK,WAAW,KAAK,EAAE,KAAK;AAAA,IAC1D;AAEA,aAAS,iBAAkB,KAAK;AAC9B,YAAM,MAAM,eAAe,MAAM,GAAG;AACpC,aAAO,kBAAkB,MAAM,KAAK,OAAK,YAAY,GAAG,GAAG,CAAC,MAAM;AAAA,IACpE;AAEA,aAAS,gBAAiB,GAAG;AAC3B,UACE,MAAM,aAAa,QAChB,UAAU,UAAU,SACnB,MAAM,UAAW,UAAU,UAAU,EAAE,UAAU,EAAE,OAAO,UAAU,eAAe,QACvF;AACA,kBAAU,MAAM,OAAM;AAAA,MACxB;AAAA,IACF;AAEA,aAAS,cAAe,GAAG;AAIzB,UAAI,UAAU,GAAG,EAAE,MAAM,QAAQ,KAAK,UAAU,MAAM;AACpD,aAAK,CAAC;AAEN,kBAAS;AACT,wBAAe;AAAA,MACjB;AAEA,WAAK,SAAS,CAAC;AAAA,IACjB;AAEA,aAAS,qBAAsB,GAAG;AAChC,YAAM,EAAE,MAAK,IAAK,EAAE;AAEpB,UAAI,EAAE,YAAY,QAAQ;AACxB,sBAAc,CAAC;AACf;AAAA,MACF;AAEA,QAAE,OAAO,QAAQ;AAEjB,UAAI,gBAAgB,MAAM;AACxB,qBAAa,WAAW;AACxB,sBAAc;AAAA,MAChB;AACA,UAAI,oBAAoB,MAAM;AAC5B,qBAAa,eAAe;AAC5B,0BAAkB;AAAA,MACpB;AAEA,sBAAe;AAEf,UAAI,OAAO,UAAU,YAAY,MAAM,WAAW,GAAG;AACnD,cAAM,SAAS,MAAM,kBAAiB;AACtC,cAAM,SAAS,eAAa;AAC1B,gBAAM,SAAS,MAAM,QAAQ,KAAK,SAAO,OAAO,UAAU,MAAM,GAAG,CAAC,EAAE,kBAAiB,MAAO,MAAM;AAEpG,cAAI,WAAW,OAAQ,QAAO;AAE9B,cAAI,WAAW,MAAM,QAAQ,MAAM,MAAM,IAAI;AAC3C,yBAAa,MAAM;AAAA,UACrB,OACK;AACH,sBAAS;AAAA,UACX;AAEA,iBAAO;AAAA,QACT;AACA,cAAM,SAAS,iBAAe;AAC5B,cACE,OAAO,cAAc,MAAM,QACxB,gBAAgB,QAChB,OAAO,cAAc,MAAM,MAC9B;AACA,mBAAO,OAAO,MAAM,MAAM,OAAO,IAAI,CAAC;AAAA,UACxC;AAAA,QACF;AAEA,eAAM;AAAA,MACR,OACK;AACH,cAAM,WAAW,CAAC;AAAA,MACpB;AAAA,IACF;AAEA,aAAS,iBAAkB,GAAG;AAC5B,WAAK,YAAY,CAAC;AAAA,IACpB;AAEA,aAAS,gBAAiB,GAAG;AAC3B,WAAK,WAAW,CAAC;AAEjB,UAAI,gBAAgB,CAAC,MAAM,KAAM;AAEjC,YAAM,oBAAoB,WAAW,MAAM,WAAW,MAChD,MAAM,iBAAiB,UAAU,MAAM,eAAe;AAE5D,YAAM,kBAAkB,EAAE,aAAa,QAClC,MAAM,wBAAwB,QAC9B,MAAM,aAAa,SAClB,YAAY,UAAU,MAAM,sBAAsB;AAGxD,UAAI,EAAE,YAAY,IAAI;AACpB,gBAAQ,CAAC;AACT;AAAA,MACF;AAGA,UAAI,EAAE,YAAY,KAAK,oBAAoB,OAAO;AAChD,kBAAS;AACT;AAAA,MACF;AAEA,UACE,EAAE,WAAW,UACV,EAAE,OAAO,OAAO,MAAM,UAAU,SAChC,MAAM,SAAS,UAAU,KAC5B;AAGF,UACE,EAAE,YAAY,MACX,MAAM,aAAa,UAAU,QAC7B,KAAK,UAAU,OAClB;AACA,uBAAe,CAAC;AAChB,kBAAS;AACT;AAAA,MACF;AAGA,UACE,EAAE,YAAY,MAEZ,MAAM,aAAa,QAChB,MAAM,cAAc,SAEtB,MAAM,iBAAiB,QACvB,WAAW,MAAM,WAAW,GAC/B;AACA,YAAI,MAAM,aAAa,QAAQ,MAAM,QAAQ,MAAM,UAAU,MAAM,MAAM;AACvE,wBAAc,MAAM,WAAW,SAAS,CAAC;AAAA,QAC3C,WACS,MAAM,aAAa,QAAQ,MAAM,eAAe,MAAM;AAC7D,eAAK,qBAAqB,IAAI;AAAA,QAChC;AAEA;AAAA,MACF;AAGA,WACG,EAAE,YAAY,MAAM,EAAE,YAAY,QAC/B,OAAO,WAAW,UAAU,YAAY,WAAW,MAAM,WAAW,IACxE;AACA,uBAAe,CAAC;AAChB,oBAAY,QAAQ;AACpB,4BAAoB,EAAE,YAAY,KAAK,IAAI,IAAI,MAAM,QAAQ;AAAA,MAC/D;AAGA,WACG,EAAE,YAAY,MAAM,EAAE,YAAY,OAChC,+BAA+B,UAAU,QAC5C;AACA,uBAAe,CAAC;AAChB,oBAAY,QAAQ,KAAK;AAAA,UACvB;AAAA,UACA,KAAK;AAAA,YACH,oBAAoB;AAAA,YACpB,YAAY,SAAS,EAAE,YAAY,KAAK,KAAK,KAAK,+BAA+B,MAAM;AAAA,UACnG;AAAA,QACA;AACQ,4BAAoB,EAAE,YAAY,KAAK,IAAI,IAAI,MAAM,QAAQ;AAAA,MAC/D;AAGA,UAAI,EAAE,YAAY,MAAM,EAAE,YAAY,IAAI;AACxC,uBAAe,CAAC;AAChB,4BAAoB,EAAE,YAAY,KAAK,KAAK,GAAG,MAAM,QAAQ;AAAA,MAC/D;AAEA,YAAM,gBAAgB,oBAAoB;AAG1C,UAAI,iBAAiB,UAAU,kBAAkB,KAAK,IAAG,GAAI;AAC3D,uBAAe;AAAA,MACjB;AAGA,UACE,gBAAgB,KACb,MAAM,aAAa,QACnB,EAAE,QAAQ,UACV,EAAE,IAAI,WAAW,KACjB,EAAE,WAAW,SACb,EAAE,YAAY,SACd,EAAE,YAAY,UACb,EAAE,YAAY,MAAM,aAAa,WAAW,IAChD;AACA,aAAK,UAAU,QAAQ,UAAU,CAAC;AAElC,cACE,OAAO,EAAE,IAAI,kBAAiB,GAC9B,YAAY,aAAa,WAAW,KAAK,aAAc,CAAC,MAAO;AAEjE,0BAAkB,KAAK,QAAQ;AAC/B,YAAI,cAAc,OAAO;AACvB,yBAAe,CAAC;AAChB,0BAAgB;AAAA,QAClB;AAEA,cAAM,WAAW,IAAI,OAAO,MAAM,aAAa,MAAM,EAAE,EAAE,IAAI,OAAM,aAAa,QAAQ,CAAC,MAAM,KAAK,OAAO,IAAI,CAAE,EAAE,KAAK,IAAI,GAAG,GAAG;AAElI,YAAI,QAAQ,YAAY;AAExB,YAAI,cAAc,QAAQ,QAAQ,KAAK,SAAS,KAAK,eAAe,MAAM,MAAM,QAAS,KAAK,CAAE,CAAC,MAAM,MAAM;AAC3G,aAAG;AACD,oBAAQ,oBAAoB,QAAQ,GAAG,IAAI,gBAAgB,CAAC;AAAA,UAC9D,SACO,UAAU,YAAY,UAC3B,iBAAiB,MAAM,MAAM,QAAS,KAAK,CAAE,MAAM,QAChD,SAAS,KAAK,eAAe,MAAM,MAAM,QAAS,KAAK,CAAE,CAAC,MAAM;AAAA,QAEvE;AAEA,YAAI,YAAY,UAAU,OAAO;AAC/B,mBAAS,MAAM;AACb,2BAAe,KAAK;AACpB,qBAAS,KAAK;AAEd,gBAAI,SAAS,KAAK,MAAM,aAAa,QAAQ,MAAM,cAAc,MAAM;AACrE,4BAAc,eAAe,MAAM,MAAM,QAAS,KAAK,CAAE,GAAG,IAAI;AAAA,YAClE;AAAA,UACF,CAAC;AAAA,QACH;AAEA;AAAA,MACF;AAIA,UACE,EAAE,YAAY,OACV,EAAE,YAAY,MAAM,MAAM,aAAa,QAAQ,iBAAiB,QAChE,EAAE,YAAY,KAAK,oBAAoB,OAC3C;AAEF,QAAE,YAAY,KAAK,eAAe,CAAC;AAEnC,UAAI,YAAY,UAAU,MAAM,YAAY,QAAQ,eAAe;AACjE,qBAAa,MAAM,QAAS,YAAY,KAAK,CAAE;AAC/C;AAAA,MACF;AAEA,UAAI,sBAAsB,MAAM;AAC9B,cAAM,OAAO,CAAC,KAAK,SAAS;AAC1B,cAAI,MAAM;AACR,gBAAI,qBAAqB,IAAI,MAAM,KAAM;AAAA,UAC3C,OACK;AACH,mBAAO,MAAM;AAAA,UACf;AAEA,2BAAiB,IAAI,MAAM,aAAa,MAAM,IAAI;AAElD,cAAI,QAAQ,UAAU,QAAQ,KAAM;AAEpC,gBAAM,KAAK,SAAS,WAAW,eAAe;AAC9C,aAAG,KAAK,SAAS,YAAY;AAE7B,cAAI,MAAM,aAAa,MAAM;AAC3B,sBAAU,OAAO,MAAK;AACtB,sBAAS;AAAA,UACX;AAAA,QACF;AAEA,YAAI,MAAM,eAAe,QAAQ;AAC/B,eAAK,YAAY,WAAW,OAAO,IAAI;AAAA,QACzC,OACK;AACH,eAAK,WAAW,KAAK;AAAA,QACvB;AAEA,YAAI,MAAM,aAAa,KAAM;AAAA,MAC/B;AAEA,UAAI,KAAK,UAAU,MAAM;AACvB,kBAAS;AAAA,MACX,WACS,MAAM,aAAa,UAAU,MAAM;AAC1C,kBAAS;AAAA,MACX;AAAA,IACF;AAEA,aAAS,qBAAsB;AAC7B,aAAO,cAAc,OACjB,eAAe,QAEb,QAAQ,UAAU,QAAQ,QAAQ,MAAM,cAAc,OAClD,QAAQ,MAAM,YACd;AAAA,IAEZ;AAEA,aAAS,yBAA0B;AACjC,aAAO,mBAAkB;AAAA,IAC3B;AAEA,aAAS,eAAgB;AACvB,UAAI,MAAM,iBAAiB,MAAM;AAC/B,eAAO,CAAA;AAAA,MACT;AAEA,UAAI,MAAO,eAAe,MAAO,QAAQ;AACvC,eAAO,cAAc,MAAM,IAAI,WAAS,MAAO,eAAe,EAAG,KAAK,CAAC,EAAE,MAAK;AAAA,MAChF;AAEA,UAAI,MAAM,aAAa,QAAQ;AAC7B,eAAO,GAAG,OAAO,MAAM,SAAQ,CAAE;AAAA,MACnC;AAEA,UAAI,MAAM,aAAa,MAAM;AAC3B,eAAO,cAAc,MAAM,IAAI,CAAC,OAAO,MAAM,EAAE,OAAO;AAAA,UACpD,KAAK,YAAY;AAAA,UACjB,WAAW,MAAM,SAAS,UAAU,QAAQ,iBAAiB,MAAM,MAAM,GAAG,MAAM;AAAA,UAClF,OAAO;AAAA,UACP,WAAW,MAAM;AAAA,UACjB,UAAU,SAAS;AAAA,UACnB,WAAY;AAAE,kBAAM,cAAc,CAAC;AAAA,UAAE;AAAA,QAC/C,GAAW,MAAM,EAAE,QAAQ;AAAA,UACjB,OAAO;AAAA,UACP,CAAE,MAAM,SAAS,OAAO,cAAc,gBAAiB,eAAe,MAAM,MAAM,GAAG;AAAA,QAC/F,CAAS,CAAC,CAAC;AAAA,MACL;AAEA,aAAO;AAAA,QACL,EAAE,QAAQ;AAAA,UACR,OAAO;AAAA,UACP,CAAE,YAAY,UAAU,OAAO,cAAc,aAAa,GAAI,iBAAiB;AAAA,QACzF,CAAS;AAAA,MACT;AAAA,IACI;AAEA,aAAS,gBAAiB;AACxB,UAAI,UAAU,UAAU,MAAM;AAC5B,eAAO,MAAO,iBAAkB,SAC5B,MAAO,WAAW,EAAG,EAAE,YAAY,WAAW,MAAK,CAAE,IACrD;AAAA,MACN;AAEA,YAAM,KAAK,MAAM,WAAW,SACxB,MAAM,SACN,WAAS;AACT,eAAO,EAAE,OAAO;AAAA,UACd,KAAK,MAAM;AAAA,UACX,GAAG,MAAM;AAAA,QACrB,GAAa,MAAM;AACP,iBAAO;AAAA,YACL;AAAA,YACA,MAAM;AAAA,cACJ;AAAA,cACA,MAAM,EAAE,QAAQ;AAAA,gBACd,CAAE,MAAM,SAAS,OAAO,cAAc,aAAa,GAAI,MAAM;AAAA,cAC/E,CAAiB;AAAA,YACjB;AAAA,UACA;AAAA,QACU,CAAC;AAAA,MACH;AAEF,UAAI,UAAU,iBAAiB,OAAO,YAAY,MAAM,IAAI,EAAE,CAAC;AAE/D,UAAI,MAAO,gBAAgB,MAAO,QAAQ;AACxC,kBAAU,MAAO,kBAAkB,EAAG,OAAO,OAAO;AAAA,MACtD;AAEA,aAAO,WAAW,MAAO,eAAe,GAAI,OAAO;AAAA,IACrD;AAEA,aAAS,SAAU,YAAY,UAAU;AACvC,YAAM,QAAQ,aAAa,OAAO,EAAE,GAAG,cAAc,OAAO,GAAG,MAAM,WAAW,WAAW,MAAK,IAAK;AAErG,YAAM,OAAO;AAAA,QACX,KAAK,aAAa,OAAO,YAAY;AAAA,QACrC,KAAK;AAAA,QACL,OAAO,mBAAmB;AAAA,QAC1B,OAAO,MAAM;AAAA,QACb,OAAO,WAAW,UAAU,SAAS,WAAW,QAAQ;AAAA;AAAA,QAExD,MAAM;AAAA,QACN,GAAG;AAAA,QACH,IAAI,aAAa,OAAO,MAAM,UAAU,QAAQ;AAAA,QAChD,WAAW,MAAM;AAAA,QACjB,cAAc,MAAM;AAAA,QACpB,kBAAkB,eAAe,QAAQ,MAAM,cAAc,QAAQ;AAAA,QACrE,UAAU,MAAM,YAAY;AAAA,QAC5B,UAAU,MAAM,aAAa;AAAA,QAC7B,GAAG,mBAAmB;AAAA,MAC9B;AAEM,UAAI,eAAe,QAAQ,cAAc,MAAM;AAC7C,YAAI,MAAM,QAAQ,KAAK,KAAK,MAAM,MAAM;AACtC,eAAK,QAAQ,CAAE,GAAG,KAAK,OAAO,mBAAmB;AAAA,QACnD,OACK;AACH,eAAK,SAAS;AAAA,QAChB;AAAA,MACF;AAEA,aAAO,EAAE,SAAS,IAAI;AAAA,IACxB;AAEA,aAAS,QAAS,GAAG;AACnB,UAAI,gBAAgB,MAAM;AACxB,qBAAa,WAAW;AACxB,sBAAc;AAAA,MAChB;AACA,UAAI,oBAAoB,MAAM;AAC5B,qBAAa,eAAe;AAC5B,0BAAkB;AAAA,MACpB;AAEA,UACE,KACG,EAAE,UACF,EAAE,OAAO,eAAe,KAC3B;AAEF,oBAAc,EAAE,OAAO,SAAS,EAAE;AAGlC,uBAAiB;AACjB,0BAAoB,WAAW;AAE/B,UACE,MAAM,QAAQ,UAAU,SACpB,cAAc,QAAQ,mBAAmB,UAAU,OACvD;AACA,cAAM,MAAK;AAAA,MACb;AAEA,UAAI,MAAM,aAAa,QAAQ;AAC7B,sBAAc,WAAW,MAAM;AAC7B,wBAAc;AACd,iBAAO,WAAW,KAAK;AAAA,QACzB,GAAG,MAAM,aAAa;AAAA,MACxB;AAAA,IACF;AAEA,aAAS,cAAe,KAAK,iBAAiB;AAC5C,UAAI,WAAW,UAAU,KAAK;AAC5B,mBAAW,QAAQ;AAEnB,YAAI,oBAAoB,QAAQ,MAAM,kBAAkB,KAAK,MAAM,kBAAkB,KAAK;AACxF,eAAK,cAAc,GAAG;AAAA,QACxB,OACK;AACH,4BAAkB,WAAW,MAAM;AACjC,8BAAkB;AAClB,iBAAK,cAAc,GAAG;AAAA,UACxB,GAAG,MAAM,aAAa;AAAA,QACxB;AAAA,MACF;AAAA,IACF;AAEA,aAAS,iBAAkB,KAAK,aAAa,UAAU;AACrD,uBAAiB,aAAa;AAE9B,UAAI,MAAM,aAAa,MAAM;AAC3B,sBAAc,KAAK,IAAI;AAEvB,YAAI,gBAAgB,QAAQ,aAAa,MAAM;AAC7C,8BAAoB;AAAA,QACtB;AAEA,wBAAgB,QAAQ,OAAO,GAAG;AAAA,MACpC;AAAA,IACF;AAEA,aAAS,OAAQ,KAAK,YAAY,eAAe;AAC/C,UACE,MAAM,aAAa,UACf,eAAe,QAAQ,MAAM,QAAQ,UAAU,KACnD;AAEF,UAAI,MAAM,aAAa,UAAU,MAAM;AACrC,aAAK,aAAa;AAAA,MACpB,OACK;AACH,cAAM,aAAa,QAAQ;AAC3B,8BAAsB,QAAQ;AAAA,MAChC;AAEA,UACE,QAAQ,MACL,MAAM,aAAa,QACnB,WAAW,MAAM,WAAW,KAC5B,mBAAmB,QACnB,QAAQ,eAAe,MAAM,WAAW,MAAO,CAAC,CAAE,GACrD;AACA,cAAM;AAAA,MACR;AAEA,YAAM,gBAAgB,WAAW,MAAM;AACrC,aAAK,UAAU,SAAS,KAAK,QAAQ;AAAA,MACvC,GAAG,EAAE;AAEL,mBAAa,QAAQ,aAAa,QAAQ;AAC1C,iBAAW;AAEX;AAAA,QACE;AAAA,QACA;AAAA,QACA,CAAC,IAAI,YAAY;AACf,eAAK,eAAe,QAAQ,MAAM,QAAQ,UAAU,SAAS,aAAa,eAAe;AACvF,yBAAa,QAAQ;AAErB,mBAAO,OAAO,cAAc,GAAE;AAG9B,kCAAsB,QAAQ;AAE9B,qBAAS,MAAM;AACb,oBAAM,aAAa,QAAQ;AAE3B,kBAAI,MAAM,SAAS,UAAU,MAAM;AACjC,oBAAI,eAAe,MAAM;AACvB,uBAAK,UAAU,QAAQ,UAAS;AAAA,gBAClC,WACS,KAAK,UAAU,MAAM;AAC5B,6BAAW,IAAI;AAAA,gBACjB,OACK;AACH,uBAAK,QAAQ;AAAA,gBACf;AAAA,cACF;AAEA,qBAAO,YAAY,cAAc,SAAS,MAAM;AAAE,wBAAQ,KAAK;AAAA,cAAE,CAAC;AAClE,qBAAO,kBAAkB,cAAc,SAAS,MAAM;AAAE,8BAAc,KAAK;AAAA,cAAE,CAAC;AAAA,YAChF,CAAC;AAAA,UACH;AAAA,QACF;AAAA,QACA,MAAM;AACJ,cAAI,MAAM,QAAQ,UAAU,QAAQ,aAAa,eAAe;AAC9D,yBAAa,QAAQ;AACrB,kBAAM,aAAa,QAAQ;AAC3B,kCAAsB,QAAQ;AAAA,UAChC;AACA,eAAK,UAAU,SAAS,KAAK,QAAQ;AAAA,QACvC;AAAA,MACR;AAAA,IACI;AAEA,aAAS,UAAW;AAClB,aAAO,EAAE,OAAO;AAAA,QACd,KAAK;AAAA,QACL,OAAO,iBAAiB;AAAA,QACxB,OAAO,MAAM;AAAA,QACb,YAAY,KAAK;AAAA,QACjB,KAAK,MAAM,eAAe;AAAA,QAC1B,OAAO,MAAM,iBAAiB,QAAQ,UAAU,UAAU,QAAQ,MAAM,aAAa;AAAA,QACrF,QAAQ,MAAM;AAAA,QACd,MAAM,MAAM;AAAA,QACZ,QAAQ,MAAM;AAAA,QACd,MAAM,cAAc;AAAA,QACpB,eAAe;AAAA,QACf,WAAW;AAAA,QACX,SAAS;AAAA,QACT,gBAAgB,MAAM;AAAA,QACtB,QAAQ,YAAY;AAAA,QACpB,gBAAgB,MAAM;AAAA,QACtB,gBAAgB,MAAM;AAAA,QACtB,oBAAoB,MAAM;AAAA,QAC1B,oBAAoB;AAAA,QACpB,GAAG,aAAa;AAAA,QAChB,iBAAiB;AAAA,QACjB,cAAc;AAAA,QACd,cAAc;AAAA,QACd,QAAQ;AAAA,MAChB,GAAS,aAAa;AAAA,IAClB;AAEA,aAAS,iBAAkB,GAAG;AAC5B,yBAAmB,CAAC;AACpB,gBAAS;AAAA,IACX;AAEA,aAAS,aAAc;AACrB,2BAAoB;AAAA,IACtB;AAEA,aAAS,mBAAoB,GAAG;AAC9B,WAAK,CAAC;AACN,gBAAU,OAAO,MAAK;AACtB,yBAAmB,QAAQ;AAC3B,aAAO,SAAS,OAAO,eAAe,OAAO,WAAW,SAAS,KAAK,cAAc,GAAG,CAAC;AAAA,IAC1F;AAEA,aAAS,kBAAmB,GAAG;AAC7B,WAAK,CAAC;AACN,eAAS,MAAM;AACb,2BAAmB,QAAQ;AAAA,MAC7B,CAAC;AAAA,IACH;AAEA,aAAS,YAAa;AACpB,YAAM,UAAU;AAAA,QACd,EAAE,QAAQ;AAAA,UACR,OAAO,YAAa,MAAM,WAAW,KAAK;AAAA,UAC1C,GAAG,gBAAgB;AAAA,UACnB,KAAK,MAAM,UAAU;AAAA,UACrB,MAAM,cAAc;AAAA,UACpB,QAAQ;AAAA,UACR,SAAS,sBAAsB;AAAA,UAC/B,aAAa;AAAA,UACb,QAAQ;AAAA,UACR,YAAY,WAAW,MAAM,WAAW;AAAA,UACxC,GAAG,MAAM,WAAW,UAAU;AAAA,UAC9B,SAAS;AAAA,UACT,QAAQ;AAAA,QAClB,GAAW;AAAA,UACD,GAAG;AAAA,UACH,YAAY,MAAM,MAAM,WAAW,IAAI;AAAA,UACvC,QAAQ;AAAA,UACR,OAAO;AAAA,QACjB,CAAS;AAAA,MACT;AAEM,WAAK,UAAU,QAAQ,QAAQ;AAAA,QAC7B,EAAE,OAAO;AAAA,UACP,KAAK;AAAA,UACL,OAAO,iBAAiB,QAAQ;AAAA,UAChC,OAAO,MAAM;AAAA,UACb,GAAG,aAAa;AAAA,UAChB,SAAS;AAAA,UACT,iBAAiB;AAAA,QAC3B,GAAW,cAAa,CAAE;AAAA,MAC1B;AAEM,aAAO,EAAE,SAAS;AAAA,QAChB,KAAK;AAAA,QACL,YAAY,OAAO;AAAA,QACnB,UAAU,MAAM,aAAa,OAAO,QAAQ;AAAA,QAC5C,gBAAgB;AAAA,QAChB,gBAAgB,MAAM;AAAA,QACtB,oBAAoB,MAAM;AAAA,QAC1B,gBAAgB,MAAM;AAAA,QACtB,cAAc;AAAA,QACd,cAAc;AAAA,QACd,QAAQ;AAAA,QACR,QAAQ;AAAA,MAChB,GAAS,MAAM,EAAE,OAAO;AAAA,QAChB,OAAO,sBACF,cAAc,UAAU,OAAO,mCAAmC,OAClE,mBAAmB,UAAU,OAAO,+BAA+B;AAAA,MAChF,GAAS,OAAO,CAAC;AAAA,IACb;AAEA,aAAS,mBAAoB,GAAG;AAC9B,yBAAmB,CAAC;AAEpB,UAAI,UAAU,UAAU,MAAM;AAC5B,kBAAU,MAAM;AAAA,UACd,MAAM,QAAQ,MAAM,cAAc,0CAA0C;AAAA,QACtF;AAAA,MACM;AAEA,YAAM,QAAQ,QAAQ;AAAA,IACxB;AAEA,aAAS,aAAc,GAAG;AACxB,gBAAS;AACT,YAAM,QAAQ,UAAU,SAAS,KAAK,QAAQ,CAAC;AAC/C,sBAAe;AAAA,IACjB;AAEA,aAAS,eAAgB;AACvB,YAAM,KAAK,SAAS;AACpB,WACG,OAAO,QAAQ,GAAG,OAAO,MAAM,UAAU,UACvC,UAAU,UAAU,QACpB,UAAU,UAAU,IACvB;AACA,kBAAU,MAAM,MAAK;AAAA,MACvB;AAEA,2BAAoB;AAAA,IACtB;AAEA,aAAS,YAAa;AACpB,UAAI,OAAO,UAAU,KAAM;AAE3B,kBAAY,QAAQ;AAEpB,UAAI,KAAK,UAAU,MAAM;AACvB,aAAK,QAAQ;AAAA,MACf;AAEA,UAAI,MAAM,QAAQ,UAAU,OAAO;AACjC,YAAI,aAAa,MAAM;AACrB,uBAAa,QAAQ;AACrB,qBAAW;AAAA,QACb;AAEA,YAAI,MAAM,aAAa,UAAU,MAAM;AACrC,eAAK,aAAa;AAClB,gBAAM,aAAa,QAAQ;AAC3B,gCAAsB,QAAQ;AAAA,QAChC;AAAA,MACF;AAAA,IACF;AAEA,aAAS,UAAW,GAAG;AACrB,UAAI,MAAM,SAAS,UAAU,KAAM;AAEnC,UAAI,cAAc,MAAM;AACtB,cAAM,iBAAiB,CAAC;AACxB,eAAO,QAAQ;AACf,iBAAS,MAAM;AACb,gBAAM,MAAK;AAAA,QACb,CAAC;AAAA,MACH,OACK;AACH,cAAM,MAAK;AAAA,MACb;AAEA,UAAI,MAAM,aAAa,QAAQ;AAC7B,eAAO,WAAW,KAAK;AAAA,MACzB,WACS,UAAU,UAAU,QAAQ,MAAO,WAAW,MAAO,QAAQ;AACpE,aAAK,QAAQ;AAAA,MACf;AAAA,IACF;AAEA,aAAS,YAAa;AACpB,aAAO,QAAQ;AACf,gBAAS;AAAA,IACX;AAEA,aAAS,kBAAmB;AAC1B,YAAM,aAAa,QAAQ;AAAA,QACzB,MAAM,aAAa,QAAQ,MAAM,cAAc,QAAQ,WAAW,MAAM,WAAW,IAC/E,eAAe,MAAM,WAAW,MAAO,CAAC,CAAE,KAAK,KAC/C;AAAA,QACJ;AAAA,QACA;AAAA,MACR;AAAA,IACI;AAEA,aAAS,WAAY,MAAM;AACzB,UAAIC,eAAc;AAElB,UAAI,SAAS,MAAM;AACjB,YAAI,WAAW,MAAM,WAAW,GAAG;AACjC,gBAAM,MAAM,eAAe,MAAM,WAAW,MAAO,CAAC,CAAE;AACtD,UAAAA,eAAc,MAAM,QAAQ,UAAU,OAAK,YAAY,eAAe,MAAM,CAAC,GAAG,GAAG,CAAC;AAAA,QACtF;AAEA,gCAAwBA,YAAW;AAAA,MACrC;AAEA,qBAAeA,YAAW;AAAA,IAC5B;AAEA,aAAS,aAAc,WAAW,WAAW;AAC3C,UAAI,KAAK,UAAU,QAAQ,MAAM,aAAa,UAAU,OAAO;AAC7D,gCAAwB,IAAI,IAAI;AAEhC,iBAAS,MAAM;AACb,cAAI,KAAK,UAAU,QAAQ,MAAM,aAAa,UAAU,OAAO;AAC7D,gBAAI,YAAY,WAAW;AACzB,sCAAuB;AAAA,YACzB,OACK;AACH,yBAAW,IAAI;AAAA,YACjB;AAAA,UACF;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAEA,aAAS,qBAAsB;AAC7B,UAAI,OAAO,UAAU,SAAS,QAAQ,UAAU,MAAM;AACpD,gBAAQ,MAAM,eAAc;AAAA,MAC9B;AAAA,IACF;AAEA,aAAS,mBAAoB,GAAG;AAC9B,YAAM,UAAU,KAAK,CAAC;AACtB,WAAK,aAAa,CAAC;AACnB,YAAM,eAAe;AACrB,YAAM,iBAAiB,CAAC;AAAA,IAC1B;AAEA,aAAS,mBAAoB,GAAG;AAC9B,YAAM,UAAU,KAAK,CAAC;AACtB,WAAK,aAAa,CAAC;AACnB,YAAM,eAAe;AACrB,YAAM,kBAAkB,CAAC;AAAA,IAC3B;AAEA,aAAS,iBAAkB;AACzB,kBAAY,GAAG,SAAS,GAAG,WAAW,QAAQ,MAAM,aAAa,WAC7D,QACA,MAAM,aAAa,WACnB,MAAM,aAAa,OACf,MAAO,WAAW,MAAO,UAAU,MAAM,aAAa,UAAU,UAAU,UAAU,QACpF;AAGR,+BAAyB,GAAG,SAAS,GAAG,QAAQ,QAAQ,cAAc,QAAQ,MAAM,aAAa,OAC7F,SACA,MAAM;AAAA,IACZ;AAEA,mBAAe,cAAc;AAC7B,cAAU,kBAAkB;AAE5B,mBAAc;AAEd,oBAAgB,MAAM;AACpB,sBAAgB,QAAQ,aAAa,WAAW;AAChD,0BAAoB,QAAQ,aAAa,eAAe;AAAA,IAC1D,CAAC;AAGD,WAAO,OAAO,OAAO;AAAA,MACnB;AAAA,MAAW;AAAA,MACX;AAAA,MAAe;AAAA,MAAK;AAAA,MACpB,gBAAgB,MAAM,YAAY;AAAA,MAClC;AAAA,MAAgB;AAAA,MAChB;AAAA,MAAQ;AAAA,MAAoB;AAAA,MAC5B;AAAA,MACA;AAAA,MACA,kBAAkB,IAAI,SAAS,iBAAiB,MAAM,MAAM,MAAM,IAAI,MAAM;AAAA,MAC5E,gBAAgB,IAAI,SAAS,eAAe,MAAM,MAAM,MAAM,IAAI;AAAA,MAClE,gBAAgB,IAAI,SAAS,eAAe,MAAM,MAAM,MAAM,IAAI;AAAA,IACxE,CAAK;AAED,WAAO,OAAO,OAAO;AAAA,MACnB;AAAA,MAEA,YAAY;AAAA,QAAS,MACnB,+CAAgD,MAAM,aAAa,OAAO,QAAQ,0BAC7D,MAAM,aAAa,OAAO,QAAQ,sBACtC,MAAM,aAAa,OAAO,aAAa,QAAQ;AAAA,MACxE;AAAA,MAEM;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA,eAAe;AAAA,QAAS,MACrB,MAAM,iBAAiB,QAAQ,SAAS,UAAU,QAChD,OAAO,WAAW,UAAU,YAC5B,WAAW,MAAM,WAAW,KAC5B,mBAAmB,MAAM,YAAY;AAAA,MAChD;AAAA,MAEM,iBAAiB,MAAM;AACrB,YACE,MAAM,SAAS,UAAU,UACvB,OAAO,UAAU,QACd,UAAU,UAAU,QACpB,MAAO,WAAW,MAAO,SAE9B;AACA,iBAAO,cAAc,OAAO,UAAS,IAAK,QAAO;AAAA,QACnD,WACS,MAAM,iBAAiB,MAAM;AAEpC,gBAAM,eAAe;AAAA,QACvB;AAAA,MACF;AAAA,MAEA,eAAe;AAAA,QACb,UAAW,GAAG;AAAE,gBAAM,iBAAiB,CAAC;AAAA,QAAE;AAAA,QAC1C,WAAY,GAAG;AACb,gBAAM,kBAAkB,GAAG,MAAM;AAC/B,4BAAe;AACf,sBAAS;AAAA,UACX,CAAC;AAAA,QACH;AAAA,QACA,QAAS,GAAG;AAEV,kBAAQ,CAAC;AAET,cAAI,cAAc,QAAQ,KAAK,UAAU,MAAM;AAC7C,sBAAS;AACT,sBAAU,OAAO,MAAK;AACtB;AAAA,UACF;AAEA,oBAAU,CAAC;AAAA,QACb;AAAA,MACR;AAAA,MAEM,YAAY,gBAAc;AACxB,cAAM,QAAQ,aAAY;AAC1B,cAAM,WAAW,eAAe,QAAQ,OAAO,UAAU,QAAQ,cAAc;AAE/E,YAAI,MAAM,aAAa,MAAM;AAC3B,gBAAM,KAAK,SAAS,YAAY,QAAQ,CAAC;AAAA,QAC3C,WAES,MAAM,SAAS,UAAU,MAAM;AACtC,gBAAMC,SAAQ,aAAa,OAAO,cAAc,QAAQ;AAExD,gBAAM;AAAA,YACJ,EAAE,SAAS;AAAA,cACT,KAAK,aAAa,OAAO,YAAY;AAAA,cACrC,KAAK;AAAA,cACL,OAAO;AAAA,cACP,IAAI,aAAa,OAAO,MAAM,UAAU,QAAQ;AAAA,cAChD,OAAO,iBAAiB;AAAA,cACxB,UAAU;AAAA,cACV,kBAAkB,eAAe,QAAQ,MAAM,cAAc,QAAQ;AAAA,cACrE,GAAGA;AAAA,cACH,WAAW;AAAA,cACX,SAAS;AAAA,cACT,YAAY;AAAA,YAC1B,CAAa;AAAA,UACb;AAEU,cAAI,aAAa,QAAQ,OAAO,MAAM,iBAAiB,YAAY,MAAM,aAAa,WAAW,GAAG;AAClG,kBAAM;AAAA,cACJ,EAAE,SAAS;AAAA,gBACT,OAAO;AAAA,gBACP,cAAc,MAAM;AAAA,gBACpB,UAAU;AAAA,gBACV,SAAS;AAAA,cACzB,CAAe;AAAA,YACf;AAAA,UACU;AAAA,QACF;AAEA,YAAI,SAAS,UAAU,UAAU,MAAM,YAAY,QAAQ,kBAAkB,MAAM,WAAW,GAAG;AAC/F,gBAAM,OAAO,kBAAkB,MAAM,IAAI,WAAS,EAAE,UAAU,EAAE,OAAO,UAAU,KAAI,CAAE,CAAC;AAExF,gBAAM;AAAA,YACJ,EAAE,UAAU;AAAA,cACV,OAAO;AAAA,cACP,MAAM,SAAS;AAAA,cACf,UAAU,MAAM;AAAA,YAC9B,GAAe,IAAI;AAAA,UACnB;AAAA,QACQ;AAEA,cAAM,QAAQ,MAAM,aAAa,QAAQ,aAAa,OAAO,SAAS,MAAM,WAAW,WAAW;AAElG,eAAO,EAAE,OAAO;AAAA,UACd,OAAO;AAAA,UACP,GAAG;AAAA,UACH,GAAG,MAAM,WAAW,UAAU;AAAA,QACxC,GAAW,KAAK;AAAA,MACV;AAAA,MAEA,gBAAgB,MACd,MAAM,YAAY,QAAQ,sBAAsB,UAAU,QAAQ,MAAM,qBAAqB,OACzF;AAAA,QACE,EAAE,OAAO;AAAA,UACP,OAAO,6BAA6B,KAAK,UAAU,OAAO,gBAAgB;AAAA,UAC1E,MAAM,kBAAkB;AAAA,QACxC,CAAe;AAAA,MACf,IACY;AAAA,IAEZ,CAAK;AAED,WAAO,SAAS,KAAK;AAAA,EACvB;AACF,CAAC;","x_google_ignoreList":[0,1,2,3,4]}