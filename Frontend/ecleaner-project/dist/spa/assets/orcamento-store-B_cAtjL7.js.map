{"version":3,"file":"orcamento-store-B_cAtjL7.js","sources":["../../../src/core/domain/enums/tipoItemOrcamento.js","../../../src/core/domain/entities/itemOrcamento.js","../../../src/core/domain/enums/statusOrcamento.js","../../../src/core/domain/entities/orcamento.js","../../../src/core/infrastructure/repositories/orcamentoRepository.js","../../../src/stores/orcamento-store.js"],"sourcesContent":["/**\n * Enumeração que define os tipos de item de orçamento\n */\nexport const TipoItemOrcamento = Object.freeze({\n  MATERIAL: 'MATERIAL',\n  SERVICO: 'SERVICO',\n})\n\n/**\n * Retorna a descrição amigável do tipo de item\n * @param {string} tipo - O tipo do item\n * @returns {string} A descrição do tipo\n */\nexport function obterDescricaoTipoItem(tipo) {\n  const descricoes = {\n    [TipoItemOrcamento.MATERIAL]: 'Material',\n    [TipoItemOrcamento.SERVICO]: 'Serviço',\n  }\n\n  return descricoes[tipo] || 'Tipo desconhecido'\n}\n\n/**\n * Valida se o tipo fornecido é válido\n * @param {string} tipo - O tipo a ser validado\n * @returns {boolean} True se o tipo for válido\n */\nexport function validarTipoItem(tipo) {\n  return Object.values(TipoItemOrcamento).includes(tipo)\n}\n","import { gerarGuid } from '../utils/guid'\nimport { TipoItemOrcamento, validarTipoItem } from '../enums/tipoItemOrcamento'\n\n/**\n * Classe que representa um Item de Orçamento.\n * Pode ser um material ou serviço com informações básicas para composição do orçamento.\n */\nexport class ItemOrcamento {\n  /**\n   * @param {string} descricao - Descrição do item\n   * @param {string} tipo - Tipo do item (MATERIAL ou SERVICO)\n   * @param {number} custo - Custo unitário do item\n   * @param {number} quantidade - Quantidade do item (padrão: 1)\n   * @param {string} unidade - Unidade de medida do item (padrão: 'UN')\n   * @param {string} observacoes - Observações adicionais sobre o item\n   * @param {number} numero - Número sequencial do item no orçamento\n   */\n  constructor(\n    descricao,\n    tipo,\n    custo,\n    quantidade = 1,\n    unidade = 'UN',\n    observacoes = '',\n    numero = null,\n  ) {\n    // Validações\n    if (!descricao || typeof descricao !== 'string' || descricao.trim().length === 0) {\n      throw new Error('A descrição é obrigatória e deve ser uma string não vazia')\n    }\n\n    if (!validarTipoItem(tipo)) {\n      throw new Error(\n        `Tipo inválido. Deve ser ${TipoItemOrcamento.MATERIAL} ou ${TipoItemOrcamento.SERVICO}`,\n      )\n    }\n\n    // Converter e validar custo\n    const custoNumerico = typeof custo === 'number' ? custo : parseFloat(custo) || 0\n    if (custoNumerico < 0) {\n      throw new Error('O custo deve ser um número não negativo')\n    }\n\n    // Converter e validar quantidade\n    const quantidadeNumerica =\n      typeof quantidade === 'number' ? quantidade : parseFloat(quantidade) || 1\n    if (quantidadeNumerica <= 0) {\n      throw new Error('A quantidade deve ser um número maior que zero')\n    }\n\n    // Propriedades da entidade\n    this.Id = gerarGuid()\n    this.Numero = numero\n    this.Descricao = descricao.trim()\n    this.Tipo = tipo\n    this.Custo = custoNumerico\n    this.Quantidade = quantidadeNumerica\n    this.Unidade = unidade || 'UN'\n    this.Observacoes = (observacoes || '').trim()\n    this.DataCriacao = new Date()\n    this.DataUltimaAlteracao = new Date()\n  }\n\n  /**\n   * Calcula o valor total do item (custo × quantidade)\n   * @returns {number} O valor total do item\n   */\n  calcularValorTotal() {\n    return this.Custo * this.Quantidade\n  }\n\n  /**\n   * Atualiza a descrição do item\n   * @param {string} novaDescricao - Nova descrição do item\n   */\n  atualizarDescricao(novaDescricao) {\n    if (!novaDescricao || typeof novaDescricao !== 'string' || novaDescricao.trim().length === 0) {\n      throw new Error('A descrição é obrigatória e deve ser uma string não vazia')\n    }\n\n    this.Descricao = novaDescricao.trim()\n    this.DataUltimaAlteracao = new Date()\n  }\n\n  /**\n   * Atualiza o custo do item\n   * @param {number} novoCusto - Novo custo unitário do item\n   */\n  atualizarCusto(novoCusto) {\n    const custoNumerico = typeof novoCusto === 'number' ? novoCusto : parseFloat(novoCusto) || 0\n    if (custoNumerico < 0) {\n      throw new Error('O custo deve ser um número não negativo')\n    }\n\n    this.Custo = custoNumerico\n    this.DataUltimaAlteracao = new Date()\n  }\n\n  /**\n   * Atualiza a quantidade do item\n   * @param {number} novaQuantidade - Nova quantidade do item\n   */\n  atualizarQuantidade(novaQuantidade) {\n    const quantidadeNumerica =\n      typeof novaQuantidade === 'number' ? novaQuantidade : parseFloat(novaQuantidade) || 1\n    if (quantidadeNumerica <= 0) {\n      throw new Error('A quantidade deve ser um número maior que zero')\n    }\n\n    this.Quantidade = quantidadeNumerica\n    this.DataUltimaAlteracao = new Date()\n  }\n\n  /**\n   * Atualiza as observações do item\n   * @param {string} novasObservacoes - Novas observações do item\n   */\n  atualizarObservacoes(novasObservacoes) {\n    this.Observacoes = (novasObservacoes || '').trim()\n    this.DataUltimaAlteracao = new Date()\n  }\n\n  /**\n   * Atualiza o número sequencial do item\n   * @param {number} novoNumero - Novo número sequencial do item\n   */\n  atualizarNumero(novoNumero) {\n    if (novoNumero !== null && (typeof novoNumero !== 'number' || novoNumero <= 0)) {\n      throw new Error('O número deve ser um número positivo ou null')\n    }\n\n    this.Numero = novoNumero\n    this.DataUltimaAlteracao = new Date()\n  }\n\n  /**\n   * Verifica se o item é do tipo material\n   * @returns {boolean} True se for material\n   */\n  isMaterial() {\n    return this.Tipo === TipoItemOrcamento.MATERIAL\n  }\n\n  /**\n   * Verifica se o item é do tipo serviço\n   * @returns {boolean} True se for serviço\n   */\n  isServico() {\n    return this.Tipo === TipoItemOrcamento.SERVICO\n  }\n\n  /**\n   * Retorna uma representação em string do item\n   * @returns {string} Representação textual do item\n   */\n  toString() {\n    return `${this.Descricao} (${this.Tipo}) - ${this.Quantidade} ${this.Unidade} × R$ ${this.Custo.toFixed(2)} = R$ ${this.calcularValorTotal().toFixed(2)}`\n  }\n\n  /**\n   * Retorna uma cópia simples do objeto para serialização\n   * @returns {Object} Objeto simples com as propriedades da entidade\n   */\n  toJSON() {\n    return {\n      Id: this.Id,\n      Descricao: this.Descricao,\n      Tipo: this.Tipo,\n      Custo: this.Custo,\n      Quantidade: this.Quantidade,\n      Unidade: this.Unidade,\n      Observacoes: this.Observacoes,\n      DataCriacao: this.DataCriacao,\n      DataUltimaAlteracao: this.DataUltimaAlteracao,\n      ValorTotal: this.calcularValorTotal(),\n    }\n  }\n\n  /**\n   * Cria uma instância a partir de um objeto simples\n   * @param {Object} obj - Objeto com as propriedades da entidade\n   * @returns {ItemOrcamento} Nova instância da entidade\n   */\n  static fromJSON(obj) {\n    const item = new ItemOrcamento(\n      obj.Descricao,\n      obj.Tipo,\n      obj.Custo,\n      obj.Quantidade,\n      obj.Unidade,\n      obj.Observacoes,\n    )\n\n    // Preserva IDs e datas se existirem\n    if (obj.Id) item.Id = obj.Id\n    if (obj.DataCriacao) item.DataCriacao = new Date(obj.DataCriacao)\n    if (obj.DataUltimaAlteracao) item.DataUltimaAlteracao = new Date(obj.DataUltimaAlteracao)\n\n    return item\n  }\n}\n","/**\n * Enum que representa os possíveis status de um orçamento.\n * @readonly\n * @enum {string}\n */\nexport const StatusOrcamento = {\n  /** Orçamento em elaboração */\n  RASCUNHO: 'RASCUNHO',\n  /** Orçamento enviado para o cliente */\n  ENVIADO: 'ENVIADO',\n  /** Orçamento aprovado pelo cliente */\n  APROVADO: 'APROVADO',\n  /** Orçamento recusado pelo cliente */\n  RECUSADO: 'RECUSADO',\n  /** Orçamento expirado (fora do prazo de validade) */\n  EXPIRADO: 'EXPIRADO',\n  /** Orçamento cancelado */\n  CANCELADO: 'CANCELADO',\n}\n","import { gerarGuid } from '../utils/guid'\nimport { Cliente } from './cliente'\nimport { Imovel } from './imovel'\nimport { ItemOrcamento } from './itemOrcamento'\nimport { PacoteServico } from './pacoteServico'\nimport { StatusOrcamento } from '../enums/statusOrcamento'\nimport { TipoItemOrcamento } from '../enums/tipoItemOrcamento'\n\n/**\n * Classe que representa um Orçamento.\n */\nexport class Orcamento {\n  /**\n   * @param {number} numeroOrcamento - Número sequencial do orçamento\n   * @param {Cliente} cliente - Cliente para o qual o orçamento está sendo feito\n   * @param {Imovel} imovel - Imóvel onde os serviços serão prestados\n   * @param {PacoteServico|null} pacoteServico - Pacote de serviço base para o orçamento (pode ser null)\n   * @param {string} frequenciaDesejada - Frequência desejada para execução dos serviços\n   * @param {number} quantidadeProfissionais - Quantidade sugerida de profissionais\n   * @param {number} estimativaHoras - Estimativa de horas necessárias para o serviço\n   * @param {number} descontos - Valor dos descontos aplicados\n   * @param {number} impostosTaxas - Valor dos impostos e taxas\n   * @param {Date} validade - Data limite de validade do orçamento\n   */\n  constructor(\n    numeroOrcamento,\n    cliente,\n    imovel,\n    pacoteServico,\n    frequenciaDesejada,\n    quantidadeProfissionais,\n    estimativaHoras,\n    descontos = 0,\n    impostosTaxas = 0,\n    validade = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000), // 30 dias por padrão\n  ) {\n    this.Id = gerarGuid()\n    this.NumeroOrcamento = numeroOrcamento\n    this.DataEmissao = new Date()\n\n    if (!(cliente instanceof Cliente)) {\n      throw new Error('O cliente fornecido não é uma instância válida da classe Cliente')\n    }\n    this.Cliente = cliente\n\n    if (!(imovel instanceof Imovel)) {\n      throw new Error('O imóvel fornecido não é uma instância válida da classe Imovel')\n    }\n    this.Imovel = imovel\n\n    /** @type {ItemOrcamento[]} */\n    this.Itens = []\n\n    this.definirPacoteServico(pacoteServico)\n\n    this.FrequenciaDesejada = frequenciaDesejada\n    this.QuantidadeProfissionais = quantidadeProfissionais\n    this.EstimativaHoras = estimativaHoras\n    this.Descontos = descontos\n    this.ImpostosTaxas = impostosTaxas\n    this.Validade = validade\n    this.Status = StatusOrcamento.RASCUNHO\n  }\n\n  /**\n   * Adiciona um item ao orçamento\n   * @param {ItemOrcamento} item - O item de orçamento a ser adicionado\n   */\n  adicionarItem(item) {\n    if (!(item instanceof ItemOrcamento)) {\n      throw new Error('O item fornecido não é uma instância válida da classe ItemOrcamento')\n    }\n    this.Itens.push(item)\n  }\n\n  /**\n   * Remove um item do orçamento\n   * @param {ItemOrcamento} item - O item de orçamento a ser removido\n   */\n  removerItem(item) {\n    const index = this.Itens.indexOf(item)\n    if (index > -1) {\n      this.Itens.splice(index, 1)\n    }\n  }\n\n  /**\n   * Remove um item do orçamento por ID\n   * @param {string} itemId - O ID do item a ser removido\n   */\n  removerItemPorId(itemId) {\n    const index = this.Itens.findIndex((item) => item.Id === itemId)\n    if (index > -1) {\n      this.Itens.splice(index, 1)\n    }\n  }\n\n  /**\n   * Obtém todos os itens do tipo material\n   * @returns {ItemOrcamento[]} Array com os itens de material\n   */\n  obterItensMaterial() {\n    return this.Itens.filter((item) => item.Tipo === TipoItemOrcamento.MATERIAL)\n  }\n\n  /**\n   * Obtém todos os itens do tipo serviço\n   * @returns {ItemOrcamento[]} Array com os itens de serviço\n   */\n  obterItensServico() {\n    return this.Itens.filter((item) => item.Tipo === TipoItemOrcamento.SERVICO)\n  }\n\n  /**\n   * Busca um item por ID\n   * @param {string} itemId - O ID do item a ser buscado\n   * @returns {ItemOrcamento|undefined} O item encontrado ou undefined\n   */\n  buscarItemPorId(itemId) {\n    return this.Itens.find((item) => item.Id === itemId)\n  }\n\n  /**\n   * Calcula o subtotal do orçamento (soma de todos os itens)\n   * @returns {number} O valor do subtotal\n   */\n  get Subtotal() {\n    return this.Itens.reduce((total, item) => total + item.calcularValorTotal(), 0)\n  }\n\n  /**\n   * Calcula o subtotal apenas dos materiais\n   * @returns {number} O valor do subtotal dos materiais\n   */\n  get SubtotalMateriais() {\n    return this.obterItensMaterial().reduce((total, item) => total + item.calcularValorTotal(), 0)\n  }\n\n  /**\n   * Calcula o subtotal apenas dos serviços\n   * @returns {number} O valor do subtotal dos serviços\n   */\n  get SubtotalServicos() {\n    return this.obterItensServico().reduce((total, item) => total + item.calcularValorTotal(), 0)\n  }\n\n  /**\n   * Calcula o valor total do orçamento (subtotal - descontos + impostos)\n   * @returns {number} O valor total\n   */\n  get ValorTotal() {\n    return this.Subtotal - this.Descontos + this.ImpostosTaxas\n  }\n\n  /**\n   * Verifica se o orçamento está expirado\n   * @returns {boolean} true se estiver expirado, false caso contrário\n   */\n  get EstaExpirado() {\n    return new Date() > this.Validade\n  }\n\n  /**\n   * Atualiza o status do orçamento\n   * @param {string} novoStatus - O novo status do orçamento (usar valores do enum StatusOrcamento)\n   */\n  atualizarStatus(novoStatus) {\n    if (!Object.values(StatusOrcamento).includes(novoStatus)) {\n      throw new Error('Status inválido')\n    }\n    this.Status = novoStatus\n  }\n\n  /**\n   * Define o pacote de serviço e atualiza os itens com base nele\n   * @param {PacoteServico|null} pacoteServico - O pacote de serviço a ser definido ou null\n   */\n  definirPacoteServico(pacoteServico) {\n    // Se o pacote for null, apenas limpa os itens e define como null\n    if (!pacoteServico) {\n      this.Itens = []\n      this.PacoteServico = null\n      return\n    }\n\n    if (!(pacoteServico instanceof PacoteServico)) {\n      throw new Error(\n        'O pacote de serviço fornecido não é uma instância válida da classe PacoteServico',\n      )\n    }\n\n    console.log('Definindo pacote de serviço:', pacoteServico.Descricao)\n    console.log('ItensMaterial:', pacoteServico.ItensMaterial)\n    console.log('ItensServico:', pacoteServico.ItensServico)\n\n    // Limpa os itens atuais\n    this.Itens = []\n\n    // Converte os itens do pacote para ItemOrcamento\n    if (pacoteServico.ItensServico) {\n      pacoteServico.ItensServico.forEach((itemServico) => {\n        // Verificar se itemServico e Servico existem antes de acessar propriedades\n        if (!itemServico || !itemServico.Servico) {\n          console.warn('Item de serviço inválido encontrado no pacote de serviço:', itemServico)\n          return // Pular este item\n        }\n\n        const item = new ItemOrcamento(\n          itemServico.Servico.Descricao || 'Serviço',\n          TipoItemOrcamento.SERVICO,\n          itemServico.Servico.CustoUnitario || 0,\n          itemServico.Quantidade || 1,\n          itemServico.Servico.Unidade || 'UN',\n          itemServico.Servico.Observacao || '',\n        )\n        this.adicionarItem(item)\n      })\n    }\n\n    if (pacoteServico.ItensMaterial) {\n      pacoteServico.ItensMaterial.forEach((itemMaterial) => {\n        // Verificar se itemMaterial e Material existem antes de acessar propriedades\n        if (!itemMaterial || !itemMaterial.Material) {\n          console.warn('Item de material inválido encontrado no pacote de serviço:', itemMaterial)\n          return // Pular este item\n        }\n\n        const item = new ItemOrcamento(\n          itemMaterial.Material.Descricao || 'Material',\n          TipoItemOrcamento.MATERIAL,\n          itemMaterial.CustoUnitario || 0,\n          itemMaterial.Quantidade || 1,\n          itemMaterial.Material.Unidade || 'UN',\n          itemMaterial.Observacao || '',\n        )\n        this.adicionarItem(item)\n      })\n    }\n\n    this.PacoteServico = pacoteServico\n  }\n}\n","/**\n * Repositório para gerenciar orçamentos no localStorage\n */\nexport class OrcamentoRepository {\n  constructor() {\n    this.storageKey = 'ecleaner_orcamentos'\n  }\n\n  /**\n   * Salva todos os orçamentos\n   */\n  salvarTodos(orcamentos) {\n    const orcamentosJson = orcamentos.map((orcamento) => this._orcamentoToJson(orcamento))\n    localStorage.setItem(this.storageKey, JSON.stringify(orcamentosJson))\n  }\n\n  /**\n   * Busca todos os orçamentos\n   */\n  buscarTodos() {\n    const orcamentosJson = JSON.parse(localStorage.getItem(this.storageKey) || '[]')\n    return orcamentosJson.map((orcamentoData) => this._jsonToOrcamento(orcamentoData))\n  }\n\n  /**\n   * Busca orçamento por ID\n   */\n  buscarPorId(id) {\n    const orcamentos = this.buscarTodos()\n    return orcamentos.find((orcamento) => orcamento.Id === id)\n  }\n\n  /**\n   * Adiciona um novo orçamento\n   */\n  adicionar(orcamento) {\n    const orcamentos = this.buscarTodos()\n\n    // Garantir que tem um ID único\n    if (!orcamento.Id || orcamento.Id === null) {\n      orcamento.Id = this._gerarId()\n    }\n\n    // Verificar se já existe um orçamento com o mesmo ID\n    const existeOrcamento = orcamentos.find((o) => o.Id === orcamento.Id)\n    if (existeOrcamento) {\n      throw new Error(`Orçamento com ID ${orcamento.Id} já existe`)\n    }\n\n    // Adicionar timestamp de criação\n    orcamento.CriadoEm = new Date().toISOString()\n    orcamento.AtualizadoEm = new Date().toISOString()\n\n    orcamentos.push(orcamento)\n    this.salvarTodos(orcamentos)\n\n    return orcamento\n  }\n\n  /**\n   * Atualiza um orçamento existente\n   */\n  atualizar(orcamento) {\n    console.log('Repository atualizar - Recebendo orçamento:', orcamento)\n    console.log('Repository atualizar - ID do orçamento:', orcamento.Id)\n\n    const orcamentos = this.buscarTodos()\n    const indice = orcamentos.findIndex((o) => o.Id === orcamento.Id)\n\n    if (indice === -1) {\n      throw new Error(`Orçamento com ID ${orcamento.Id} não encontrado`)\n    }\n\n    // Manter data de criação original e atualizar data de modificação\n    orcamento.CriadoEm = orcamentos[indice].CriadoEm\n    orcamento.AtualizadoEm = new Date().toISOString()\n\n    orcamentos[indice] = orcamento\n    this.salvarTodos(orcamentos)\n\n    return orcamento\n  }\n\n  /**\n   * Remove um orçamento\n   */\n  remover(id) {\n    const orcamentos = this.buscarTodos()\n    const indice = orcamentos.findIndex((o) => o.Id === id)\n\n    if (indice === -1) {\n      throw new Error(`Orçamento com ID ${id} não encontrado`)\n    }\n\n    const orcamentoRemovido = orcamentos.splice(indice, 1)[0]\n    this.salvarTodos(orcamentos)\n\n    return orcamentoRemovido\n  }\n\n  /**\n   * Gera um ID único para novos orçamentos\n   */\n  _gerarId() {\n    return `orc_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n  }\n\n  /**\n   * Converte orçamento para JSON serializable\n   */\n  _orcamentoToJson(orcamento) {\n    return {\n      Id: orcamento.Id,\n      NumeroOrcamento: orcamento.NumeroOrcamento,\n      DataEmissao: orcamento.DataEmissao,\n      Validade: orcamento.Validade,\n      Status: orcamento.Status,\n      Cliente: orcamento.Cliente,\n      Imovel: orcamento.Imovel,\n      PacoteServico: orcamento.PacoteServico,\n      Itens: orcamento.Itens || [],\n      FrequenciaDesejada: orcamento.FrequenciaDesejada,\n      QuantidadeProfissionais: orcamento.QuantidadeProfissionais,\n      EstimativaHoras: orcamento.EstimativaHoras,\n      Descontos: orcamento.Descontos || 0,\n      ImpostosTaxas: orcamento.ImpostosTaxas || 0,\n      ValorTotal: orcamento.ValorTotal || 0,\n      Observacoes: orcamento.Observacoes || '',\n      CriadoEm: orcamento.CriadoEm || new Date().toISOString(),\n      AtualizadoEm: orcamento.AtualizadoEm || new Date().toISOString(),\n    }\n  }\n\n  /**\n   * Converte JSON para instância de Orçamento\n   * Nota: Esta é uma versão simplificada que não reconstrói completamente as instâncias\n   * das classes relacionadas, mas preserva os dados para exibição\n   */\n  _jsonToOrcamento(data) {\n    // Para fins de listagem e edição, retornamos um objeto simples\n    // que será convertido para instância Orcamento quando necessário\n    return {\n      Id: data.Id,\n      NumeroOrcamento: data.NumeroOrcamento,\n      DataEmissao: data.DataEmissao,\n      Validade: data.Validade,\n      Status: data.Status,\n      Cliente: data.Cliente,\n      Imovel: data.Imovel,\n      PacoteServico: data.PacoteServico,\n      Itens: data.Itens || [],\n      FrequenciaDesejada: data.FrequenciaDesejada,\n      QuantidadeProfissionais: data.QuantidadeProfissionais,\n      EstimativaHoras: data.EstimativaHoras,\n      Descontos: data.Descontos || 0,\n      ImpostosTaxas: data.ImpostosTaxas || 0,\n      ValorTotal: data.ValorTotal || 0,\n      Observacoes: data.Observacoes || '',\n      CriadoEm: data.CriadoEm,\n      AtualizadoEm: data.AtualizadoEm,\n    }\n  }\n}\n\n// Instância singleton do repositório\nexport const orcamentoRepository = new OrcamentoRepository()\n","import { defineStore } from 'pinia'\nimport { Orcamento } from '@/core/domain/entities/orcamento'\nimport { ItemOrcamento } from '@/core/domain/entities/itemOrcamento'\nimport { orcamentoRepository } from '@/core/infrastructure/repositories/orcamentoRepository'\nimport { StatusOrcamento } from '@/core/domain/enums/statusOrcamento'\n\nexport const useOrcamentoStore = defineStore('orcamento', {\n  state: () => ({\n    orcamentos: [],\n    loading: false,\n    error: null,\n  }),\n\n  actions: {\n    async fetchOrcamentos() {\n      this.loading = true\n      try {\n        // Buscar orçamentos do repositório\n        this.orcamentos = orcamentoRepository.buscarTodos()\n        this.error = null\n      } catch (e) {\n        this.error = e.message\n        throw e\n      } finally {\n        this.loading = false\n      }\n    },\n\n    // Alias para compatibilidade com a página de listagem\n    async loadOrcamentos() {\n      return this.fetchOrcamentos()\n    },\n\n    async addOrcamento(orcamento) {\n      this.loading = true\n      try {\n        // Criar instância do orçamento\n        const novoOrcamento = new Orcamento(\n          orcamento.NumeroOrcamento,\n          orcamento.Cliente,\n          orcamento.Imovel,\n          null, // PacoteServico no construtor = null - será definido como propriedade separada\n          orcamento.FrequenciaDesejada,\n          orcamento.QuantidadeProfissionais,\n          orcamento.EstimativaHoras,\n          orcamento.Descontos,\n          orcamento.ImpostosTaxas,\n          orcamento.Validade,\n        )\n\n        // Copiar campos adicionais\n        novoOrcamento.DataEmissao = orcamento.DataEmissao\n        novoOrcamento.Status = orcamento.Status\n        novoOrcamento.Observacoes = orcamento.Observacoes || ''\n\n        // Salvar ID do pacote de serviços (apenas o ID, não o objeto completo)\n        if (orcamento.PacoteServico) {\n          novoOrcamento.PacoteServico = orcamento.PacoteServico // Já deve vir apenas o ID\n        }\n\n        // Adicionar itens do orçamento se existirem\n        if (orcamento.ItensOrcamento && Array.isArray(orcamento.ItensOrcamento)) {\n          console.log('Store addOrcamento - Adicionando itens:', orcamento.ItensOrcamento)\n          orcamento.ItensOrcamento.forEach((item) => {\n            if (item && typeof item === 'object') {\n              console.log('Store addOrcamento - Processando item:', item)\n              try {\n                // Se não for uma instância de ItemOrcamento, criar uma nova instância\n                if (!(item instanceof ItemOrcamento)) {\n                  console.log('Store addOrcamento - Criando nova instância de ItemOrcamento')\n                  const itemOrcamento = new ItemOrcamento(\n                    item.Descricao || item.descricao || 'Item',\n                    item.Tipo || item.tipo,\n                    item.Custo || item.custo || 0,\n                    item.Quantidade || item.quantidade || 1,\n                    item.Unidade || item.unidade || 'UN',\n                    item.Observacoes || item.observacoes || '',\n                    item.Numero || item.numero,\n                  )\n                  // Preservar ID se existir\n                  if (item.Id || item.id) {\n                    itemOrcamento.Id = item.Id || item.id\n                  }\n                  novoOrcamento.adicionarItem(itemOrcamento)\n                } else {\n                  novoOrcamento.adicionarItem(item)\n                }\n              } catch (error) {\n                console.error('Erro ao adicionar item:', error, item)\n              }\n            }\n          })\n        }\n\n        // Salvar no repositório\n        const orcamentoSalvo = orcamentoRepository.adicionar(novoOrcamento)\n\n        // Atualizar store\n        this.orcamentos.push(orcamentoSalvo)\n        this.error = null\n\n        return orcamentoSalvo\n      } catch (e) {\n        this.error = e.message\n        throw e\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async updateOrcamento(orcamento) {\n      this.loading = true\n      try {\n        console.log('Store updateOrcamento - Recebendo orçamento:', orcamento)\n        console.log('Store updateOrcamento - ID do orçamento:', orcamento.Id)\n\n        // Criar instância do orçamento\n        const orcamentoAtualizado = new Orcamento(\n          orcamento.NumeroOrcamento,\n          orcamento.Cliente,\n          orcamento.Imovel,\n          null, // PacoteServico no construtor = null - será definido como propriedade separada\n          orcamento.FrequenciaDesejada,\n          orcamento.QuantidadeProfissionais,\n          orcamento.EstimativaHoras,\n          orcamento.Descontos,\n          orcamento.ImpostosTaxas,\n          orcamento.Validade,\n        )\n\n        // Copiar campos adicionais\n        orcamentoAtualizado.Id = orcamento.Id\n        console.log(\n          'Store updateOrcamento - Copiando ID:',\n          orcamento.Id,\n          'para orcamentoAtualizado.Id:',\n          orcamentoAtualizado.Id,\n        )\n        orcamentoAtualizado.DataEmissao = orcamento.DataEmissao\n        orcamentoAtualizado.Status = orcamento.Status\n        orcamentoAtualizado.Observacoes = orcamento.Observacoes || ''\n\n        // Salvar ID do pacote de serviços (apenas o ID, não o objeto completo)\n        if (orcamento.PacoteServico) {\n          orcamentoAtualizado.PacoteServico = orcamento.PacoteServico // Já deve vir apenas o ID\n        }\n\n        // Adicionar itens do orçamento se existirem\n        if (orcamento.ItensOrcamento && Array.isArray(orcamento.ItensOrcamento)) {\n          console.log('Store updateOrcamento - Atualizando itens:', orcamento.ItensOrcamento)\n          orcamento.ItensOrcamento.forEach((item) => {\n            if (item && typeof item === 'object') {\n              console.log('Store updateOrcamento - Processando item:', item)\n              try {\n                // Se não for uma instância de ItemOrcamento, criar uma nova instância\n                if (!(item instanceof ItemOrcamento)) {\n                  console.log('Store updateOrcamento - Criando nova instância de ItemOrcamento')\n                  const itemOrcamento = new ItemOrcamento(\n                    item.Descricao || item.descricao || 'Item',\n                    item.Tipo || item.tipo,\n                    item.Custo || item.custo || 0,\n                    item.Quantidade || item.quantidade || 1,\n                    item.Unidade || item.unidade || 'UN',\n                    item.Observacoes || item.observacoes || '',\n                    item.Numero || item.numero,\n                  )\n                  // Preservar ID se existir\n                  if (item.Id || item.id) {\n                    itemOrcamento.Id = item.Id || item.id\n                  }\n                  orcamentoAtualizado.adicionarItem(itemOrcamento)\n                } else {\n                  orcamentoAtualizado.adicionarItem(item)\n                }\n              } catch (error) {\n                console.error('Erro ao adicionar item:', error, item)\n              }\n            }\n          })\n        }\n\n        // Atualizar no repositório\n        console.log('Store updateOrcamento - Enviando para repository:', orcamentoAtualizado)\n        const orcamentoSalvo = orcamentoRepository.atualizar(orcamentoAtualizado)\n\n        // Atualizar store\n        const index = this.orcamentos.findIndex((o) => o.Id === orcamento.Id)\n        if (index !== -1) {\n          this.orcamentos[index] = orcamentoSalvo\n        }\n        this.error = null\n\n        return orcamentoSalvo\n      } catch (e) {\n        this.error = e.message\n        throw e\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async deleteOrcamento(id) {\n      this.loading = true\n      try {\n        // Remover do repositório\n        orcamentoRepository.remover(id)\n\n        // Atualizar store\n        this.orcamentos = this.orcamentos.filter((o) => o.Id !== id)\n        this.error = null\n      } catch (e) {\n        this.error = e.message\n        throw e\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async updateStatusOrcamento(id, novoStatus) {\n      try {\n        const orcamento = this.orcamentos.find((o) => o.Id === id)\n        if (orcamento) {\n          orcamento.atualizarStatus(novoStatus)\n        }\n        this.error = null\n      } catch (e) {\n        this.error = e.message\n        throw e\n      }\n    },\n\n    getOrcamentoById(id) {\n      // Primeiro tentar encontrar no store em memória\n      let orcamento = this.orcamentos.find((o) => o.Id === id)\n\n      // Se não encontrou, buscar no repositório\n      if (!orcamento) {\n        orcamento = orcamentoRepository.buscarPorId(id)\n      }\n\n      return orcamento\n    },\n\n    getProximoNumero() {\n      if (this.orcamentos.length === 0) {\n        return 1\n      }\n      const ultimoNumero = Math.max(...this.orcamentos.map((o) => o.NumeroOrcamento))\n      return ultimoNumero + 1\n    },\n  },\n\n  getters: {\n    totalOrcamentos: (state) => state.orcamentos.length,\n\n    orcamentosSorted: (state) => {\n      return [...state.orcamentos].sort((a, b) => {\n        return new Date(b.DataEmissao) - new Date(a.DataEmissao)\n      })\n    },\n\n    orcamentosPorStatus: (state) => (status) => {\n      return state.orcamentos.filter((orcamento) => orcamento.Status === status)\n    },\n\n    orcamentosExpirados: (state) => {\n      return state.orcamentos.filter((orcamento) => orcamento.EstaExpirado)\n    },\n\n    valorTotalOrcamentos: (state) => {\n      return state.orcamentos.reduce((total, orcamento) => total + orcamento.ValorTotal, 0)\n    },\n\n    estatisticasPorStatus: (state) => {\n      const stats = {}\n      Object.values(StatusOrcamento).forEach((status) => {\n        stats[status] = state.orcamentos.filter((o) => o.Status === status).length\n      })\n      return stats\n    },\n  },\n})\n"],"names":[],"mappings":"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"}